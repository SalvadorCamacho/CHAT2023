(self.webpackChunkCHAT2023=self.webpackChunkCHAT2023||[]).push([[179],{6217:(cn,gt,$)=>{"use strict";$.d(gt,{nm:()=>zr});var a=$(2122);$(4650),$(259);var ot=$(5861),et=$(9681),Qe=$(4859),Pe=$(2090),Oe=$(1877);const J=new Map,Xe={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function Ge(rt){return J.get(rt)||Object.assign({},Xe)}function it(){return Fe}const je="https://content-firebaseappcheck.googleapis.com/v1",we="exchangeDebugToken",Ee={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Je{constructor(qe,mt,Ut,rn,En){if(this.operation=qe,this.retryPolicy=mt,this.getWaitDuration=Ut,this.lowerBound=rn,this.upperBound=En,this.pending=null,this.nextErrorWaitInterval=rn,rn>En)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(qe){var mt=this;return(0,ot.Z)(function*(){mt.stop();try{mt.pending=new Pe.BH,yield function W(rt){return new Promise(qe=>{setTimeout(qe,rt)})}(mt.getNextRun(qe)),mt.pending.resolve(),yield mt.pending.promise,mt.pending=new Pe.BH,yield mt.operation(),mt.pending.resolve(),yield mt.pending.promise,mt.process(!0).catch(()=>{})}catch(Ut){mt.retryPolicy(Ut)?mt.process(!1).catch(()=>{}):mt.stop()}})()}getNextRun(qe){if(qe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const mt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),mt}}}const ze=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Rt(rt,qe){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,ot.Z)(function*({url:rt,body:qe},mt){const Ut={"Content-Type":"application/json"},rn=mt.getImmediate({optional:!0});if(rn){const Mi=yield rn.getHeartbeatsHeader();Mi&&(Ut["X-Firebase-Client"]=Mi)}const En={method:"POST",body:JSON.stringify(qe),headers:Ut};let sr,kr;try{sr=yield fetch(rt,En)}catch(Mi){throw ze.create("fetch-network-error",{originalErrorMessage:null==Mi?void 0:Mi.message})}if(200!==sr.status)throw ze.create("fetch-status-error",{httpStatus:sr.status});try{kr=yield sr.json()}catch(Mi){throw ze.create("fetch-parse-error",{originalErrorMessage:null==Mi?void 0:Mi.message})}const vr=kr.ttl.match(/^([\d.]+)(s)$/);if(!vr||!vr[2]||isNaN(Number(vr[1])))throw ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kr.ttl}`});const ls=1e3*Number(vr[1]),ts=Date.now();return{token:kr.token,expireTimeMillis:ts+ls,issuedAtTimeMillis:ts}})).apply(this,arguments)}const ar="firebase-app-check-database",wr=1,Sr="firebase-app-check-store";let lr=null;function qn(rt,qe){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,ot.Z)(function*(rt,qe){const Ut=(yield function Yt(){return lr||(lr=new Promise((rt,qe)=>{try{const mt=indexedDB.open(ar,wr);mt.onsuccess=Ut=>{rt(Ut.target.result)},mt.onerror=Ut=>{var rn;qe(ze.create("storage-open",{originalErrorMessage:null===(rn=Ut.target.error)||void 0===rn?void 0:rn.message}))},mt.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(Sr,{keyPath:"compositeKey"})}}catch(mt){qe(ze.create("storage-open",{originalErrorMessage:null==mt?void 0:mt.message}))}}),lr)}()).transaction(Sr,"readwrite"),En=Ut.objectStore(Sr).put({compositeKey:rt,value:qe});return new Promise((sr,kr)=>{En.onsuccess=vr=>{sr()},Ut.onerror=vr=>{var ls;kr(ze.create("storage-set",{originalErrorMessage:null===(ls=vr.target.error)||void 0===ls?void 0:ls.message}))}})})).apply(this,arguments)}const pn=new Oe.Yd("@firebase/app-check");function ii(rt,qe){return(0,Pe.hl)()?function Pr(rt,qe){return qn(function ri(rt){return`${rt.options.appId}-${rt.name}`}(rt),qe)}(rt,qe).catch(mt=>{pn.warn(`Failed to write token to IndexedDB. Error: ${mt}`)}):Promise.resolve()}function ir(){return jn.apply(this,arguments)}function jn(){return(jn=(0,ot.Z)(function*(){const rt=it();if(rt.enabled&&rt.token)return rt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const an={error:"UNKNOWN_ERROR"};function $t(rt){return Pe.US.encodeString(JSON.stringify(rt),!1)}function yn(rt){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,ot.Z)(function*(rt,qe=!1){const mt=rt.app;!function xt(rt){if(!Ge(rt).activated)throw ze.create("use-before-activation",{appName:rt.name})}(mt);const Ut=Ge(mt);let En,rn=Ut.token;if(rn&&!We(rn)&&(Ut.token=void 0,rn=void 0),!rn){const vr=yield Ut.cachedTokenPromise;vr&&(We(vr)?rn=vr:yield ii(mt,void 0))}if(!qe&&rn&&We(rn))return{token:rn.token};let kr,sr=!1;if(function _r(){return it().enabled}()){Ut.exchangeTokenPromise||(Ut.exchangeTokenPromise=Rt(function on(rt,qe){const{projectId:mt,appId:Ut,apiKey:rn}=rt.options;return{url:`${je}/projects/${mt}/apps/${Ut}:${we}?key=${rn}`,body:{debug_token:qe}}}(mt,yield ir()),rt.heartbeatServiceProvider).finally(()=>{Ut.exchangeTokenPromise=void 0}),sr=!0);const vr=yield Ut.exchangeTokenPromise;return yield ii(mt,vr),Ut.token=vr,{token:vr.token}}try{Ut.exchangeTokenPromise||(Ut.exchangeTokenPromise=Ut.provider.getToken().finally(()=>{Ut.exchangeTokenPromise=void 0}),sr=!0),rn=yield Ge(mt).exchangeTokenPromise}catch(vr){"appCheck/throttled"===vr.code?pn.warn(vr.message):pn.error(vr),En=vr}return rn?En?kr=We(rn)?{token:rn.token,internalError:En}:Mt(En):(kr={token:rn.token},Ut.token=rn,yield ii(mt,rn)):kr=Mt(En),sr&&function Ie(rt,qe){const mt=Ge(rt).tokenObservers;for(const Ut of mt)try{"EXTERNAL"===Ut.type&&null!=qe.error?Ut.error(qe.error):Ut.next(qe)}catch(rn){}}(mt,kr),kr})).apply(this,arguments)}function Rn(rt,qe){const mt=Ge(rt),Ut=mt.tokenObservers.filter(rn=>rn.next!==qe);0===Ut.length&&mt.tokenRefresher&&mt.tokenRefresher.isRunning()&&mt.tokenRefresher.stop(),mt.tokenObservers=Ut}function Vr(rt){const{app:qe}=rt,mt=Ge(qe);let Ut=mt.tokenRefresher;Ut||(Ut=function xe(rt){const{app:qe}=rt;return new Je((0,ot.Z)(function*(){let Ut;if(Ut=Ge(qe).token?yield yn(rt,!0):yield yn(rt),Ut.error)throw Ut.error;if(Ut.internalError)throw Ut.internalError}),()=>!0,()=>{const mt=Ge(qe);if(mt.token){let Ut=mt.token.issuedAtTimeMillis+.5*(mt.token.expireTimeMillis-mt.token.issuedAtTimeMillis)+3e5;return Ut=Math.min(Ut,mt.token.expireTimeMillis-3e5),Math.max(0,Ut-Date.now())}return 0},Ee.RETRIAL_MIN_WAIT,Ee.RETRIAL_MAX_WAIT)}(rt),mt.tokenRefresher=Ut),!Ut.isRunning()&&mt.isTokenAutoRefreshEnabled&&Ut.start()}function We(rt){return rt.expireTimeMillis-Date.now()>0}function Mt(rt){return{token:$t(an),error:rt}}class yt{constructor(qe,mt){this.app=qe,this.heartbeatServiceProvider=mt}_delete(){const{tokenObservers:qe}=Ge(this.app);for(const mt of qe)Rn(this.app,mt.next);return Promise.resolve()}}const Jr="app-check-internal";!function Ai(){(0,et._registerComponent)(new Qe.wA("app-check",rt=>function hn(rt,qe){return new yt(rt,qe)}(rt.getProvider("app").getImmediate(),rt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((rt,qe,mt)=>{rt.getProvider(Jr).initialize()})),(0,et._registerComponent)(new Qe.wA(Jr,rt=>function Le(rt){return{getToken:qe=>yn(rt,qe),addTokenListener:qe=>function Ln(rt,qe,mt,Ut){const{app:rn}=rt,En=Ge(rn);if(En.tokenObservers=[...En.tokenObservers,{next:mt,error:Ut,type:qe}],En.token&&We(En.token)){const kr=En.token;Promise.resolve().then(()=>{mt({token:kr.token}),Vr(rt)}).catch(()=>{})}En.cachedTokenPromise.then(()=>Vr(rt))}(rt,"INTERNAL",qe),removeTokenListener:qe=>Rn(rt.app,qe)}}(rt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,et.registerVersion)("@firebase/app-check","0.6.4")}();class zr{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},1205:(cn,gt,$)=>{"use strict";$.d(gt,{zQ:()=>je,ww:()=>pt,rT:()=>Fe,f7:()=>Ke,L6:()=>J,_Q:()=>Xe,lh:()=>Ge,Qv:()=>Oe,nw:()=>it});var a=$(4650),te=$(7579),z=$(9646),Se=$(9751),Me=$(8996),Te=$(6451),de=$(5363),Ae=$(3900),Ve=$(4004),ge=$(6063);class fe extends te.x{constructor(we=1/0,Ee=1/0,be=ge.l){super(),this._bufferSize=we,this._windowTime=Ee,this._timestampProvider=be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ee===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,Ee)}next(we){const{isStopped:Ee,_buffer:be,_infiniteTimeWindow:Je,_timestampProvider:W,_windowTime:nt}=this;Ee||(be.push(we),!Je&&be.push(W.now()+nt)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const Ee=this._innerSubscribe(we),{_infiniteTimeWindow:be,_buffer:Je}=this,W=Je.slice();for(let nt=0;nt<W.length&&!we.closed;nt+=be?1:2)we.next(W[nt]);return this._checkFinalizedStatuses(we),Ee}_trimBuffer(){const{_bufferSize:we,_timestampProvider:Ee,_buffer:be,_infiniteTimeWindow:Je}=this,W=(Je?1:2)*we;if(we<1/0&&W<be.length&&be.splice(0,be.length-W),!Je){const nt=Ee.now();let ze=0;for(let Nt=1;Nt<be.length&&be[Nt]<=nt;Nt+=2)ze=Nt;ze&&be.splice(0,ze+1)}}}var pe=$(3099);function ke(tt,we,Ee){let be,Je=!1;return tt&&"object"==typeof tt?({bufferSize:be=1/0,windowTime:we=1/0,refCount:Je=!1,scheduler:Ee}=tt):be=null!=tt?tt:1/0,(0,pe.B)({connector:()=>new fe(be,we,Ee),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Je})}var Ue=$(590),lt=$(576);function St(tt,we){return(0,lt.m)(we)?(0,Ae.w)(()=>tt,we):(0,Ae.w)(()=>tt)}var Re=$(9468),_e=$(9300),le=$(2122),at=$(2011),ot=$(6895),et=$(6217),Qe=$(9260);const Oe=new a.OlP("angularfire2.auth.use-emulator"),J=new a.OlP("angularfire2.auth.settings"),Xe=new a.OlP("angularfire2.auth.tenant-id"),Fe=new a.OlP("angularfire2.auth.langugage-code"),Ge=new a.OlP("angularfire2.auth.use-device-language"),Ke=new a.OlP("angularfire.auth.persistence"),it=(tt,we,Ee,be,Je,W,nt,ze)=>(0,at.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const Nt=we.runOutsideAngular(()=>tt.auth());if(Ee&&Nt.useEmulator(...Ee),be&&(Nt.tenantId=be),Nt.languageCode=Je,W&&Nt.useDeviceLanguage(),nt)for(const[xt,Pt]of Object.entries(nt))Nt.settings[xt]=Pt;return ze&&Nt.setPersistence(ze),Nt},[Ee,be,Je,W,nt,ze]);let je=(()=>{class tt{constructor(Ee,be,Je,W,nt,ze,Nt,xt,Pt,dn,Rt,Tn){const Sn=new te.x,Fn=(0,z.of)(void 0).pipe((0,de.Q)(nt.outsideAngular),(0,Ae.w)(()=>W.runOutsideAngular(()=>Promise.resolve().then($.bind($,4217)))),(0,Ve.U)(()=>(0,at.on)(Ee,W,be)),(0,Ve.U)(on=>it(on,W,ze,xt,Pt,dn,Nt,Rt)),ke({bufferSize:1,refCount:!1}));if((0,ot.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{Fn.pipe((0,Ue.P)()).subscribe();const ar=Fn.pipe((0,Ae.w)(Cn=>Cn.getRedirectResult().then(lr=>lr,()=>null)),le.iC,ke({bufferSize:1,refCount:!1})),wr=Fn.pipe((0,Ae.w)(Cn=>new Se.y(lr=>({unsubscribe:W.runOutsideAngular(()=>Cn.onAuthStateChanged(Yt=>lr.next(Yt),Yt=>lr.error(Yt),()=>lr.complete()))})))),Sr=Fn.pipe((0,Ae.w)(Cn=>new Se.y(lr=>({unsubscribe:W.runOutsideAngular(()=>Cn.onIdTokenChanged(Yt=>lr.next(Yt),Yt=>lr.error(Yt),()=>lr.complete()))}))));this.authState=ar.pipe(St(wr),(0,Re.R)(nt.outsideAngular),(0,de.Q)(nt.insideAngular)),this.user=ar.pipe(St(Sr),(0,Re.R)(nt.outsideAngular),(0,de.Q)(nt.insideAngular)),this.idToken=this.user.pipe((0,Ae.w)(Cn=>Cn?(0,Me.D)(Cn.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,Ae.w)(Cn=>Cn?(0,Me.D)(Cn.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,Te.T)(ar,Sn,this.authState.pipe((0,_e.h)(Cn=>!Cn))).pipe((0,Ve.U)(Cn=>null!=Cn&&Cn.user?Cn:null),(0,Re.R)(nt.outsideAngular),(0,de.Q)(nt.insideAngular))}return(0,at.pX)(this,Fn,W,{spy:{apply:(on,ar,wr)=>{(on.startsWith("signIn")||on.startsWith("createUser"))&&wr.then(Sr=>Sn.next(Sr))}}})}}return tt.\u0275fac=function(Ee){return new(Ee||tt)(a.LFG(at.Dh),a.LFG(at.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(le.HU),a.LFG(Oe,8),a.LFG(J,8),a.LFG(Xe,8),a.LFG(Fe,8),a.LFG(Ge,8),a.LFG(Ke,8),a.LFG(et.nm,8))},tt.\u0275prov=a.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"}),tt})(),pt=(()=>{class tt{constructor(){Qe.Z.registerVersion("angularfire",le.q4.full,"auth-compat")}}return tt.\u0275fac=function(Ee){return new(Ee||tt)},tt.\u0275mod=a.oAB({type:tt}),tt.\u0275inj=a.cJS({providers:[je]}),tt})()},3101:(cn,gt,$)=>{"use strict";$.d(gt,{ST:()=>iv,yb:()=>N_});var a=$(4650),te=$(4986),z=$(9751),Se=$(8996),Me=$(9646),Te=$(2122),de=$(8675),Ae=$(4482),Ve=$(5403);function ge(){return(0,Ae.e)((i,e)=>{let t,s=!1;i.subscribe((0,Ve.x)(e,c=>{const m=t;t=c,s&&e.next([m,c]),s=!0}))})}var J,fe=$(4004),pe=$(5026),ke=$(1884),Ue=$(9300),lt=$(2011),St=$(6895),_e=($(4217),$(3942)),le=$(5861),at=$(9681),ot=$(4859),et=$(1877),Qe=$(2090),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={},Xe=Xe||{},Fe=Pe||self;function Ge(){}function Ke(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function it(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function we(i,e,t){return i.call.apply(i.bind,arguments)}function Ee(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function be(i,e,t){return(be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?we:Ee).apply(null,arguments)}function Je(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function W(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,c,m){for(var C=Array(arguments.length-2),R=2;R<arguments.length;R++)C[R-2]=arguments[R];return e.prototype[c].apply(s,C)}}function nt(){this.s=this.s,this.o=this.o}nt.prototype.s=!1,nt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function je(i){Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++tt)}(this)},nt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function xt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Pt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ke(s)){const c=i.length||0,m=s.length||0;i.length=c+m;for(let C=0;C<m;C++)i[c+C]=s[C]}else i.push(s)}}function dn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Fe.addEventListener("test",Ge,e),Fe.removeEventListener("test",Ge,e)}catch(t){}return i}();function Tn(i){return/^[\s\xa0]*$/.test(i)}var Sn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Fn(i,e){return i<e?-1:i>e?1:0}function on(){var i=Fe.navigator;return i&&(i=i.userAgent)?i:""}function ar(i){return-1!=on().indexOf(i)}function wr(i){return wr[" "](i),i}wr[" "]=Ge;var qn,i,Cn=ar("Opera"),lr=ar("Trident")||ar("MSIE"),Yt=ar("Edge"),dr=Yt||lr,Pr=ar("Gecko")&&!(-1!=on().toLowerCase().indexOf("webkit")&&!ar("Edge"))&&!(ar("Trident")||ar("MSIE"))&&!ar("Edge"),$r=-1!=on().toLowerCase().indexOf("webkit")&&!ar("Edge");function Yr(){var i=Fe.document;return i?i.documentMode:void 0}e:{var Pn="",vn=(i=on(),Pr?/rv:([^\);]+)(\)|;)/.exec(i):Yt?/Edge\/([\d\.]+)/.exec(i):lr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):$r?/WebKit\/(\S+)/.exec(i):Cn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(vn&&(Pn=vn?vn[1]:""),lr){var bn=Yr();if(null!=bn&&bn>parseFloat(Pn)){qn=String(bn);break e}}qn=Pn}var ri={};var ii=Fe.document&&lr&&(Yr()||parseInt(qn,10))||void 0;function Ni(i,e){if(dn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Pr){e:{try{wr(e.nodeName);var c=!0;break e}catch(m){}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Cr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ni.X.h.call(this)}}W(Ni,dn);var Cr={2:"touch",3:"pen",4:"mouse"};Ni.prototype.h=function(){Ni.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var _r="closure_listenable_"+(1e6*Math.random()|0),ir=0;function jn(i,e,t,s,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=c,this.key=++ir,this.ba=this.ea=!1}function hi(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function an(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function $t(i){const e={};for(const t in i)e[t]=i[t];return e}const yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nn(i,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)i[t]=s[t];for(let m=0;m<yn.length;m++)t=yn[m],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Ln(i){this.src=i,this.g={},this.h=0}function Rn(i,e){var t=e.type;if(t in i.g){var m,s=i.g[t],c=Nt(s,e);(m=0<=c)&&Array.prototype.splice.call(s,c,1),m&&(hi(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Vr(i,e,t,s){for(var c=0;c<i.length;++c){var m=i[c];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==s)return c}return-1}Ln.prototype.add=function(i,e,t,s,c){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var C=Vr(i,e,s,c);return-1<C?(e=i[C],t||(e.ea=!1)):((e=new jn(e,this.src,m,!!s,c)).ea=t,i.push(e)),e};var xe="closure_lm_"+(1e6*Math.random()|0),Ie={};function We(i,e,t,s,c){if(s&&s.once)return hn(i,e,t,s,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)We(i,e[m],t,s,c);return null}return t=xn(t),i&&i[_r]?i.N(e,t,it(s)?!!s.capture:!!s,c):Mt(i,e,t,!1,s,c)}function Mt(i,e,t,s,c,m){if(!e)throw Error("Invalid event type");var C=it(c)?!!c.capture:!!c,R=Ot(i);if(R||(i[xe]=R=new Ln(i)),(t=R.add(e,t,s,C,m)).proxy)return t;if(s=function yt(){const e=vt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Rt||(c=C),void 0===c&&(c=!1),i.addEventListener(e.toString(),s,c);else if(i.attachEvent)i.attachEvent(me(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function hn(i,e,t,s,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)hn(i,e[m],t,s,c);return null}return t=xn(t),i&&i[_r]?i.O(e,t,it(s)?!!s.capture:!!s,c):Mt(i,e,t,!0,s,c)}function Le(i,e,t,s,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)Le(i,e[m],t,s,c);else s=it(s)?!!s.capture:!!s,t=xn(t),i&&i[_r]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Vr(m=i.g[e],t,s,c))&&(hi(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Ot(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vr(e,t,s,c)),(t=-1<i?e[i]:null)&&Be(t))}function Be(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[_r])Rn(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(me(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Ot(e))?(Rn(t,i),0==t.h&&(t.src=null,e[xe]=null)):hi(i)}}}function me(i){return i in Ie?Ie[i]:Ie[i]="on"+i}function vt(i,e){if(i.ba)i=!0;else{e=new Ni(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&Be(i),i=t.call(s,e)}return i}function Ot(i){return(i=i[xe])instanceof Ln?i:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(i){return"function"==typeof i?i:(i[Ht]||(i[Ht]=function(e){return i.handleEvent(e)}),i[Ht])}function zn(){nt.call(this),this.i=new Ln(this),this.P=this,this.I=null}function pr(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new dn(e,i);else if(e instanceof dn)e.target=e.target||i;else{var c=e;Nn(e=new dn(s,i),c)}if(c=!0,t)for(var m=t.length-1;0<=m;m--){var C=e.g=t[m];c=Ci(C,s,!0,e)&&c}if(c=Ci(C=e.g=i,s,!0,e)&&c,c=Ci(C,s,!1,e)&&c,t)for(m=0;m<t.length;m++)c=Ci(C=e.g=t[m],s,!1,e)&&c}function Ci(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var C=e[m];if(C&&!C.ba&&C.capture==t){var R=C.listener,H=C.ha||C.src;C.ea&&Rn(i.i,C),c=!1!==R.call(H,s)&&c}}return c&&!s.defaultPrevented}W(zn,nt),zn.prototype[_r]=!0,zn.prototype.removeEventListener=function(i,e,t,s){Le(this,i,e,t,s)},zn.prototype.M=function(){if(zn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)hi(t[s]);delete i.g[e],i.h--}}this.I=null},zn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},zn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var ki=Fe.JSON.stringify;function Ki(){var i=mi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Zn,Ei=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new xr,i=>i.reset());class xr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function is(i){Fe.setTimeout(()=>{throw i},0)}function Yi(i,e){Zn||function Xr(){var i=Fe.Promise.resolve(void 0);Zn=function(){i.then(si)}}(),Nr||(Zn(),Nr=!0),mi.add(i,e)}var Nr=!1,mi=new class fi{constructor(){this.h=this.g=null}add(e,t){const s=Ei.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function si(){for(var i;i=Ki();){try{i.h.call(i.g)}catch(t){is(t)}var e=Ei;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Nr=!1}function Mr(i,e){zn.call(this),this.h=i||1,this.g=e||Fe,this.j=be(this.lb,this),this.l=Date.now()}function fn(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Qn(i,e,t){if("function"==typeof i)t&&(i=be(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=be(i.handleEvent,i)}return 2147483647<Number(e)?-1:Fe.setTimeout(i,e||0)}function Hr(i){i.g=Qn(()=>{i.g=null,i.i&&(i.i=!1,Hr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}W(Mr,zn),(J=Mr.prototype).ca=!1,J.R=null,J.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pr(this,"tick"),this.ca&&(fn(this),this.start()))}},J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){Mr.X.M.call(this),fn(this),delete this.g};class Jr extends nt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hr(this)}M(){super.M(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(i){nt.call(this),this.h=i,this.g={}}W(Ai,nt);var di=[];function xi(i,e,t,s){Array.isArray(t)||(t&&(di[0]=t.toString()),t=di);for(var c=0;c<t.length;c++){var m=We(e,t[c],s||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function zr(i){an(i.g,function(e,t){this.g.hasOwnProperty(t)&&Be(e)},i),i.g={}}function ne(){this.g=!0}function ut(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ce(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var C=1;C<c.length;C++)c[C]=""}}}return ki(t)}catch(R){return e}}(i,t)+(s?" "+s:"")})}Ai.prototype.M=function(){Ai.X.M.call(this),zr(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ne.prototype.Aa=function(){this.g=!1},ne.prototype.info=function(){};var Ye={},dt=null;function wt(){return dt=dt||new zn}function Ft(i){dn.call(this,Ye.Pa,i)}function nn(i){const e=wt();pr(e,new Ft(e))}function Dn(i,e){dn.call(this,Ye.STAT_EVENT,i),this.stat=e}function Bn(i){const e=wt();pr(e,new Dn(e,i))}function Kn(i,e){dn.call(this,Ye.Qa,i),this.size=e}function yi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){i()},e)}Ye.Pa="serverreachability",W(Ft,dn),Ye.STAT_EVENT="statevent",W(Dn,dn),Ye.Qa="timingevent",W(Kn,dn);var rt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qe={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mt(){}function rn(){}mt.prototype.h=null;var vr,En={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function sr(){dn.call(this,"d")}function kr(){dn.call(this,"c")}function ls(){}function ts(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new Ai(this),this.O=ji,this.T=new Mr(i=dr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}W(sr,dn),W(kr,dn),W(ls,mt),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},vr=new ls;var ji=45e3,Ho={},Co={};function Qs(i,e,t){i.K=1,i.v=Fi(us(e)),i.s=t,i.P=!0,Ur(i,null)}function Ur(i,e){i.F=Date.now(),br(i),i.A=us(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),As(t.i,"t",s),i.C=0,t=i.l.H,i.h=new Mi,i.g=ho(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Jr(be(i.La,i,i.g),i.N)),xi(i.S,i.g,"readystatechange",i.ib),e=i.H?$t(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),nn(),function he(i,e,t,s,c,m){i.info(function(){if(i.g)if(m)for(var C="",R=m.split("&"),H=0;H<R.length;H++){var Z=R[H].split("=");if(1<Z.length){var ue=Z[0];Z=Z[1];var He=ue.split("_");C=2<=He.length&&"type"==He[1]?C+(ue+"=")+Z+"&":C+(ue+"=redacted&")}}else C=null;else C=m;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+C})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Fr(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function or(i,e,t){let c,s=!0;for(;!i.I&&i.C<t.length;){if(c=bi(i,t),c==Co){4==e&&(i.o=4,Bn(14),s=!1),ut(i.j,i.m,null,"[Incomplete Response]");break}if(c==Ho){i.o=4,Bn(15),ut(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}ut(i.j,i.m,c,null),Gr(i,c)}Fr(i)&&c!=Co&&c!=Ho&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Bn(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),tl(e),e.K=!0,Bn(11))):(ut(i.j,i.m,t,"[Invalid Chunked Response]"),gs(i),ps(i))}function bi(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Co:(t=Number(e.substring(t,s)),isNaN(t)?Ho:(s+=1)+t>e.length?Co:(e=e.substr(s,t),i.C=s+t,e))}function br(i){i.V=Date.now()+i.O,Xs(i,i.O)}function Xs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=yi(be(i.gb,i),e)}function Go(i){i.B&&(Fe.clearTimeout(i.B),i.B=null)}function ps(i){0==i.l.G||i.I||Iu(i.l,i)}function gs(i){Go(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,fn(i.T),zr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Gr(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Hs(t.h,i)))if(!i.J&&Hs(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch(Z){s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ya(t),na(t)}co(t),Bn(18)}}else t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=yi(be(t.cb,t),6e3));if(1>=oo(t.h)&&t.ja){try{t.ja()}catch(Z){}t.ja=void 0}}else zs(t,11)}else if((i.J||t.g==i)&&ya(t),!Tn(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Z=c[e];if(t.T=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.I=Z[1],t.ka=Z[2];const ue=Z[3];null!=ue&&(t.ma=ue,t.j.info("VER="+t.ma));const He=Z[4];null!=He&&(t.Ca=He,t.j.info("SVER="+t.Ca));const It=Z[5];null!=It&&"number"==typeof It&&0<It&&(t.J=s=1.5*It,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Kt=i.g;if(Kt){const tn=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tn){var m=s.h;m.g||-1==tn.indexOf("spdy")&&-1==tn.indexOf("quic")&&-1==tn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Di(m,m.h),m.h=null))}if(s.D){const Un=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Un&&(s.za=Un,Wr(s.F,s.D,Un))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=i;if((s=t).sa=os(s,s.H?s.ka:null,s.V),C.J){Oo(s.h,C);var R=C,H=s.J;H&&R.setTimeout(H),R.B&&(Go(R),br(R)),s.g=C}else Ha(s);0<t.i.length&&ma(t)}else"stop"!=Z[0]&&"close"!=Z[0]||zs(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?zs(t,7):uo(t):"noop"!=Z[0]&&t.l&&t.l.wa(Z),t.A=0)}nn()}catch(Z){}}function ga(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ke(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function oi(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ke(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function hr(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ke(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),c=s.length,m=0;m<c;m++)e.call(void 0,s[m],t&&t[m],i)}(J=ts.prototype).setTimeout=function(i){this.O=i},J.ib=function(i){i=i.target;const e=this.L;e&&3==Wn(i)?e.l():this.La(i)},J.La=function(i){try{if(i==this.g)e:{const ue=Wn(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ue)&&(3!=ue||dr||this.g&&(this.h.h||this.g.fa()||Or(this.g)))){this.I||4!=ue||7==e||nn(),Go(this);var t=this.g.aa();this.Y=t;t:if(Fr(this)){var s=Or(this.g);i="";var c=s.length,m=4==Wn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),ps(this);var C="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:m&&e==c-1});s.splice(0,c),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function Ne(i,e,t,s,c,m,C){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+m+" "+C})}(this.j,this.u,this.A,this.m,this.U,ue,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tn(R)){var Z=R;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Bn(12),gs(this),ps(this);break e}ut(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gr(this,t)}this.P?(or(this,ue,C),dr&&this.i&&3==ue&&(xi(this.S,this.T,"tick",this.hb),this.T.start())):(ut(this.j,this.m,C,null),Gr(this,C)),4==ue&&gs(this),this.i&&!this.I&&(4==ue?Iu(this.l,this):(this.i=!1,br(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),gs(this),ps(this)}}}catch(ue){}},J.hb=function(){if(this.g){var i=Wn(this.g),e=this.g.fa();this.C<e.length&&(Go(this),or(this,i,e),this.i&&4!=i&&br(this))}},J.cancel=function(){this.I=!0,gs(this)},J.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function bt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nn(),Bn(17)),gs(this),this.o=2,ps(this)):Xs(this,this.V-i)};var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ri){this.h=void 0!==e?e:i.h,bo(this,i.j),this.s=i.s,this.g=i.g,ns(this,i.m),this.l=i.l,e=i.i;var t=new ss;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cs(this,t),this.o=i.o}else i&&(t=String(i).match(js))?(this.h=!!e,bo(this,t[1]||"",!0),this.s=Js(t[2]||""),this.g=Js(t[3]||"",!0),ns(this,t[4]),this.l=Js(t[5]||"",!0),Cs(this,t[6]||"",!0),this.o=Js(t[7]||"")):(this.h=!!e,this.i=new ss(null,this.h))}function us(i){return new Ri(i)}function bo(i,e,t){i.j=t?Js(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ns(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Cs(i,e,t){e instanceof ss?(i.i=e,function Jo(i,e){e&&!i.j&&(ms(i),i.i=null,i.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(Dr(this,s),As(this,c,t))},i)),i.j=e}(i.i,i.h)):(t||(e=bs(e,Ss)),i.i=new ss(e,i.h))}function Wr(i,e,t){i.i.set(e,t)}function Fi(i){return Wr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Js(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function bs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,so),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function so(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ri.prototype.toString=function(){var i=[],e=this.j;e&&i.push(bs(e,cs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(bs(e,cs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(bs(t,"/"==t.charAt(0)?Ts:Ds,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",bs(t,Xn)),i.join("")};var cs=/[#\/\?@]/g,Ds=/[#\?:]/g,Ts=/[#\?]/g,Ss=/[#\?@]/g,Xn=/#/g;function ss(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ms(i){i.g||(i.g=new Map,i.h=0,i.i&&function Hi(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),c=null;if(0<=s){var m=i[t].substring(0,s);c=i[t].substring(s+1)}else m=i[t];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Dr(i,e){ms(i),e=qr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function qi(i,e){return ms(i),e=qr(i,e),i.g.has(e)}function As(i,e,t){Dr(i,e),0<t.length&&(i.i=null,i.g.set(qr(i,e),xt(t)),i.h+=t.length)}function qr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function xs(i){this.l=i||Oi,i=Fe.PerformanceNavigationTiming?0<(i=Fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ga&&Fe.g.Ga()&&Fe.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=ss.prototype).add=function(i,e){ms(this),this.i=null,i=qr(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},J.forEach=function(i,e){ms(this),this.g.forEach(function(t,s){t.forEach(function(c){i.call(e,c,s,this)},this)},this)},J.oa=function(){ms(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=i[s];for(let m=0;m<c.length;m++)t.push(e[s])}return t},J.W=function(i){ms(this);let e=[];if("string"==typeof i)qi(this,i)&&(e=e.concat(this.g.get(qr(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},J.set=function(i,e){return ms(this),this.i=null,qi(this,i=qr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},J.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const m=encodeURIComponent(String(s)),C=this.W(s);for(s=0;s<C.length;s++){var c=m;""!==C[s]&&(c+="="+encodeURIComponent(String(C[s]))),i.push(c)}}return this.i=i.join("&")};var Oi=10;function Ro(i){return!!i.h||!!i.g&&i.g.size>=i.j}function oo(i){return i.h?1:i.g?i.g.size:0}function Hs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Di(i,e){i.g?i.g.add(e):i.h=e}function Oo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ds(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return xt(i.i)}function nr(){}function zo(){this.g=new nr}function $a(i,e,t){const s=t||"";try{ga(i,function(c,m){let C=c;it(c)&&(C=ki(c)),e.push(s+m+"="+encodeURIComponent(C))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function ta(i,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch(m){}}function Zr(i){this.l=i.ac||null,this.j=i.jb||!1}function Gs(i,e){zn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ao,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xs.prototype.cancel=function(){if(this.i=ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},nr.prototype.stringify=function(i){return Fe.JSON.stringify(i,void 0)},nr.prototype.parse=function(i){return Fe.JSON.parse(i,void 0)},W(Zr,mt),Zr.prototype.g=function(){return new Gs(this.l,this.j)},Zr.prototype.i=function(i){return function(){return i}}({}),W(Gs,zn);var ao=0;function Po(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Wt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,fr(i)}function fr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(J=Gs.prototype).open=function(i,e){if(this.readyState!=ao)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,fr(this)},J.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=ao},J.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Po(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},J.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wt(this):fr(this),3==this.readyState&&Po(this)}},J.Va=function(i){this.g&&(this.response=this.responseText=i,Wt(this))},J.Ua=function(i){this.g&&(this.response=i,Wt(this))},J.ga=function(){this.g&&Wt(this)},J.setRequestHeader=function(i,e){this.v.append(i,e)},J.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var j=Fe.JSON.parse;function f(i){zn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=I,this.K=this.L=!1}W(f,zn);var I="",y=/^https?$/i,P=["POST","PUT"];function st(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,en(i),Gn(i)}function en(i){i.D||(i.D=!0,pr(i,"complete"),pr(i,"error"))}function _n(i){if(i.h&&typeof Xe<"u"&&(!i.C[1]||4!=Wn(i)||2!=i.aa()))if(i.v&&4==Wn(i))Qn(i.Ha,0,i);else if(pr(i,"readystatechange"),4==Wn(i)){i.h=!1;try{const R=i.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===R){var c=String(i.H).match(js)[1]||null;if(!c&&Fe.self&&Fe.self.location){var m=Fe.self.location.protocol;c=m.substr(0,m.length-1)}s=!y.test(c?c.toLowerCase():"")}t=s}if(t)pr(i,"complete"),pr(i,"success");else{i.m=6;try{var C=2<Wn(i)?i.g.statusText:""}catch(H){C=""}i.j=C+" ["+i.aa()+"]",en(i)}}finally{Gn(i)}}}function Gn(i,e){if(i.g){Rr(i);const t=i.g,s=i.C[0]?Ge:null;i.g=null,i.C=null,e||pr(i,"ready");try{t.onreadystatechange=s}catch(c){}}}function Rr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Fe.clearTimeout(i.A),i.A=null)}function Wn(i){return i.g?i.g.readyState:0}function Or(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case I:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Bi(i){let e="";return an(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Gi(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Bi(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Wr(i,e,t))}function ai(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function lo(i){this.Ca=0,this.i=[],this.j=new ne,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ai("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ai("baseRetryDelayMs",5e3,i),this.bb=ai("retryDelaySeedMs",1e4,i),this.$a=ai("forwardChannelMaxRetries",2,i),this.ta=ai("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new xs(i&&i.concurrentRequestLimit),this.Fa=new zo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function uo(i){if(Va(i),3==i.G){var e=i.U++,t=us(i.F);Wr(t,"SID",i.I),Wr(t,"RID",e),Wr(t,"TYPE","terminate"),Fs(i,t),(e=new ts(i,i.j,e,void 0)).K=2,e.v=Fi(us(t)),t=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(t=Fe.navigator.sendBeacon(e.v.toString(),"")),!t&&Fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=ho(e.l,null),e.g.da(e.v)),e.F=Date.now(),br(e)}Pl(i)}function na(i){i.g&&(tl(i),i.g.cancel(),i.g=null)}function Va(i){na(i),i.u&&(Fe.clearTimeout(i.u),i.u=null),ya(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Fe.clearTimeout(i.m),i.m=null)}function ma(i){Ro(i.h)||i.m||(i.m=!0,Yi(i.Ja,i),i.C=0)}function Ua(i,e){var t;t=e?e.m:i.U++;const s=us(i.F);Wr(s,"SID",i.I),Wr(s,"RID",t),Wr(s,"AID",i.T),Fs(i,s),i.o&&i.s&&Gi(s,i.o,i.s),t=new ts(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ja(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Di(i.h,t),Qs(t,s,e)}function Fs(i,e){i.ia&&an(i.ia,function(t,s){Wr(e,s,t)}),i.l&&ga({},function(t,s){Wr(e,s,t)})}function ja(i,e,t){t=Math.min(i.i.length,t);var s=i.l?be(i.l.Ra,i.l,i):null;e:{var c=i.i;let m=-1;for(;;){const C=["count="+t];-1==m?0<t?(m=c[0].h,C.push("ofs="+m)):m=0:C.push("ofs="+m);let R=!0;for(let H=0;H<t;H++){let Z=c[H].h;const ue=c[H].g;if(Z-=m,0>Z)m=Math.max(0,c[H].h-100),R=!1;else try{$a(ue,C,"req"+Z+"_")}catch(He){s&&s(ue)}}if(R){s=C.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function Ha(i){i.g||i.u||(i.Z=1,Yi(i.Ia,i),i.A=0)}function co(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=yi(be(i.Ia,i),ra(i,i.A)),i.A++,0))}function tl(i){null!=i.B&&(Fe.clearTimeout(i.B),i.B=null)}function Ga(i){i.g=new ts(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=us(i.sa);Wr(e,"RID","rpc"),Wr(e,"SID",i.I),Wr(e,"CI",i.L?"0":"1"),Wr(e,"AID",i.T),Wr(e,"TYPE","xmlhttp"),Fs(i,e),i.o&&i.s&&Gi(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Fi(us(e)),t.s=null,t.P=!0,Ur(t,i)}function ya(i){null!=i.v&&(Fe.clearTimeout(i.v),i.v=null)}function Iu(i,e){var t=null;if(i.g==e){ya(i),tl(i),i.g=null;var s=2}else{if(!Hs(i.h,e))return;t=e.D,Oo(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;pr(s=wt(),new Kn(s,t)),ma(i)}else Ha(i);else if(3==(c=e.o)||0==c&&0<i.pa||!(1==s&&function xa(i,e){return!(oo(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=yi(be(i.Ja,i,e),ra(i,i.C)),i.C++,0)))}(i,e)||2==s&&co(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),c){case 1:zs(i,5);break;case 4:zs(i,10);break;case 3:zs(i,6);break;default:zs(i,2)}}function ra(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function zs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=be(i.kb,i);t||(t=new Ri("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||bo(t,"https"),Fi(t)),function ea(i,e){const t=new ne;if(Fe.Image){const s=new Image;s.onload=Je(ta,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Je(ta,t,s,"TestLoadImage: error",!1,e),s.onabort=Je(ta,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Je(ta,t,s,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Bn(2);i.G=0,i.l&&i.l.va(e),Pl(i),Va(i)}function Pl(i){if(i.G=0,i.la=[],i.l){const e=ds(i.h);(0!=e.length||0!=i.i.length)&&(Pt(i.la,e),Pt(i.la,i.i),i.h.i.length=0,xt(i.i),i.i.length=0),i.l.ua()}}function os(i,e,t){var s=t instanceof Ri?us(t):new Ri(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ns(s,s.m);else{var c=Fe.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var m=new Ri(null,void 0);s&&bo(m,s),e&&(m.g=e),c&&ns(m,c),t&&(m.l=t),s=m}return e=i.za,(t=i.D)&&e&&Wr(s,t,e),Wr(s,"VER",i.ma),Fs(i,s),s}function ho(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new f(t&&i.Da&&!i.ra?new Zr({jb:!0}):i.ra)).Ka(i.H),e}function $i(){}function ia(){if(lr&&!(10<=Number(ii)))throw Error("Environmental error: no available transport.")}function Ls(i,e){zn.call(this),this.g=new lo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Tn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new li(this)}function va(i){sr.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function nl(){kr.call(this),this.status=1}function li(i){this.g=i}(J=f.prototype).Ka=function(i){this.L=i},J.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vr.g(),this.C=function Ut(i){return i.h||(i.h=i.i())}(this.u?this.u:vr),this.g.onreadystatechange=be(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void st(this,m)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const m of s.keys())t.set(m,s.get(m))}s=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),c=Fe.FormData&&i instanceof Fe.FormData,!(0<=Nt(P,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,C]of t)this.g.setRequestHeader(m,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rr(this),0<this.B&&((this.K=function Q(i){return lr&&function pn(){return function Sr(i){var e=ri;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Sn(String(qn)).split("."),t=Sn("9").split("."),s=Math.max(e.length,t.length);for(let C=0;0==i&&C<s;C++){var c=e[C]||"",m=t[C]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==c[0].length&&0==m[0].length)break;i=Fn(0==c[1].length?0:parseInt(c[1],10),0==m[1].length?0:parseInt(m[1],10))||Fn(0==c[2].length,0==m[2].length)||Fn(c[2],m[2]),c=c[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=be(this.qa,this)):this.A=Qn(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){st(this,m)}},J.qa=function(){typeof Xe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pr(this,"timeout"),this.abort(8))},J.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,pr(this,"complete"),pr(this,"abort"),Gn(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gn(this,!0)),f.X.M.call(this)},J.Ha=function(){this.s||(this.F||this.v||this.l?_n(this):this.fb())},J.fb=function(){_n(this)},J.aa=function(){try{return 2<Wn(this)?this.g.status:-1}catch(i){return-1}},J.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},J.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),j(e)}},J.Ea=function(){return this.m},J.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=lo.prototype).ma=8,J.G=1,J.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const c=new ts(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=$t(m),Nn(m,this.S)):m=this.S),null!==this.o||this.N||(c.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ja(this,c,e),Wr(t=us(this.F),"RID",i),Wr(t,"CVER",22),this.D&&Wr(t,"X-HTTP-Session-Id",this.D),Fs(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(Bi(m)))+"&"+e:this.o&&Gi(t,this.o,m)),Di(this.h,c),this.Ya&&Wr(t,"TYPE","init"),this.O?(Wr(t,"$req",e),Wr(t,"SID","null"),c.Z=!0,Qs(c,t,null)):Qs(c,t,e),this.G=2}}else 3==this.G&&(i?Ua(this,i):0==this.i.length||Ro(this.h)||Ua(this))},J.Ia=function(){if(this.u=null,Ga(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=yi(be(this.eb,this),i)}},J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bn(10),na(this),Ga(this))},J.cb=function(){null!=this.v&&(this.v=null,na(this),co(this),Bn(19))},J.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))},(J=$i.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Ra=function(){},ia.prototype.g=function(i,e){return new Ls(i,e)},W(Ls,zn),Ls.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Bn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=os(i,null,i.V),ma(i)},Ls.prototype.close=function(){uo(this.g)},Ls.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ki(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ma(e)},Ls.prototype.M=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Ls.X.M.call(this)},W(va,sr),W(nl,kr),W(li,$i),li.prototype.xa=function(){pr(this.g,"a")},li.prototype.wa=function(i){pr(this.g,new va(i))},li.prototype.va=function(i){pr(this.g,new nl)},li.prototype.ua=function(){pr(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,qe.COMPLETE="complete",rn.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",zn.prototype.listen=zn.prototype.N,f.prototype.listenOnce=f.prototype.O,f.prototype.getLastError=f.prototype.Oa,f.prototype.getLastErrorCode=f.prototype.Ea,f.prototype.getStatus=f.prototype.aa,f.prototype.getResponseJson=f.prototype.Sa,f.prototype.getResponseText=f.prototype.fa,f.prototype.send=f.prototype.da,f.prototype.setWithCredentials=f.prototype.Ka;var yl=Oe.createWebChannelTransport=function(){return new ia},za=Oe.getStatEventTarget=function(){return wt()},sa=Oe.ErrorCode=rt,oa=Oe.EventType=qe,No=Oe.Event=Ye,aa=Oe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},N=Oe.FetchXmlHttpFactory=Zr,K=Oe.WebChannel=rn,B=Oe.XhrIo=f;const re="@firebase/firestore";class ye{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");let Et="9.17.2";const Vt=new et.Yd("@firebase/firestore");function On(){return Vt.logLevel}function Bt(i,...e){if(Vt.logLevel<=et.in.DEBUG){const t=e.map(vi);Vt.debug(`Firestore (${Et}): ${i}`,...t)}}function tr(i,...e){if(Vt.logLevel<=et.in.ERROR){const t=e.map(vi);Vt.error(`Firestore (${Et}): ${i}`,...t)}}function Jn(i,...e){if(Vt.logLevel<=et.in.WARN){const t=e.map(vi);Vt.warn(`Firestore (${Et}): ${i}`,...t)}}function vi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function qt(i="Unexpected state"){const e=`FIRESTORE (${Et}) INTERNAL ASSERTION FAILED: `+i;throw tr(e),new Error(e)}function Jt(i,e){i||qt()}function un(i,e){return i}const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends Qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ms{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Do{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ye.UNAUTHENTICATED))}shutdown(){}}class fo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vl{constructor(e){this.t=e,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const m=Z=>this.i!==c?(c=this.i,t(Z)):Promise.resolve();let C=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Ii,e.enqueueRetryable(()=>m(this.currentUser))};const R=()=>{const Z=C;e.enqueueRetryable((0,le.Z)(function*(){yield Z.promise,yield m(s.currentUser)}))},H=Z=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Z=>H(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?H(Z):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Ii)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt("string"==typeof s.accessToken),new Ms(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jt(null===e||"string"==typeof e),new ye(e)}}class po{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Jt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ma{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c}getToken(){return Promise.resolve(new po(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ys{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=m=>{null!=m.error&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const C=m.token!==this.A;return this.A=m.token,Bt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const c=m=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?c(m):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jt("string"==typeof t.token),this.A=t.token,new ys(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _l(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class rl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=_l(40);for(let m=0;m<c.length;++m)s.length<20&&c[m]<t&&(s+=e.charAt(c[m]%e.length))}return s}}function gr(i,e){return i<e?-1:i>e?1:0}function la(i,e,t){return i.length===e.length&&i.every((s,c)=>t(s,e[c]))}function ql(i){return i+"\0"}class wi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new wi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new wi(0,0))}static max(){return new Yn(new wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wo{constructor(e,t,s){void 0===t?t=0:t>e.length&&qt(),void 0===s?s=e.length-t:s>e.length-t&&qt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Wo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const m=e.get(c),C=t.get(c);if(m<C)return-1;if(m>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kr extends Wo{construct(e,t,s){return new Kr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new zt(Ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new Kr(t)}static emptyPath(){return new Kr([])}}const qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ci extends Wo{construct(e,t,s){return new ci(e,t,s)}static isValidIdentifier(e){return qu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ci(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const m=()=>{if(0===s.length)throw new zt(Ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let C=!1;for(;c<e.length;){const R=e[c];if("\\"===R){if(c+1===e.length)throw new zt(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[c+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new zt(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=H,c+=2}else"`"===R?(C=!C,c++):"."!==R||C?(s+=R,c++):(m(),c++)}if(m(),C)throw new zt(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ci(t)}static emptyPath(){return new ci([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(Kr.fromString(e))}static fromName(e){return new gn(Kr.fromString(e).popFirst(5))}static empty(){return new gn(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new Kr(e.slice()))}}class El{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function Wi(i){return i.fields.find(e=>2===e.kind)}function ko(i){return i.fields.filter(e=>2!==e.kind)}El.UNKNOWN_ID=-1;class eo{constructor(e,t){this.fieldPath=e,this.kind=t}}class _a{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _a(0,Ws.min())}}function Zl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,c=Yn.fromTimestamp(1e9===s?new wi(t+1,0):new wi(t,s));return new Ws(c,gn.empty(),e)}function Ql(i){return new Ws(i.readTime,i.key,-1)}class Ws{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ws(Yn.min(),gn.empty(),-1)}static max(){return new Ws(Yn.max(),gn.empty(),-1)}}function ua(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(i.documentKey,e.documentKey),0!==t?t:gr(i.largestBatchId,e.largestBatchId))}const Ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ra(i){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,le.Z)(function*(i){if(i.code!==Ct.FAILED_PRECONDITION||i.message!==Ea)throw i;Bt("LocalStore","Unexpectedly lost primary lease")}),Ia.apply(this,arguments)}class Dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Dt((s,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,c)},this.catchCallback=m=>{this.wrapFailure(t,m).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Dt?t:Dt.resolve(t)}catch(t){return Dt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Dt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Dt.reject(t)}static resolve(e){return new Dt((t,s)=>{t(e)})}static reject(e){return new Dt((t,s)=>{s(e)})}static waitFor(e){return new Dt((t,s)=>{let c=0,m=0,C=!1;e.forEach(R=>{++c,R.next(()=>{++m,C&&m===c&&t()},H=>s(H))}),C=!0,m===c&&t()})}static or(e){let t=Dt.resolve(!1);for(const s of e)t=t.next(c=>c?Dt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,m)=>{s.push(t.call(this,c,m))}),this.waitFor(s)}static mapArray(e,t){return new Dt((s,c)=>{const m=e.length,C=new Array(m);let R=0;for(let H=0;H<m;H++){const Z=H;t(e[Z]).next(ue=>{C[Z]=ue,++R,R===m&&s(C)},ue=>c(ue))}})}static doWhile(e,t){return new Dt((s,c)=>{const m=()=>{!0===e()?t().next(()=>{m()},c):s()};m()})}}class Xl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ii,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ya(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const c=kl(s.target.error);this.v.reject(new Ya(e,c))}}static open(e,t,s,c){try{return new Xl(t,e.transaction(c,s))}catch(m){throw new Ya(t,m)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Bt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wu(t)}}class Rs{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Rs.D((0,Qe.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Bt("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Qe.hl)())return!1;if(Rs.N())return!0;const e=(0,Qe.z$)(),t=Rs.D(e),s=0<t&&t<10,c=Rs.k(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,le.Z)(function*(){return t.db||(Bt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=C=>{s(C.target.result)},m.onblocked=()=>{c(new Ya(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=C=>{const R=C.target.error;c("VersionError"===R.name?new zt(Ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new zt(Ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Ya(e,R))},m.onupgradeneeded=C=>{Bt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.S.$(C.target.result,m.transaction,C.oldVersion,t.version).next(()=>{Bt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var m=this;return(0,le.Z)(function*(){const C="readonly"===t;let R=0;for(;;){++R;try{m.db=yield m.F(e);const H=Xl.open(m.db,e,C?"readonly":"readwrite",s),Z=c(H).next(ue=>(H.V(),ue)).catch(ue=>(H.abort(ue),Dt.reject(ue))).toPromise();return Z.catch(()=>{}),yield H.P,Z}catch(H){const Z=H,ue="FirebaseError"!==Z.name&&R<3;if(Bt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ue),m.close(),!ue)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pi{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Pa(this.q.delete())}}class Ya extends zt{constructor(e,t){super(Ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oa(i){return"IndexedDbTransactionError"===i.name}class wu{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Bt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Bt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Pa(s)}add(e){return Bt("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Bt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Bt("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return Bt("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),m=[];return this.H(c,(C,R)=>{m.push(R)}).next(()=>m)}{const c=this.store.getAll(s.range);return new Dt((m,C)=>{c.onerror=R=>{C(R.target.error)},c.onsuccess=R=>{m(R.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Dt((c,m)=>{s.onerror=C=>{m(C.target.error)},s.onsuccess=C=>{c(C.target.result)}})}Y(e,t){Bt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Z=!1;const c=this.cursor(s);return this.H(c,(m,C,R)=>R.delete())}X(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.H(c,t)}tt(e){const t=this.cursor({});return new Dt((s,c)=>{t.onerror=m=>{const C=kl(m.target.error);c(C)},t.onsuccess=m=>{const C=m.target.result;C?e(C.primaryKey,C.value).next(R=>{R?C.continue():s()}):s()}})}H(e,t){const s=[];return new Dt((c,m)=>{e.onerror=C=>{m(C.target.error)},e.onsuccess=C=>{const R=C.target.result;if(!R)return void c();const H=new pi(R),Z=t(R.primaryKey,R.value,H);if(Z instanceof Dt){const ue=Z.catch(He=>(H.done(),Dt.reject(He)));s.push(ue)}H.isDone?c():null===H.G?R.continue():R.continue(H.G)}}).next(()=>Dt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Z?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pa(i){return new Dt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const c=kl(s.target.error);t(c)}})}let il=!1;function kl(i){const e=Rs.D((0,Qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return il||(il=!0,setTimeout(()=>{throw s},0)),s}}return i}class Cu{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Bt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,le.Z)(function*(){t.task=null;try{Bt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Oa(s)?Bt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ra(s)}yield t.nt(6e4)}))}}class Na{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,le.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let c=t,m=!0;return Dt.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!s.has(C))return Bt("IndexBackiller",`Processing collection: ${C}`),this.rt(e,C,c).next(R=>{c-=R,s.add(C)});m=!1})).next(()=>t-c)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(m=>{const C=m.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.ot(c,m)).next(R=>(Bt("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>C.size)}))}ot(e,t){let s=e;return t.changes.forEach((c,m)=>{const C=Ql(m);ua(C,s)>0&&(s=C)}),new Ws(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let go=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>s.writeSequenceNumber(c))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Yo{constructor(e,t,s,c,m,C,R,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=m,this.forceLongPolling=C,this.autoDetectLongPolling=R,this.useFetchStreams=H}}class wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}function Os(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function to(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ol(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function To(i){return null==i}function no(i){return 0===i&&1/i==-1/0}function Il(i){return"number"==typeof i&&Number.isInteger(i)&&!no(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class bu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw c instanceof DOMException?new bu("Invalid base64 string: "+c):c}}(e);return new Bs(t)}static fromUint8Array(e){const t=function(s){let c="";for(let m=0;m<s.length;++m)c+=String.fromCharCode(s[m]);return c}(e);return new Bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bs.EMPTY_BYTE_STRING=new Bs("");const Ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(i){if(Jt(!!i),"string"==typeof i){let e=0;const t=Ks.exec(i);if(Jt(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_i(i.seconds),nanos:_i(i.nanos)}}function _i(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ka(i){return"string"==typeof i?Bs.fromBase64String(i):Bs.fromUint8Array(i)}function Ca(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function T(i){const e=i.mapValue.fields.__previous_value__;return Ca(e)?T(e):e}function x(i){const e=ca(i.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}const w={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},M={nullValue:"NULL_VALUE"};function V(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ca(i)?4:Xt(i)?9007199254740991:10:qt()}function X(i,e){if(i===e)return!0;const t=V(i);if(t!==V(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return x(i).isEqual(x(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const m=ca(s.timestampValue),C=ca(c.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,ka(i.bytesValue).isEqual(ka(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,c){return _i(s.geoPointValue.latitude)===_i(c.geoPointValue.latitude)&&_i(s.geoPointValue.longitude)===_i(c.geoPointValue.longitude)}(i,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return _i(s.integerValue)===_i(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const m=_i(s.doubleValue),C=_i(c.doubleValue);return m===C?no(m)===no(C):isNaN(m)&&isNaN(C)}return!1}(i,e);case 9:return la(i.arrayValue.values||[],e.arrayValue.values||[],X);case 10:return function(s,c){const m=s.mapValue.fields||{},C=c.mapValue.fields||{};if(Os(m)!==Os(C))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===C[R]||!X(m[R],C[R])))return!1;return!0}(i,e);default:return qt()}var c}function oe(i,e){return void 0!==(i.values||[]).find(t=>X(t,e))}function Ze(i,e){if(i===e)return 0;const t=V(i),s=V(e);if(t!==s)return gr(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return gr(i.booleanValue,e.booleanValue);case 2:return function(c,m){const C=_i(c.integerValue||c.doubleValue),R=_i(m.integerValue||m.doubleValue);return C<R?-1:C>R?1:C===R?0:isNaN(C)?isNaN(R)?0:-1:1}(i,e);case 3:return At(i.timestampValue,e.timestampValue);case 4:return At(x(i),x(e));case 5:return gr(i.stringValue,e.stringValue);case 6:return function(c,m){const C=ka(c),R=ka(m);return C.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(c,m){const C=c.split("/"),R=m.split("/");for(let H=0;H<C.length&&H<R.length;H++){const Z=gr(C[H],R[H]);if(0!==Z)return Z}return gr(C.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,m){const C=gr(_i(c.latitude),_i(m.latitude));return 0!==C?C:gr(_i(c.longitude),_i(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,m){const C=c.values||[],R=m.values||[];for(let H=0;H<C.length&&H<R.length;++H){const Z=Ze(C[H],R[H]);if(Z)return Z}return gr(C.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,m){if(c===w.mapValue&&m===w.mapValue)return 0;if(c===w.mapValue)return 1;if(m===w.mapValue)return-1;const C=c.fields||{},R=Object.keys(C),H=m.fields||{},Z=Object.keys(H);R.sort(),Z.sort();for(let ue=0;ue<R.length&&ue<Z.length;++ue){const He=gr(R[ue],Z[ue]);if(0!==He)return He;const It=Ze(C[R[ue]],H[Z[ue]]);if(0!==It)return It}return gr(R.length,Z.length)}(i.mapValue,e.mapValue);default:throw qt()}}function At(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return gr(i,e);const t=ca(i),s=ca(e),c=gr(t.seconds,s.seconds);return 0!==c?c:gr(t.nanos,s.nanos)}function sn(i){return Mn(i)}function Mn(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const c=ca(s);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ka(i.bytesValue).toBase64():"referenceValue"in i?gn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let c="[",m=!0;for(const C of s.values||[])m?m=!1:c+=",",c+=Mn(C);return c+"]"}(i.arrayValue):"mapValue"in i?function(s){const c=Object.keys(s.fields||{}).sort();let m="{",C=!0;for(const R of c)C?C=!1:m+=",",m+=`${R}:${Mn(s.fields[R])}`;return m+"}"}(i.mapValue):qt();var e}function In(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function F(i){return!!i&&"integerValue"in i}function U(i){return!!i&&"arrayValue"in i}function ee(i){return!!i&&"nullValue"in i}function De(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ht(i){return!!i&&"mapValue"in i}function _t(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return to(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=_t(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_t(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Xt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function kn(i){return"nullValue"in i?M:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?In(wa.empty(),gn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:qt()}function An(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?In(wa.empty(),gn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?w:qt()}function er(i,e){const t=Ze(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ei(i,e){const t=Ze(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class rr{constructor(e,t){this.position=e,this.inclusive=t}}function mo(i,e,t){let s=0;for(let c=0;c<i.position.length;c++){const m=e[c],C=i.position[c];if(s=m.field.isKeyField()?gn.comparator(gn.fromName(C.referenceValue),t.key):Ze(C,t.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function Ys(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!X(i.position[t],e.position[t]))return!1;return!0}class Cl{}class jr extends Cl{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ed(e,t,s):"array-contains"===t?new td(e,s):"in"===t?new Mh(e,s):"not-in"===t?new Rh(e,s):"array-contains-any"===t?new Vd(e,s):new jr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Tu(e,s):new Df(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ze(t,this.value)):null!==t&&V(this.value)===V(t)&&this.matchesComparison(Ze(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ni extends Cl{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new ni(e,t)}matches(e){return vs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function vs(i){return"and"===i.op}function Fo(i){return"or"===i.op}function al(i){return Qc(i)&&vs(i)}function Qc(i){for(const e of i.filters)if(e instanceof ni)return!1;return!0}function Du(i){if(i instanceof jr)return i.field.canonicalString()+i.op.toString()+sn(i.value);if(al(i))return i.filters.map(e=>Du(e)).join(",");{const e=i.filters.map(t=>Du(t)).join(",");return`${i.op}(${e})`}}function Xc(i,e){return i instanceof jr?(t=i,(s=e)instanceof jr&&t.op===s.op&&t.field.isEqual(s.field)&&X(t.value,s.value)):i instanceof ni?function(t,s){return s instanceof ni&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,m,C)=>c&&Xc(m,s.filters[C]),!0)}(i,e):void qt();var t,s}function Jc(i,e){const t=i.filters.concat(e);return ni.create(t,i.op)}function $d(i){return i instanceof jr?`${(e=i).field.canonicalString()} ${e.op} ${sn(e.value)}`:i instanceof ni?function(e){return e.op.toString()+" {"+e.getFilters().map($d).join(" ,")+"}"}(i):"Filter";var e}class ed extends jr{constructor(e,t,s){super(e,t,s),this.key=gn.fromName(s.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tu extends jr{constructor(e,t){super(e,"in",t),this.keys=Zu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Df extends jr{constructor(e,t){super(e,"not-in",t),this.keys=Zu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>gn.fromName(s.referenceValue))}class td extends jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return U(t)&&oe(t.arrayValue,this.value)}}class Mh extends jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oe(this.value.arrayValue,t)}}class Rh extends jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(oe(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oe(this.value.arrayValue,t)}}class Vd extends jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!U(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>oe(this.value.arrayValue,s))}}class Jl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ud(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class as{constructor(e,t){this.comparator=e,this.root=t||_s.EMPTY}insert(e,t){return new as(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new as(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qa(this.root,e,this.comparator,!0)}}class qa{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?s(e.key,t):1,t&&c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,t,s,c,m){this.key=e,this.value=t,this.color=null!=s?s:_s.RED,this.left=null!=c?c:_s.EMPTY,this.right=null!=m?m:_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,m){return new _s(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const m=s(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===m?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return _s.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const e=this.left.check();if(e!==this.right.check())throw qt();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(i,e,t,s,c){return this}insert(i,e,t){return new _s(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vi{constructor(e){this.comparator=e,this.data=new as(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nd(this.data.getIterator())}getIteratorFrom(e){return new nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Vi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=s.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vi(this.comparator);return t.data=e,t}}class nd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ll(i){return i.hasNext()?i.getNext():void 0}class hs{constructor(e){this.fields=e,e.sort(ci.comparator)}static empty(){return new hs([])}unionWith(e){let t=new Vi(ci.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class yo{constructor(e){this.value=e}static empty(){return new yo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ht(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_t(t)}setAll(e){let t=ci.emptyPath(),s={},c=[];e.forEach((C,R)=>{if(!t.isImmediateParentOf(R)){const H=this.getFieldsMap(t);this.applyChanges(H,s,c),s={},c=[],t=R.popLast()}C?s[R.lastSegment()]=_t(C):c.push(R.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,s,c)}delete(e){const t=this.field(e.popLast());ht(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return X(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];ht(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){to(t,(c,m)=>e[c]=m);for(const c of s)delete e[c]}clone(){return new yo(_t(this.value))}}function eu(i){const e=[];return to(i.fields,(t,s)=>{const c=new ci([t]);if(ht(s)){const m=eu(s.mapValue).fields;if(0===m.length)e.push(c);else for(const C of m)e.push(c.child(C))}else e.push(c)}),new hs(e)}class Ji{constructor(e,t,s,c,m,C,R){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=m,this.data=C,this.documentState=R}static newInvalidDocument(e){return new Ji(e,0,Yn.min(),Yn.min(),Yn.min(),yo.empty(),0)}static newFoundDocument(e,t,s,c){return new Ji(e,1,t,Yn.min(),s,c,0)}static newNoDocument(e,t){return new Ji(e,2,t,Yn.min(),Yn.min(),yo.empty(),0)}static newUnknownDocument(e,t){return new Ji(e,3,t,Yn.min(),Yn.min(),yo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jd{constructor(e,t=null,s=[],c=[],m=null,C=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=m,this.startAt=C,this.endAt=R,this._t=null}}function Qu(i,e=null,t=[],s=[],c=null,m=null,C=null){return new jd(i,e,t,s,c,m,C)}function tu(i){const e=un(i);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Du(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),To(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sn(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sn(s)).join(",")),e._t=t}return e._t}function bl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Ud(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Xc(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ys(i.startAt,e.startAt)&&Ys(i.endAt,e.endAt)}function nu(i){return gn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Fl(i,e){return i.filters.filter(t=>t instanceof jr&&t.field.isEqual(e))}function Hd(i,e,t){let s=M,c=!0;for(const m of Fl(i,e)){let C=M,R=!0;switch(m.op){case"<":case"<=":C=kn(m.value);break;case"==":case"in":case">=":C=m.value;break;case">":C=m.value,R=!1;break;case"!=":case"not-in":C=M}er({value:s,inclusive:c},{value:C,inclusive:R})<0&&(s=C,c=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const C=t.position[m];er({value:s,inclusive:c},{value:C,inclusive:t.inclusive})<0&&(s=C,c=t.inclusive);break}return{value:s,inclusive:c}}function ru(i,e,t){let s=w,c=!0;for(const m of Fl(i,e)){let C=w,R=!0;switch(m.op){case">=":case">":C=An(m.value),R=!1;break;case"==":case"in":case"<=":C=m.value;break;case"<":C=m.value,R=!1;break;case"!=":case"not-in":C=w}ei({value:s,inclusive:c},{value:C,inclusive:R})>0&&(s=C,c=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const C=t.position[m];ei({value:s,inclusive:c},{value:C,inclusive:t.inclusive})>0&&(s=C,c=t.inclusive);break}return{value:s,inclusive:c}}class Pi{constructor(e,t=null,s=[],c=[],m=null,C="F",R=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=m,this.limitType=C,this.startAt=R,this.endAt=H,this.wt=null,this.gt=null}}function ul(i,e,t,s,c,m,C,R){return new Pi(i,e,t,s,c,m,C,R)}function iu(i){return new Pi(i)}function Su(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function $s(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Fa(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ll(i){return null!==i.collectionGroup}function Bl(i){const e=un(i);if(null===e.wt){e.wt=[];const t=Fa(e),s=$s(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Jl(t)),e.wt.push(new Jl(ci.keyField(),"asc"));else{let c=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(c=!0);if(!c){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jl(ci.keyField(),m))}}}return e.wt}function rs(i){const e=un(i);if(!e.gt)if("F"===e.limitType)e.gt=Qu(e.path,e.collectionGroup,Bl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of Bl(e))t.push(new Jl(m.field,"desc"===m.dir?"asc":"desc"));const s=e.endAt?new rr(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new rr(e.startAt.position,e.startAt.inclusive):null;e.gt=Qu(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e.gt}function Xu(i,e){e.getFirstInequalityField(),Fa(i);const t=i.filters.concat([e]);return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ju(i,e,t){return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Dl(i,e){return bl(rs(i),rs(e))&&i.limitType===e.limitType}function Gd(i){return`${tu(rs(i))}|lt:${i.limitType}`}function Ps(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>$d(s)).join(", ")}]`),To(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sn(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sn(s)).join(",")),`Target(${t})`}(rs(i))}; limitType=${i.limitType})`}function Au(i,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):gn.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,s){for(const c of Bl(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(i,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(c,m,C){const R=mo(c,m,C);return c.inclusive?R<=0:R<0}(t.startAt,Bl(t),s)||t.endAt&&!function(c,m,C){const R=mo(c,m,C);return c.inclusive?R>=0:R>0}(t.endAt,Bl(t),s)));var t,s}function zd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function su(i){return(e,t)=>{let s=!1;for(const c of Bl(i)){const m=rd(c,e,t);if(0!==m)return m;s=s||c.field.isKeyField()}return 0}}function rd(i,e,t){const s=i.field.isKeyField()?gn.comparator(e.key,t.key):function(c,m,C){const R=m.data.field(c),H=C.data.field(c);return null!==R&&null!==H?Ze(R,H):qt()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return qt()}}function bc(i,e){if(i.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(e)?"-0":e}}function xu(i){return{integerValue:""+i}}function id(i,e){return Il(e)?xu(e):bc(i,e)}class cl{constructor(){this._=void 0}}function Dc(i,e,t){return i instanceof ba?function(s,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(m.fields.__previous_value__=c),{mapValue:m}}(t,e):i instanceof La?sd(i,e):i instanceof Tl?Sc(i,e):function(s,c){const m=ec(s,c),C=Ac(m)+Ac(s.It);return F(m)&&F(s.It)?xu(C):bc(s.Tt,C)}(i,e)}function Tc(i,e,t){return i instanceof La?sd(i,e):i instanceof Tl?Sc(i,e):t}function ec(i,e){return i instanceof ou?F(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class ba extends cl{}class La extends cl{constructor(e){super(),this.elements=e}}function sd(i,e){const t=od(e);for(const s of i.elements)t.some(c=>X(c,s))||t.push(s);return{arrayValue:{values:t}}}class Tl extends cl{constructor(e){super(),this.elements=e}}function Sc(i,e){let t=od(e);for(const s of i.elements)t=t.filter(c=>!X(c,s));return{arrayValue:{values:t}}}class ou extends cl{constructor(e,t){super(),this.Tt=e,this.It=t}}function Ac(i){return _i(i.integerValue||i.doubleValue)}function od(i){return U(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class tc{constructor(e,t){this.field=e,this.transform=t}}class ld{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class $l{}function Sl(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Za(i.key,es.none()):new Ba(i.key,i.data,es.none());{const t=i.data,s=yo.empty();let c=new Vi(ci.comparator);for(let m of e.fields)if(!c.has(m)){let C=t.field(m);null===C&&m.length>1&&(m=m.popLast(),C=t.field(m)),null===C?s.delete(m):s.set(m,C),c=c.add(m)}return new qo(i.key,s,new hs(c.toArray()),es.none())}}function Vl(i,e,t){i instanceof Ba?function(s,c,m){const C=s.value.clone(),R=lu(s.fieldTransforms,c,m.transformResults);C.setAll(R),c.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(i,e,t):i instanceof qo?function(s,c,m){if(!au(s.precondition,c))return void c.convertToUnknownDocument(m.version);const C=lu(s.fieldTransforms,c,m.transformResults),R=c.data;R.setAll(ud(s)),R.setAll(C),c.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function nc(i,e,t,s){return i instanceof Ba?function(c,m,C,R){if(!au(c.precondition,m))return C;const H=c.value.clone(),Z=Wd(c.fieldTransforms,R,m);return H.setAll(Z),m.convertToFoundDocument(m.version,H).setHasLocalMutations(),null}(i,e,t,s):i instanceof qo?function(c,m,C,R){if(!au(c.precondition,m))return C;const H=Wd(c.fieldTransforms,R,m),Z=m.data;return Z.setAll(ud(c)),Z.setAll(H),m.convertToFoundDocument(m.version,Z).setHasLocalMutations(),null===C?null:C.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ue=>ue.field))}(i,e,t,s):(C=t,au(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):C);var m,C}function rc(i,e){let t=null;for(const s of i.fieldTransforms){const c=e.data.field(s.field),m=ec(s.transform,c||null);null!=m&&(null===t&&(t=yo.empty()),t.set(s.field,m))}return t||null}function Mu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&la(t,s,(c,m)=>function ad(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof La&&s instanceof La||t instanceof Tl&&s instanceof Tl?la(t.elements,s.elements,X):t instanceof ou&&s instanceof ou?X(t.It,s.It):t instanceof ba&&s instanceof ba);var t,s}(c,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Ba extends $l{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class qo extends $l{constructor(e,t,s,c,m=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function ud(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function lu(i,e,t){const s=new Map;Jt(i.length===t.length);for(let c=0;c<t.length;c++){const m=i[c],C=m.transform,R=e.data.field(m.field);s.set(m.field,Tc(C,R,t[c]))}return s}function Wd(i,e,t){const s=new Map;for(const c of i){const m=c.transform,C=t.data.field(c.field);s.set(c.field,Dc(m,C,e))}return s}class Za extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ru extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xc{constructor(e){this.count=e}}var Es,gi;function ic(i){switch(i){default:return qt();case Ct.CANCELLED:case Ct.UNKNOWN:case Ct.DEADLINE_EXCEEDED:case Ct.RESOURCE_EXHAUSTED:case Ct.INTERNAL:case Ct.UNAVAILABLE:case Ct.UNAUTHENTICATED:return!1;case Ct.INVALID_ARGUMENT:case Ct.NOT_FOUND:case Ct.ALREADY_EXISTS:case Ct.PERMISSION_DENIED:case Ct.FAILED_PRECONDITION:case Ct.ABORTED:case Ct.OUT_OF_RANGE:case Ct.UNIMPLEMENTED:case Ct.DATA_LOSS:return!0}}function uu(i){if(void 0===i)return tr("GRPC error has no .code"),Ct.UNKNOWN;switch(i){case Es.OK:return Ct.OK;case Es.CANCELLED:return Ct.CANCELLED;case Es.UNKNOWN:return Ct.UNKNOWN;case Es.DEADLINE_EXCEEDED:return Ct.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return Ct.RESOURCE_EXHAUSTED;case Es.INTERNAL:return Ct.INTERNAL;case Es.UNAVAILABLE:return Ct.UNAVAILABLE;case Es.UNAUTHENTICATED:return Ct.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return Ct.INVALID_ARGUMENT;case Es.NOT_FOUND:return Ct.NOT_FOUND;case Es.ALREADY_EXISTS:return Ct.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return Ct.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return Ct.FAILED_PRECONDITION;case Es.ABORTED:return Ct.ABORTED;case Es.OUT_OF_RANGE:return Ct.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return Ct.UNIMPLEMENTED;case Es.DATA_LOSS:return Ct.DATA_LOSS;default:return qt()}}(gi=Es||(Es={}))[gi.OK=0]="OK",gi[gi.CANCELLED=1]="CANCELLED",gi[gi.UNKNOWN=2]="UNKNOWN",gi[gi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gi[gi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gi[gi.NOT_FOUND=5]="NOT_FOUND",gi[gi.ALREADY_EXISTS=6]="ALREADY_EXISTS",gi[gi.PERMISSION_DENIED=7]="PERMISSION_DENIED",gi[gi.UNAUTHENTICATED=16]="UNAUTHENTICATED",gi[gi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gi[gi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gi[gi.ABORTED=10]="ABORTED",gi[gi.OUT_OF_RANGE=11]="OUT_OF_RANGE",gi[gi.UNIMPLEMENTED=12]="UNIMPLEMENTED",gi[gi.INTERNAL=13]="INTERNAL",gi[gi.UNAVAILABLE=14]="UNAVAILABLE",gi[gi.DATA_LOSS=15]="DATA_LOSS";class Da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,m]of s)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(t,s)=>{for(const[c,m]of s)e(c,m)})}isEmpty(){return ol(this.inner)}size(){return this.innerSize}}const Ou=new as(gn.comparator);function Zo(){return Ou}const cu=new as(gn.comparator);function Ul(...i){let e=cu;for(const t of i)e=e.insert(t.key,t);return e}function vo(i){let e=cu;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ro(){return Al()}function Lo(){return Al()}function Al(){return new Da(i=>i.toString(),(i,e)=>i.isEqual(e))}const dl=new as(gn.comparator),Pu=new Vi(gn.comparator);function Er(...i){let e=Pu;for(const t of i)e=e.add(t);return e}const xl=new Vi(gr);function Nu(){return xl}class Bo{constructor(e,t,s,c,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Bo(Yn.min(),c,Nu(),Zo(),Er())}}class da{constructor(e,t,s,c,m){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new da(s,t,Er(),Er(),Er())}}class jl{constructor(e,t,s,c){this.Et=e,this.removedTargetIds=t,this.key=s,this.At=c}}class Kd{constructor(e,t){this.targetId=e,this.Rt=t}}class Yd{constructor(e,t,s=Bs.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class Mc{constructor(){this.bt=0,this.vt=Rc(),this.Pt=Bs.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Er(),t=Er(),s=Er();return this.vt.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:qt()}}),new da(this.Pt,this.Vt,e,t,s)}kt(){this.St=!1,this.vt=Rc()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class ha{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Zo(),this.Kt=ku(),this.Gt=new Vi(gr)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const s=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&s.xt(e.resumeToken);break;case 1:s.$t(),s.Dt||s.kt(),s.xt(e.resumeToken);break;case 2:s.$t(),s.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(s.Bt(),s.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),s.xt(e.resumeToken));break;default:qt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((s,c)=>{this.Jt(c)&&t(c)})}Zt(e){const t=e.targetId,s=e.Rt.count,c=this.Xt(t);if(c){const m=c.target;if(nu(m))if(0===s){const C=new gn(m.path);this.zt(t,C,Ji.newNoDocument(C,Yn.min()))}else Jt(1===s);else this.te(t)!==s&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((m,C)=>{const R=this.Xt(C);if(R){if(m.current&&nu(R.target)){const H=new gn(R.target.path);null!==this.Ut.get(H)||this.ne(C,H)||this.zt(C,H,Ji.newNoDocument(H,e))}m.Ct&&(t.set(C,m.Nt()),m.kt())}});let s=Er();this.Kt.forEach((m,C)=>{let R=!0;C.forEachWhile(H=>{const Z=this.Xt(H);return!Z||2===Z.purpose||(R=!1,!1)}),R&&(s=s.add(m))}),this.Ut.forEach((m,C)=>C.setReadTime(e));const c=new Bo(e,t,this.Gt,this.Ut,s);return this.Ut=Zo(),this.Kt=ku(),this.Gt=new Vi(gr),c}jt(e,t){if(!this.Jt(e))return;const s=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,s){if(!this.Jt(e))return;const c=this.Ht(e);this.ne(e,t)?c.Ot(t,1):c.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new Mc,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new Vi(gr),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Bt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Mc),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function ku(){return new as(gn.comparator)}function Rc(){return new as(gn.comparator)}const qd={asc:"ASCENDING",desc:"DESCENDING"},$o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hl={and:"AND",or:"OR"};class du{constructor(e,t){this.databaseId=e,this.yt=t}}function fl(i,e){return i.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Oc(i,e){return i.yt?e.toBase64():e.toUint8Array()}function sc(i,e){return fl(i,e.toTimestamp())}function Ns(i){return Jt(!!i),Yn.fromTimestamp(function(e){const t=ca(e);return new wi(t.seconds,t.nanos)}(i))}function Pc(i,e){return(t=i,new Kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cd(i){const e=Kr.fromString(i);return Jt(Lu(e)),e}function Qo(i,e){return Pc(i.databaseId,e.path)}function b(i,e){const t=cd(e);if(t.get(1)!==i.databaseId.projectId)throw new zt(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new zt(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gn(q(t))}function g(i,e){return Pc(i.databaseId,e)}function E(i){const e=cd(i);return 4===e.length?Kr.emptyPath():q(e)}function A(i){return new Kr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function q(i){return Jt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ae(i,e,t){return{name:Qo(i,e),fields:t.value.mapValue.fields}}function ft(i,e,t){const s=b(i,e.name),c=Ns(e.updateTime),m=e.createTime?Ns(e.createTime):Yn.min(),C=new yo({mapValue:{fields:e.fields}}),R=Ji.newFoundDocument(s,c,m,C);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function $n(i,e){let t;if(e instanceof Ba)t={update:ae(i,e.key,e.value)};else if(e instanceof Za)t={delete:Qo(i,e.key)};else if(e instanceof qo)t={update:ae(i,e.key,e.data),updateMask:kc(e.fieldMask)};else{if(!(e instanceof Ru))return qt();t={verify:Qo(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,m){const C=m.transform;if(C instanceof ba)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof La)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Tl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ou)return{fieldPath:m.field.canonicalString(),increment:C.It};throw qt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:sc(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:qt()),t;var c}function Ir(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?es.updateTime(Ns(c.updateTime)):void 0!==c.exists?es.exists(c.exists):es.none():es.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(m,C){let R=null;"setToServerValue"in C?(Jt("REQUEST_TIME"===C.setToServerValue),R=new ba):"appendMissingElements"in C?R=new La(C.appendMissingElements.values||[]):"removeAllFromArray"in C?R=new Tl(C.removeAllFromArray.values||[]):"increment"in C?R=new ou(m,C.increment):qt();const H=ci.fromServerFormat(C.fieldPath);return new tc(H,R)}(i,c)):[];var c;if(e.update){const c=b(i,e.update.name),m=new yo({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new hs((e.updateMask.fieldPaths||[]).map(Z=>ci.fromServerFormat(Z)));return new qo(c,m,C,t,s)}return new Ba(c,m,t,s)}if(e.delete){const c=b(i,e.delete);return new Za(c,t)}if(e.verify){const c=b(i,e.verify);return new Ru(c,t)}return qt()}function qs(i,e){return{documents:[g(i,e.path)]}}function Ta(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=g(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=g(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(H){if(0!==H.length)return Sa(ni.create(H,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const m=function(H){if(0!==H.length)return H.map(Z=>{return{field:Gl((ue=Z).field),direction:dd(ue.dir)};var ue})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const C=(Z=e.limit,i.yt||To(Z)?Z:{value:Z});var Z,R,H;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function hu(i){let e=E(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){Jt(1===s);const ue=t.from[0];ue.allDescendants?c=ue.collectionId:e=e.child(ue.collectionId)}let m=[];t.where&&(m=function(ue){const He=Hl(ue);return He instanceof ni&&al(He)?He.getFilters():[He]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(ue=>{return new Jl(Fu((He=ue).field),function(It){switch(It){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(He.direction));var He}));let R=null;t.limit&&(R=function(ue){let He;return He="object"==typeof ue?ue.value:ue,To(He)?null:He}(t.limit));let H=null;var ue;t.startAt&&(H=new rr((ue=t.startAt).values||[],!!ue.before));let Z=null;return t.endAt&&(Z=function(ue){return new rr(ue.values||[],!ue.before)}(t.endAt)),ul(e,c,C,m,R,"F",H,Z)}function Hl(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fu(e.unaryFilter.field);return jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Fu(e.unaryFilter.field);return jr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fu(e.unaryFilter.field);return jr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Fu(e.unaryFilter.field);return jr.create(m,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(i):void 0!==i.fieldFilter?jr.create(Fu((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return ni.create(e.compositeFilter.filters.map(t=>Hl(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return qt()}}(e.compositeFilter.op))}(i):qt();var e}function dd(i){return qd[i]}function hd(i){return $o[i]}function Nc(i){return hl[i]}function Gl(i){return{fieldPath:i.canonicalString()}}function Fu(i){return ci.fromServerFormat(i.fieldPath)}function Sa(i){return i instanceof jr?function(e){if("=="===e.op){if(De(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(ee(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(De(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(ee(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:hd(e.op),value:e.value}}}(i):i instanceof ni?function(e){const t=e.getFilters().map(s=>Sa(s));return 1===t.length?t[0]:{compositeFilter:{op:Nc(e.op),filters:t}}}(i):qt()}function kc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function So(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Zd(e)),e=Tf(i.get(t),e);return Zd(e)}function Tf(i,e){let t=e;const s=i.length;for(let c=0;c<s;c++){const m=i.charAt(c);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Zd(i){return i+"\x01\x01"}function zl(i){const e=i.length;if(Jt(e>=2),2===e)return Jt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Kr.emptyPath();const t=e-2,s=[];let c="";for(let m=0;m<e;){const C=i.indexOf("\x01",m);switch((C<0||C>t)&&qt(),i.charAt(C+1)){case"\x01":const R=i.substring(m,C);let H;0===c.length?H=R:(c+=R,H=c,c=""),s.push(H);break;case"\x10":c+=i.substring(m,C),c+="\0";break;case"\x11":c+=i.substring(m,C+1);break;default:qt()}m=C+2}return new Kr(s)}const Sf=["userId","batchId"];function Qd(i,e){return[i,So(e)]}function Af(i,e,t){return[i,So(e),t]}const Oh={},Xd=["prefixPath","collectionGroup","readTime","documentId"],Op=["prefixPath","collectionGroup","documentId"],xf=["collectionGroup","readTime","prefixPath","documentId"],Mf=["canonicalId","targetId"],_o=["targetId","path"],Pp=["path","targetId"],Np=["collectionId","parent"],Rf=["indexId","uid"],Of=["uid","sequenceNumber"],kp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fp=["indexId","uid","orderedDocumentKey"],Lp=["userId","collectionPath","documentId"],Bp=["userId","collectionPath","largestBatchId"],$p=["userId","collectionGroup","largestBatchId"],cm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dm=[...cm,"documentOverlays"],Fc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jd=Fc,Ph=[...Jd,"indexConfiguration","indexState","indexEntries"];class eh extends Qi{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function Ao(i,e){const t=un(i);return Rs.M(t.re,e)}class Pf{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&Vl(m,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=nc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=nc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Lo();return this.mutations.forEach(c=>{const m=e.get(c.key),C=m.overlayedDocument;let R=this.applyToLocalView(C,m.mutatedFields);R=t.has(c.key)?null:R;const H=Sl(C,R);null!==H&&s.set(c.key,H),C.isValidDocument()||C.convertToNoDocument(Yn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,s)=>Mu(t,s))&&la(this.baseMutations,e.baseMutations,(t,s)=>Mu(t,s))}}class Nh{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){Jt(e.mutations.length===s.length);let c=dl;const m=e.mutations;for(let C=0;C<m.length;C++)c=c.insert(m[C].key,s[C].version);return new Nh(e,t,s,c)}}class Ml{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Is{constructor(e,t,s,c,m=Yn.min(),C=Yn.min(),R=Bs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=R}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fa{constructor(e){this.oe=e}}function nh(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Qo(c=i.oe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:fl(c,m.version.toTimestamp()),createTime:fl(c,m.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:fu(e.version)};else{if(!e.isUnknownDocument())return qt();s.unknownDocument={path:t.path.toArray(),version:fu(e.version)}}var c,m;return s}function rh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(i){const e=new wi(i.seconds,i.nanoseconds);return Yn.fromTimestamp(e)}function $u(i,e){const t=(e.baseMutations||[]).map(m=>Ir(i.oe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>Ir(i.oe,m)),c=wi.fromMillis(e.localWriteTimeMs);return new Pf(e.batchId,c,t,s)}function Rl(i){const e=Bu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Bu(i.lastLimboFreeSnapshotVersion):Yn.min();let s;var c;return void 0!==i.query.documents?(Jt(1===(c=i.query).documents.length),s=rs(iu(E(c.documents[0])))):s=rs(hu(i.query)),new Is(s,i.targetId,0,i.lastListenSequenceNumber,e,t,Bs.fromBase64String(i.resumeToken))}function Nf(i,e){const t=fu(e.snapshotVersion),s=fu(e.lastLimboFreeSnapshotVersion);let c;c=nu(e.target)?qs(i.oe,e.target):Ta(i.oe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tu(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function fd(i){const e=hu({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ju(e,e.limit,"L"):e}function oc(i,e){return new Ml(e.largestBatchId,Ir(i.oe,e.overlayMutation))}function kh(i,e){const t=e.path.lastSegment();return[i,So(e.path.popLast()),t]}function pd(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:fu(s.readTime),documentKey:So(s.documentKey.path),largestBatchId:s.largestBatchId}}class gd{getBundleMetadata(e,t){return gl(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:Bu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return gl(e).put({bundleId:(s=t).id,createTime:fu(Ns(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Fh(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:fd(c.bundledQuery),readTime:Bu(c.readTime)};var c})}saveNamedQuery(e,t){return Fh(e).put({name:(s=t).name,readTime:fu(Ns(s.readTime)),bundledQuery:s.bundledQuery});var s}}function gl(i){return Ao(i,"bundles")}function Fh(i){return Ao(i,"namedQueries")}class ac{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new ac(e,t.uid||"")}getOverlay(e,t){return md(e).get(kh(this.userId,t)).next(s=>s?oc(this.Tt,s):null)}getOverlays(e,t){const s=ro();return Dt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&s.set(c,m)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((m,C)=>{const R=new Ml(t,C);c.push(this.ce(e,R))}),Dt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(C=>c.add(So(C.getCollectionPath())));const m=[];return c.forEach(C=>{const R=IDBKeyRange.bound([this.userId,C,s],[this.userId,C,s+1],!1,!0);m.push(md(e).Y("collectionPathOverlayIndex",R))}),Dt.waitFor(m)}getOverlaysForCollection(e,t,s){const c=ro(),m=So(t),C=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return md(e).W("collectionPathOverlayIndex",C).next(R=>{for(const H of R){const Z=oc(this.Tt,H);c.set(Z.getKey(),Z)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const m=ro();let C;const R=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return md(e).X({index:"collectionGroupOverlayIndex",range:R},(H,Z,ue)=>{const He=oc(this.Tt,Z);m.size()<c||He.largestBatchId===C?(m.set(He.getKey(),He),C=He.largestBatchId):ue.done()}).next(()=>m)}ce(e,t){return md(e).put(function(s,c,m){const[C,R,H]=kh(c,m.mutation.key);return{userId:c,collectionPath:R,documentId:H,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:$n(s.oe,m.mutation)}}(this.Tt,this.userId,t))}}function md(i){return Ao(i,"documentOverlays")}class lc{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(_i(e.integerValue));else if("doubleValue"in e){const s=_i(e.doubleValue);isNaN(s)?this.fe(t,13):(this.fe(t,15),no(s)?t.de(0):t.de(s))}else if("timestampValue"in e){const s=e.timestampValue;this.fe(t,20),"string"==typeof s?t._e(s):(t._e(`${s.seconds||""}`),t.de(s.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(ka(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.fe(t,45),t.de(s.latitude||0),t.de(s.longitude||0)}else"mapValue"in e?Xt(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):qt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const s=e.fields||{};this.fe(t,55);for(const c of Object.keys(s))this.we(c,t),this.he(s[c],t)}Ie(e,t){const s=e.values||[];this.fe(t,50);for(const c of s)this.he(c,t)}ye(e,t){this.fe(t,37),gn.fromName(e).path.forEach(s=>{this.fe(t,60),this.Te(s,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function Lh(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Vu(i){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const m=Lh(255&t[c]);if(s+=m,8!==m)break}return s}(i);return Math.ceil(e/8)}lc.Ee=new lc;class kf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Re(s.value),s=t.next();this.be()}ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.Ve()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Re(s);else if(s<2048)this.Re(960|s>>>6),this.Re(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Re(480|s>>>12),this.Re(128|63&s>>>6),this.Re(128|63&s);else{const c=t.codePointAt(0);this.Re(240|c>>>18),this.Re(128|63&c>>>12),this.Re(128|63&c>>>6),this.Re(128|63&c)}}this.be()}De(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const c=t.codePointAt(0);this.Pe(240|c>>>18),this.Pe(128|63&c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c)}}this.Ve()}Ce(e){const t=this.xe(e),s=Vu(t);this.Ne(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}ke(e){const t=this.xe(e),s=Vu(t);this.Ne(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(c){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,c,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Vp{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class Up{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class uc{constructor(){this.Le=new kf,this.qe=new Vp(this.Le),this.Ue=new Up(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class Uu{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Uu(this.indexId,this.documentKey,this.arrayValue,s)}}function pu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ff(i.arrayValue,e.arrayValue),0!==t?t:(t=Ff(i.directionalValue,e.directionalValue),0!==t?t:gn.comparator(i.documentKey,e.documentKey)))}function Ff(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Bh{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const s=t;s.isInequality()?this.ze=s:this.je.push(s)}}We(e){Jt(e.collectionGroup===this.collectionId);const t=Wi(e);if(void 0!==t&&!this.He(t))return!1;const s=ko(e);let c=0,m=0;for(;c<s.length&&this.He(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.ze){const C=s[c];if(!this.Je(this.ze,C)||!this.Ye(this.Qe[m++],C))return!1;++c}for(;c<s.length;++c)if(m>=this.Qe.length||!this.Ye(this.Qe[m++],s[c]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function jp(i){var e,t;if(Jt(i instanceof jr||i instanceof ni),i instanceof jr){if(i instanceof Mh){const c=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>jr.create(i.field,"==",m)))||[];return ni.create(c,"or")}return i}const s=i.filters.map(c=>jp(c));return ni.create(s,i.op)}function Hp(i){if(0===i.getFilters().length)return[];const e=hc(jp(i));return Jt(dc(e)),cc(e)||$h(e)?[e]:e.getFilters()}function cc(i){return i instanceof jr}function $h(i){return i instanceof ni&&al(i)}function dc(i){return cc(i)||$h(i)||function(e){if(e instanceof ni&&Fo(e)){for(const t of e.getFilters())if(!cc(t)&&!$h(t))return!1;return!0}return!1}(i)}function hc(i){if(Jt(i instanceof jr||i instanceof ni),i instanceof jr)return i;if(1===i.filters.length)return hc(i.filters[0]);const e=i.filters.map(s=>hc(s));let t=ni.create(e,i.op);return t=h(t),dc(t)?t:(Jt(t instanceof ni),Jt(vs(t)),Jt(t.filters.length>1),t.filters.reduce((s,c)=>Vh(s,c)))}function Vh(i,e){let t;return Jt(i instanceof jr||i instanceof ni),Jt(e instanceof jr||e instanceof ni),t=i instanceof jr?e instanceof jr?ni.create([i,e],"and"):Uh(i,e):e instanceof jr?Uh(e,i):function(s,c){if(Jt(s.filters.length>0&&c.filters.length>0),vs(s)&&vs(c))return Jc(s,c.getFilters());const m=Fo(s)?s:c,C=Fo(s)?c:s,R=m.filters.map(H=>Vh(H,C));return ni.create(R,"or")}(i,e),h(t)}function Uh(i,e){if(vs(e))return Jc(e,i.getFilters());{const t=e.filters.map(s=>Vh(i,s));return ni.create(t,"or")}}function h(i){if(Jt(i instanceof jr||i instanceof ni),i instanceof jr)return i;const e=i.getFilters();if(1===e.length)return h(e[0]);if(Qc(i))return i;const t=e.map(c=>h(c)),s=[];return t.forEach(c=>{c instanceof jr?s.push(c):c instanceof ni&&(c.op===i.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:ni.create(s,i.op)}class u{constructor(){this.Ze=new d}addToCollectionParentIndex(e,t){return this.Ze.add(t),Dt.resolve()}getCollectionParents(e,t){return Dt.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Dt.resolve()}deleteFieldIndex(e,t){return Dt.resolve()}getDocumentsMatchingTarget(e,t){return Dt.resolve(null)}getIndexType(e,t){return Dt.resolve(0)}getFieldIndexes(e,t){return Dt.resolve([])}getNextCollectionGroupToUpdate(e){return Dt.resolve(null)}getMinOffset(e,t){return Dt.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return Dt.resolve(Ws.min())}updateCollectionGroup(e,t,s){return Dt.resolve()}updateIndexEntries(e,t){return Dt.resolve()}}class d{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new Vi(Kr.comparator),m=!c.has(s);return this.index[t]=c.add(s),m}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Vi(Kr.comparator)).toArray()}}const v=new Uint8Array(0);class S{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new d,this.tn=new Da(s=>tu(s),(s,c)=>bl(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const m={collectionId:s,parent:So(c)};return k(e).put(m)}return Dt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[ql(t),""],!1,!0);return k(e).W(c).next(m=>{for(const C of m){if(C.collectionId!==t)break;s.push(zl(C.parent))}return s})}addFieldIndex(e,t){const s=ie(e),c={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var C;delete c.indexId;const m=s.add(c);if(t.indexState){const C=ve(e);return m.next(R=>{C.put(pd(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const s=ie(e),c=ve(e),m=G(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=G(e);let c=!0;const m=new Map;return Dt.forEach(this.en(t),C=>this.nn(e,C).next(R=>{c&&(c=!!R),m.set(C,R)})).next(()=>{if(c){let C=Er();const R=[];return Dt.forEach(m,(H,Z)=>{var ue;Bt("IndexedDbIndexManager",`Using index ${ue=H,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(Si=>`${Si.fieldPath}:${Si.kind}`).join(",")}`} to execute ${tu(t)}`);const He=function(Si,io){const Ui=Wi(io);if(void 0===Ui)return null;for(const zi of Fl(Si,Ui.fieldPath))switch(zi.op){case"array-contains-any":return zi.value.arrayValue.values||[];case"array-contains":return[zi.value]}return null}(Z,H),It=function(Si,io){const Ui=new Map;for(const zi of ko(io))for(const jo of Fl(Si,zi.fieldPath))switch(jo.op){case"==":case"in":Ui.set(zi.fieldPath.canonicalString(),jo.value);break;case"not-in":case"!=":return Ui.set(zi.fieldPath.canonicalString(),jo.value),Array.from(Ui.values())}return null}(Z,H),Kt=function(Si,io){const Ui=[];let zi=!0;for(const jo of ko(io)){const Cf=0===jo.kind?Hd(Si,jo.fieldPath,Si.startAt):ru(Si,jo.fieldPath,Si.startAt);Ui.push(Cf.value),zi&&(zi=Cf.inclusive)}return new rr(Ui,zi)}(Z,H),tn=function(Si,io){const Ui=[];let zi=!0;for(const jo of ko(io)){const Cf=0===jo.kind?ru(Si,jo.fieldPath,Si.endAt):Hd(Si,jo.fieldPath,Si.endAt);Ui.push(Cf.value),zi&&(zi=Cf.inclusive)}return new rr(Ui,zi)}(Z,H),Un=this.sn(H,Z,Kt),cr=this.sn(H,Z,tn),fs=this.rn(H,Z,It),Vs=this.on(H.indexId,He,Un,Kt.inclusive,cr,tn.inclusive,fs);return Dt.forEach(Vs,Si=>s.J(Si,t.limit).next(io=>{io.forEach(Ui=>{const zi=gn.fromSegments(Ui.documentKey);C.has(zi)||(C=C.add(zi),R.push(zi))})}))}).next(()=>R)}return Dt.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Hp(ni.create(e.filters,"and")).map(s=>Qu(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,s,c,m,C,R){const H=(null!=t?t.length:1)*Math.max(s.length,m.length),Z=H/(null!=t?t.length:1),ue=[];for(let He=0;He<H;++He){const It=t?this.un(t[He/Z]):v,Kt=this.cn(e,It,s[He%Z],c),tn=this.an(e,It,m[He%Z],C),Un=R.map(cr=>this.cn(e,It,cr,!0));ue.push(...this.createRange(Kt,tn,Un))}return ue}cn(e,t,s,c){const m=new Uu(e,gn.empty(),t,s);return c?m:m.Ge()}an(e,t,s,c){const m=new Uu(e,gn.empty(),t,s);return c?m.Ge():m}nn(e,t){const s=new Bh(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(m=>{let C=null;for(const R of m)s.We(R)&&(!C||R.fields.length>C.fields.length)&&(C=R);return C})}getIndexType(e,t){let s=2;const c=this.en(t);return Dt.forEach(c,m=>this.nn(e,m).next(C=>{C?0!==s&&C.fields.length<function(R){let H=new Vi(ci.comparator),Z=!1;for(const ue of R.filters)for(const He of ue.getFlattenedFilters())He.field.isKeyField()||("array-contains"===He.op||"array-contains-any"===He.op?Z=!0:H=H.add(He.field));for(const ue of R.orderBy)ue.field.isKeyField()||(H=H.add(ue.field));return H.size+(Z?1:0)}(m)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}hn(e,t){const s=new uc;for(const c of ko(e)){const m=t.data.field(c.fieldPath);if(null==m)return null;const C=s.Ke(c.kind);lc.Ee.ae(m,C)}return s.Be()}un(e){const t=new uc;return lc.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const s=new uc;return lc.Ee.ae(In(this.databaseId,t),s.Ke(function(c){const m=ko(c);return 0===m.length?0:m[m.length-1].kind}(e))),s.Be()}rn(e,t,s){if(null===s)return[];let c=[];c.push(new uc);let m=0;for(const C of ko(e)){const R=s[m++];for(const H of c)if(this.fn(t,C.fieldPath)&&U(R))c=this.dn(c,C,R);else{const Z=H.Ke(C.kind);lc.Ee.ae(R,Z)}}return this._n(c)}sn(e,t,s){return this.rn(e,t,s.position)}_n(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Be();return t}dn(e,t,s){const c=[...e],m=[];for(const C of s.arrayValue.values||[])for(const R of c){const H=new uc;H.seed(R.Be()),lc.Ee.ae(C,H.Ke(t.kind)),m.push(H)}return m}fn(e,t){return!!e.filters.find(s=>s instanceof jr&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=ie(e),c=ve(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(m=>{const C=[];return Dt.forEach(m,R=>c.get([R.indexId,this.uid]).next(H=>{C.push(function(Z,ue){const He=ue?new _a(ue.sequenceNumber,new Ws(Bu(ue.readTime),new gn(zl(ue.documentKey)),ue.largestBatchId)):_a.empty(),It=Z.fields.map(([Kt,tn])=>new eo(ci.fromServerFormat(Kt),tn));return new El(Z.indexId,Z.collectionGroup,It,He)}(R,H))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const m=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:gr(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=ie(e),m=ve(e);return this.wn(e).next(C=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>Dt.forEach(R,H=>m.put(pd(H.indexId,this.user,C,s)))))}updateIndexEntries(e,t){const s=new Map;return Dt.forEach(t,(c,m)=>{const C=s.get(c.collectionGroup);return(C?Dt.resolve(C):this.getFieldIndexes(e,c.collectionGroup)).next(R=>(s.set(c.collectionGroup,R),Dt.forEach(R,H=>this.mn(e,c,H).next(Z=>{const ue=this.gn(m,H);return Z.isEqual(ue)?Dt.resolve():this.yn(e,m,H,Z,ue)}))))})}pn(e,t,s,c){return G(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.ln(s,t.key),documentKey:t.key.path.toArray()})}In(e,t,s,c){return G(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.ln(s,t.key),t.key.path.toArray()])}mn(e,t,s){const c=G(e);let m=new Vi(pu);return c.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.ln(s,t)])},(C,R)=>{m=m.add(new Uu(s.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>m)}gn(e,t){let s=new Vi(pu);const c=this.hn(t,e);if(null==c)return s;const m=Wi(t);if(null!=m){const C=e.data.field(m.fieldPath);if(U(C))for(const R of C.arrayValue.values||[])s=s.add(new Uu(t.indexId,e.key,this.un(R),c))}else s=s.add(new Uu(t.indexId,e.key,v,c));return s}yn(e,t,s,c,m){Bt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(R,H,Z,ue,He){const It=R.getIterator(),Kt=H.getIterator();let tn=ll(It),Un=ll(Kt);for(;tn||Un;){let cr=!1,fs=!1;if(tn&&Un){const Vs=Z(tn,Un);Vs<0?fs=!0:Vs>0&&(cr=!0)}else null!=tn?fs=!0:cr=!0;cr?(ue(Un),Un=ll(Kt)):fs?(He(tn),tn=ll(It)):(tn=ll(It),Un=ll(Kt))}}(c,m,pu,R=>{C.push(this.pn(e,t,s,R))},R=>{C.push(this.In(e,t,s,R))}),Dt.waitFor(C)}wn(e){let t=1;return ve(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,m)=>{m.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((C,R)=>pu(C,R)).filter((C,R,H)=>!R||0!==pu(C,H[R-1]));const c=[];c.push(e);for(const C of s){const R=pu(C,e),H=pu(C,t);if(0===R)c[0]=e.Ge();else if(R>0&&H<0)c.push(C),c.push(C.Ge());else if(H>0)break}c.push(t);const m=[];for(let C=0;C<c.length;C+=2){if(this.Tn(c[C],c[C+1]))return[];m.push(IDBKeyRange.bound([c[C].indexId,this.uid,c[C].arrayValue,c[C].directionalValue,v,[]],[c[C+1].indexId,this.uid,c[C+1].arrayValue,c[C+1].directionalValue,v,[]]))}return m}Tn(e,t){return pu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($e)}getMinOffset(e,t){return Dt.mapArray(this.en(t),s=>this.nn(e,s).next(c=>c||qt())).next($e)}}function k(i){return Ao(i,"collectionParents")}function G(i){return Ao(i,"indexEntries")}function ie(i){return Ao(i,"indexConfiguration")}function ve(i){return Ao(i,"indexState")}function $e(i){Jt(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const c=i[s].indexState.offset;ua(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Ws(e.readTime,e.documentKey,t)}const Lt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kt{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new kt(e,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zt(i,e,t){const s=i.store("mutations"),c=i.store("documentMutations"),m=[],C=IDBKeyRange.only(t.batchId);let R=0;const H=s.X({range:C},(ue,He,It)=>(R++,It.delete()));m.push(H.next(()=>{Jt(1===R)}));const Z=[];for(const ue of t.mutations){const He=Af(e,ue.key.path,t.batchId);m.push(c.delete(He)),Z.push(ue.key)}return Dt.waitFor(m).next(()=>Z)}function Vn(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw qt();e=i.noDocument}return JSON.stringify(e).length}kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(41943040,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);class ur{constructor(e,t,s,c){this.userId=e,this.Tt=t,this.indexManager=s,this.referenceDelegate=c,this.En={}}static ue(e,t,s,c){Jt(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new ur(m,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ws(e).X({index:"userMutationsIndex",range:s},(c,m,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const m=Eo(e),C=ws(e);return C.add({}).next(R=>{Jt("number"==typeof R);const H=new Pf(R,t,s,c),Z=function(It,Kt,tn){const Un=tn.baseMutations.map(fs=>$n(It.oe,fs)),cr=tn.mutations.map(fs=>$n(It.oe,fs));return{userId:Kt,batchId:tn.batchId,localWriteTimeMs:tn.localWriteTime.toMillis(),baseMutations:Un,mutations:cr}}(this.Tt,this.userId,H),ue=[];let He=new Vi((It,Kt)=>gr(It.canonicalString(),Kt.canonicalString()));for(const It of c){const Kt=Af(this.userId,It.key.path,R);He=He.add(It.key.path.popLast()),ue.push(C.put(Z)),ue.push(m.put(Kt,Oh))}return He.forEach(It=>{ue.push(this.indexManager.addToCollectionParentIndex(e,It))}),e.addOnCommittedListener(()=>{this.En[R]=H.keys()}),Dt.waitFor(ue).next(()=>H)})}lookupMutationBatch(e,t){return ws(e).get(t).next(s=>s?(Jt(s.userId===this.userId),$u(this.Tt,s)):null)}An(e,t){return this.En[t]?Dt.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.En[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return ws(e).X({index:"userMutationsIndex",range:c},(C,R,H)=>{R.userId===this.userId&&(Jt(R.batchId>=s),m=$u(this.Tt,R)),H.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ws(e).X({index:"userMutationsIndex",range:t,reverse:!0},(c,m,C)=>{s=m.batchId,C.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ws(e).W("userMutationsIndex",t).next(s=>s.map(c=>$u(this.Tt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Qd(this.userId,t.path),c=IDBKeyRange.lowerBound(s),m=[];return Eo(e).X({range:c},(C,R,H)=>{const[Z,ue,He]=C,It=zl(ue);if(Z===this.userId&&t.path.isEqual(It))return ws(e).get(He).next(Kt=>{if(!Kt)throw qt();Jt(Kt.userId===this.userId),m.push($u(this.Tt,Kt))});H.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vi(gr);const c=[];return t.forEach(m=>{const C=Qd(this.userId,m.path),R=IDBKeyRange.lowerBound(C),H=Eo(e).X({range:R},(Z,ue,He)=>{const[It,Kt,tn]=Z,Un=zl(Kt);It===this.userId&&m.path.isEqual(Un)?s=s.add(tn):He.done()});c.push(H)}),Dt.waitFor(c).next(()=>this.Rn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,m=Qd(this.userId,s),C=IDBKeyRange.lowerBound(m);let R=new Vi(gr);return Eo(e).X({range:C},(H,Z,ue)=>{const[He,It,Kt]=H,tn=zl(It);He===this.userId&&s.isPrefixOf(tn)?tn.length===c&&(R=R.add(Kt)):ue.done()}).next(()=>this.Rn(e,R))}Rn(e,t){const s=[],c=[];return t.forEach(m=>{c.push(ws(e).get(m).next(C=>{if(null===C)throw qt();Jt(C.userId===this.userId),s.push($u(this.Tt,C))}))}),Dt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return Zt(e.re,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.bn(t.batchId)}),Dt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Dt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return Eo(e).X({range:s},(m,C,R)=>{if(m[0]===this.userId){const H=zl(m[1]);c.push(H)}else R.done()}).next(()=>{Jt(0===c.length)})})}containsKey(e,t){return Ti(e,this.userId,t)}vn(e){return Vo(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ti(i,e,t){const s=Qd(e,t.path),c=s[1],m=IDBKeyRange.lowerBound(s);let C=!1;return Eo(i).X({range:m,Z:!0},(R,H,Z)=>{const[ue,He,It]=R;ue===e&&He===c&&(C=!0),Z.done()}).next(()=>C)}function ws(i){return Ao(i,"mutations")}function Eo(i){return Ao(i,"documentMutations")}function Vo(i){return Ao(i,"mutationQueues")}class ml{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new ml(0)}static Sn(){return new ml(-1)}}class Gp{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const s=new ml(t.highestTargetId);return t.highestTargetId=s.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Yn.fromTimestamp(new wi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Dn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Cn(e,c)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(s=>(s.targetCount+=1,this.Nn(t,s),this.Cn(e,s))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jh(e).delete(t.targetId)).next(()=>this.Dn(e)).next(s=>(Jt(s.targetCount>0),s.targetCount-=1,this.Cn(e,s)))}removeTargets(e,t,s){let c=0;const m=[];return jh(e).X((C,R)=>{const H=Rl(R);H.sequenceNumber<=t&&null===s.get(H.targetId)&&(c++,m.push(this.removeTargetData(e,H)))}).next(()=>Dt.waitFor(m)).next(()=>c)}forEachTarget(e,t){return jh(e).X((s,c)=>{const m=Rl(c);t(m)})}Dn(e){return gv(e).get("targetGlobalKey").next(t=>(Jt(null!==t),t))}Cn(e,t){return gv(e).put("targetGlobalKey",t)}xn(e,t){return jh(e).put(Nf(this.Tt,t))}Nn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=tu(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return jh(e).X({range:c,index:"queryTargetsIndex"},(C,R,H)=>{const Z=Rl(R);bl(t,Z.target)&&(m=Z,H.done())}).next(()=>m)}addMatchingKeys(e,t,s){const c=[],m=fc(e);return t.forEach(C=>{const R=So(C.path);c.push(m.put({targetId:s,path:R})),c.push(this.referenceDelegate.addReference(e,s,C))}),Dt.waitFor(c)}removeMatchingKeys(e,t,s){const c=fc(e);return Dt.forEach(t,m=>{const C=So(m.path);return Dt.waitFor([c.delete([s,C]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,t){const s=fc(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=fc(e);let m=Er();return c.X({range:s,Z:!0},(C,R,H)=>{const Z=zl(C[1]),ue=new gn(Z);m=m.add(ue)}).next(()=>m)}containsKey(e,t){const s=So(t.path),c=IDBKeyRange.bound([s],[ql(s)],!1,!0);let m=0;return fc(e).X({index:"documentTargetsIndex",Z:!0,range:c},([C,R],H,Z)=>{0!==C&&(m++,Z.done())}).next(()=>m>0)}ie(e,t){return jh(e).get(t).next(s=>s?Rl(s):null)}}function jh(i){return Ao(i,"targets")}function gv(i){return Ao(i,"targetGlobal")}function fc(i){return Ao(i,"targetDocuments")}function mv([i,e],[t,s]){const c=gr(i,t);return 0===c?gr(e,s):c}class hm{constructor(e){this.kn=e,this.buffer=new Vi(mv),this.On=0}Mn(){return++this.On}Fn(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();mv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fm{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var t=this;Bt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,le.Z)(function*(){t.$n=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Oa(s)?Bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ra(s)}yield t.Bn(3e5)}))}}class yv{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Dt.resolve(go.at);const s=new hm(t);return this.Ln.forEachTarget(e,c=>s.Fn(c.sequenceNumber)).next(()=>this.Ln.Un(e,c=>s.Fn(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Ln.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(Lt)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lt):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let s,c,m,C,R,H,Z;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(He=>(He>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${He}`),c=this.params.maximumSequenceNumbersToCollect):c=He,C=Date.now(),this.nthSequenceNumber(e,c))).next(He=>(s=He,R=Date.now(),this.removeTargets(e,s,t))).next(He=>(m=He,H=Date.now(),this.removeOrphanedDocuments(e,s))).next(He=>(Z=Date.now(),On()<=et.in.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ue}ms\n\tDetermined least recently used ${c} in `+(R-C)+`ms\n\tRemoved ${m} targets in `+(H-R)+`ms\n\tRemoved ${He} documents in `+(Z-H)+`ms\nTotal Duration: ${Z-ue}ms`),Dt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:He})))}}class pm{constructor(e,t){this.db=e,this.garbageCollector=new yv(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Gn(e){let t=0;return this.Un(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(s,c)=>t(c))}addReference(e,t,s){return Lf(e,s)}removeReference(e,t,s){return Lf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Lf(e,t)}jn(e,t){return function(s,c){let m=!1;return Vo(s).tt(C=>Ti(s,C,c).next(R=>(R&&(m=!0),Dt.resolve(!R)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Qn(e,(C,R)=>{if(R<=t){const H=this.jn(e,C).next(Z=>{if(!Z)return m++,s.getEntry(e,C).next(()=>(s.removeEntry(C,Yn.min()),fc(e).delete([0,So(C.path)])))});c.push(H)}}).next(()=>Dt.waitFor(c)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Lf(e,t)}Qn(e,t){const s=fc(e);let c,m=go.at;return s.X({index:"documentTargetsIndex"},([C,R],{path:H,sequenceNumber:Z})=>{0===C?(m!==go.at&&t(new gn(zl(c)),m),m=Z,c=H):m=go.at}).next(()=>{m!==go.at&&t(new gn(zl(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lf(i,e){return fc(i).put((s=i.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:s}));var s}class gm{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ji.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Dt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gu{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return yd(e).put(s)}removeEntry(e,t,s){return yd(e).delete(function(c,m){const C=c.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],rh(m),C[C.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.zn(e,s)))}getEntry(e,t){let s=Ji.newInvalidDocument(t);return yd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hh(t))},(c,m)=>{s=this.Wn(t,m)}).next(()=>s)}Hn(e,t){let s={size:0,document:Ji.newInvalidDocument(t)};return yd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hh(t))},(c,m)=>{s={document:this.Wn(t,m),size:Vn(m)}}).next(()=>s)}getEntries(e,t){let s=Zo();return this.Jn(e,t,(c,m)=>{const C=this.Wn(c,m);s=s.insert(c,C)}).next(()=>s)}Yn(e,t){let s=Zo(),c=new as(gn.comparator);return this.Jn(e,t,(m,C)=>{const R=this.Wn(m,C);s=s.insert(m,R),c=c.insert(m,Vn(C))}).next(()=>({documents:s,Zn:c}))}Jn(e,t,s){if(t.isEmpty())return Dt.resolve();let c=new Vi(zp);t.forEach(H=>c=c.add(H));const m=IDBKeyRange.bound(Hh(c.first()),Hh(c.last())),C=c.getIterator();let R=C.getNext();return yd(e).X({index:"documentKeyIndex",range:m},(H,Z,ue)=>{const He=gn.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;R&&zp(R,He)<0;)s(R,null),R=C.getNext();R&&R.isEqual(He)&&(s(R,Z),R=C.hasNext()?C.getNext():null),R?ue.j(Hh(R)):ue.done()}).next(()=>{for(;R;)s(R,null),R=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,t,s,c){const m=t.path,C=[m.popLast().toArray(),m.lastSegment(),rh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yd(e).W(IDBKeyRange.bound(C,R,!0)).next(H=>{let Z=Zo();for(const ue of H){const He=this.Wn(gn.fromSegments(ue.prefixPath.concat(ue.collectionGroup,ue.documentId)),ue);He.isFoundDocument()&&(Au(t,He)||c.has(He.key))&&(Z=Z.insert(He.key,He))}return Z})}getAllFromCollectionGroup(e,t,s,c){let m=Zo();const C=_m(t,s),R=_m(t,Ws.max());return yd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,R,!0)},(H,Z,ue)=>{const He=this.Wn(gn.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);m=m.insert(He.key,He),m.size===c&&ue.done()}).next(()=>m)}newChangeBuffer(e){return new ym(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vm(e).get("remoteDocumentGlobalKey").next(t=>(Jt(!!t),t))}zn(e,t){return vm(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const s=function th(i,e){let t;if(e.document)t=ft(i.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=gn.fromSegments(e.noDocument.path),c=Bu(e.noDocument.readTime);t=Ji.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return qt();{const s=gn.fromSegments(e.unknownDocument.path),c=Bu(e.unknownDocument.version);t=Ji.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new wi(s[0],s[1]);return Yn.fromTimestamp(c)}(e.readTime)),t}(this.Tt,t);if(!s.isNoDocument()||!s.version.isEqual(Yn.min()))return s}return Ji.newInvalidDocument(e)}}function mm(i){return new gu(i)}class ym extends gm{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Da(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new Vi((m,C)=>gr(m.canonicalString(),C.canonicalString()));return this.changes.forEach((m,C)=>{const R=this.ts.get(m);if(t.push(this.Xn.removeEntry(e,m,R.readTime)),C.isValidDocument()){const H=nh(this.Xn.Tt,C);c=c.add(m.path.popLast());const Z=Vn(H);s+=Z-R.size,t.push(this.Xn.addEntry(e,m,H))}else if(s-=R.size,this.trackRemovals){const H=nh(this.Xn.Tt,C.convertToNoDocument(Yn.min()));t.push(this.Xn.addEntry(e,m,H))}}),c.forEach(m=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Xn.updateMetadata(e,s)),Dt.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(s=>(this.ts.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:s,Zn:c})=>(c.forEach((m,C)=>{this.ts.set(m,{size:C,readTime:s.get(m).readTime})}),s))}}function vm(i){return Ao(i,"remoteDocumentGlobal")}function yd(i){return Ao(i,"remoteDocumentsV14")}function Hh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _m(i,e){const t=e.documentKey.path.toArray();return[i,rh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zp(i,e){const t=i.path.toArray(),s=e.path.toArray();let c=0;for(let m=0;m<t.length-2&&m<s.length-2;++m)if(c=gr(t[m],s[m]),c)return c;return c=gr(t.length,s.length),c||(c=gr(t[t.length-2],s[s.length-2]),c||gr(t[t.length-1],s[s.length-1]))}class vv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Em{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&nc(s.mutation,c,hs.empty(),wi.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Er()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Er()){const c=ro();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(m=>{let C=Ul();return m.forEach((R,H)=>{C=C.insert(R,H.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const s=ro();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Er()))}populateOverlays(e,t,s){const c=[];return s.forEach(m=>{t.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(e,c).next(m=>{m.forEach((C,R)=>{t.set(C,R)})})}computeViews(e,t,s,c){let m=Zo();const C=Al(),R=Al();return t.forEach((H,Z)=>{const ue=s.get(Z.key);c.has(Z.key)&&(void 0===ue||ue.mutation instanceof qo)?m=m.insert(Z.key,Z):void 0!==ue?(C.set(Z.key,ue.mutation.getFieldMask()),nc(ue.mutation,Z,ue.mutation.getFieldMask(),wi.now())):C.set(Z.key,hs.empty())}),this.recalculateAndSaveOverlays(e,m).next(H=>(H.forEach((Z,ue)=>C.set(Z,ue)),t.forEach((Z,ue)=>{var He;return R.set(Z,new vv(ue,null!==(He=C.get(Z))&&void 0!==He?He:null))}),R))}recalculateAndSaveOverlays(e,t){const s=Al();let c=new as((C,R)=>C-R),m=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const R of C)R.keys().forEach(H=>{const Z=t.get(H);if(null===Z)return;let ue=s.get(H)||hs.empty();ue=R.applyToLocalView(Z,ue),s.set(H,ue);const He=(c.get(R.batchId)||Er()).add(H);c=c.insert(R.batchId,He)})}).next(()=>{const C=[],R=c.getReverseIterator();for(;R.hasNext();){const H=R.getNext(),Z=H.key,ue=H.value,He=Lo();ue.forEach(It=>{if(!m.has(It)){const Kt=Sl(t.get(It),s.get(It));null!==Kt&&He.set(It,Kt),m=m.add(It)}}),C.push(this.documentOverlayCache.saveOverlays(e,Z,He))}return Dt.waitFor(C)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return gn.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ll(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(m=>{const C=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-m.size):Dt.resolve(ro());let R=-1,H=m;return C.next(Z=>Dt.forEach(Z,(ue,He)=>(R<He.largestBatchId&&(R=He.largestBatchId),m.get(ue)?Dt.resolve():this.remoteDocumentCache.getEntry(e,ue).next(It=>{H=H.insert(ue,It)}))).next(()=>this.populateOverlays(e,Z,m)).next(()=>this.computeViews(e,H,Z,Er())).next(ue=>({batchId:R,changes:vo(ue)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(s=>{let c=Ul();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let m=Ul();return this.indexManager.getCollectionParents(e,c).next(C=>Dt.forEach(C,R=>{const H=(Z=t,ue=R.child(c),new Pi(ue,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,ue;return this.getDocumentsMatchingCollectionQuery(e,H,s).next(Z=>{Z.forEach((ue,He)=>{m=m.insert(ue,He)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c))).next(m=>{c.forEach((R,H)=>{const Z=H.getKey();null===m.get(Z)&&(m=m.insert(Z,Ji.newInvalidDocument(Z)))});let C=Ul();return m.forEach((R,H)=>{const Z=c.get(R);void 0!==Z&&nc(Z.mutation,H,hs.empty(),wi.now()),Au(t,H)&&(C=C.insert(R,H))}),C})}}class _v{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Dt.resolve(this.es.get(t))}saveBundleMetadata(e,t){var s;return this.es.set(t.id,{id:(s=t).id,version:s.version,createTime:Ns(s.createTime)}),Dt.resolve()}getNamedQuery(e,t){return Dt.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(s=t).name,query:fd(s.bundledQuery),readTime:Ns(s.readTime)}),Dt.resolve();var s}}class ti{constructor(){this.overlays=new as(gn.comparator),this.ss=new Map}getOverlay(e,t){return Dt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ro();return Dt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&s.set(c,m)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,m)=>{this.ce(e,t,m)}),Dt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.ss.get(s);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.ss.delete(s)),Dt.resolve()}getOverlaysForCollection(e,t,s){const c=ro(),m=t.length+1,C=new gn(t.child("")),R=this.overlays.getIteratorFrom(C);for(;R.hasNext();){const H=R.getNext().value,Z=H.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===m&&H.largestBatchId>s&&c.set(H.getKey(),H)}return Dt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let m=new as((Z,ue)=>Z-ue);const C=this.overlays.getIterator();for(;C.hasNext();){const Z=C.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>s){let ue=m.get(Z.largestBatchId);null===ue&&(ue=ro(),m=m.insert(Z.largestBatchId,ue)),ue.set(Z.getKey(),Z)}}const R=ro(),H=m.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((Z,ue)=>R.set(Z,ue)),!(R.size()>=c)););return Dt.resolve(R)}ce(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const C=this.ss.get(c.largestBatchId).delete(s.key);this.ss.set(c.largestBatchId,C)}this.overlays=this.overlays.insert(s.key,new Ml(t,s));let m=this.ss.get(t);void 0===m&&(m=Er(),this.ss.set(t,m)),this.ss.set(t,m.add(s.key))}}class Bf{constructor(){this.rs=new Vi(Xo.os),this.us=new Vi(Xo.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const s=new Xo(e,t);this.rs=this.rs.add(s),this.us=this.us.add(s)}hs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ls(new Xo(e,t))}fs(e,t){e.forEach(s=>this.removeReference(s,t))}ds(e){const t=new gn(new Kr([])),s=new Xo(t,e),c=new Xo(t,e+1),m=[];return this.us.forEachInRange([s,c],C=>{this.ls(C),m.push(C.key)}),m}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new gn(new Kr([])),s=new Xo(t,e),c=new Xo(t,e+1);let m=Er();return this.us.forEachInRange([s,c],C=>{m=m.add(C.key)}),m}containsKey(e){const t=new Xo(e,0),s=this.rs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Xo{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return gn.comparator(e.key,t.key)||gr(e.gs,t.gs)}static cs(e,t){return gr(e.gs,t.gs)||gn.comparator(e.key,t.key)}}class Im{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new Vi(Xo.os)}checkEmpty(e){return Dt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const m=this.ys;this.ys++;const C=new Pf(m,t,s,c);this.mutationQueue.push(C);for(const R of c)this.ps=this.ps.add(new Xo(R.key,m)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return Dt.resolve(C)}lookupMutationBatch(e,t){return Dt.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.Ts(t+1),m=c<0?0:c;return Dt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Dt.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xo(t,0),c=new Xo(t,Number.POSITIVE_INFINITY),m=[];return this.ps.forEachInRange([s,c],C=>{const R=this.Is(C.gs);m.push(R)}),Dt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vi(gr);return t.forEach(c=>{const m=new Xo(c,0),C=new Xo(c,Number.POSITIVE_INFINITY);this.ps.forEachInRange([m,C],R=>{s=s.add(R.gs)})}),Dt.resolve(this.Es(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let m=s;gn.isDocumentKey(m)||(m=m.child(""));const C=new Xo(new gn(m),0);let R=new Vi(gr);return this.ps.forEachWhile(H=>{const Z=H.key.path;return!!s.isPrefixOf(Z)&&(Z.length===c&&(R=R.add(H.gs)),!0)},C),Dt.resolve(this.Es(R))}Es(e){const t=[];return e.forEach(s=>{const c=this.Is(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Jt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let s=this.ps;return Dt.forEach(t.mutations,c=>{const m=new Xo(c.key,t.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ps=s})}bn(e){}containsKey(e,t){const s=new Xo(t,0),c=this.ps.firstAfterOrEqual(s);return Dt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Dt.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ev{constructor(e){this.Rs=e,this.docs=new as(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),m=c?c.size:0,C=this.Rs(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:C}),this.size+=C-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Dt.resolve(s?s.document.mutableCopy():Ji.newInvalidDocument(t))}getEntries(e,t){let s=Zo();return t.forEach(c=>{const m=this.docs.get(c);s=s.insert(c,m?m.document.mutableCopy():Ji.newInvalidDocument(c))}),Dt.resolve(s)}getDocumentsMatchingQuery(e,t,s,c){let m=Zo();const C=t.path,R=new gn(C.child("")),H=this.docs.getIteratorFrom(R);for(;H.hasNext();){const{key:Z,value:{document:ue}}=H.getNext();if(!C.isPrefixOf(Z.path))break;Z.path.length>C.length+1||ua(Ql(ue),s)<=0||(c.has(ue.key)||Au(t,ue))&&(m=m.insert(ue.key,ue.mutableCopy()))}return Dt.resolve(m)}getAllFromCollectionGroup(e,t,s,c){qt()}bs(e,t){return Dt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Iv(this)}getSize(e){return Dt.resolve(this.size)}}class Iv extends gm{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.Xn.addEntry(e,c)):this.Xn.removeEntry(s)}),Dt.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class wm{constructor(e){this.persistence=e,this.vs=new Da(t=>tu(t),bl),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new Bf,this.targetCount=0,this.Ss=ml.Vn()}forEachTarget(e,t){return this.vs.forEach((s,c)=>t(c)),Dt.resolve()}getLastRemoteSnapshotVersion(e){return Dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Dt.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Dt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ps&&(this.Ps=t),Dt.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Dt.resolve()}updateTargetData(e,t){return this.xn(t),Dt.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Dt.resolve()}removeTargets(e,t,s){let c=0;const m=[];return this.vs.forEach((C,R)=>{R.sequenceNumber<=t&&null===s.get(R.targetId)&&(this.vs.delete(C),m.push(this.removeMatchingKeysForTargetId(e,R.targetId)),c++)}),Dt.waitFor(m).next(()=>c)}getTargetCount(e){return Dt.resolve(this.targetCount)}getTargetData(e,t){const s=this.vs.get(t)||null;return Dt.resolve(s)}addMatchingKeys(e,t,s){return this.Vs.hs(t,s),Dt.resolve()}removeMatchingKeys(e,t,s){this.Vs.fs(t,s);const c=this.persistence.referenceDelegate,m=[];return c&&t.forEach(C=>{m.push(c.markPotentiallyOrphaned(e,C))}),Dt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Dt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Vs.ws(t);return Dt.resolve(s)}containsKey(e,t){return Dt.resolve(this.Vs.containsKey(t))}}class Cm{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new go(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new wm(this),this.indexManager=new u,this.remoteDocumentCache=new Ev(s=>this.referenceDelegate.ks(s)),this.Tt=new fa(t),this.Os=new _v(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ti,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ds[e.toKey()];return s||(s=new Im(t,this.referenceDelegate),this.Ds[e.toKey()]=s),s}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,s){Bt("MemoryPersistence","Starting transaction:",e);const c=new bm(this.Cs.next());return this.referenceDelegate.Ms(),s(c).next(m=>this.referenceDelegate.Fs(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}$s(e,t){return Dt.or(Object.values(this.Ds).map(s=>()=>s.containsKey(e,t)))}}class bm extends Qi{constructor(e){super(),this.currentSequenceNumber=e}}class $f{constructor(e){this.persistence=e,this.Bs=new Bf,this.Ls=null}static qs(e){return new $f(e)}get Us(){if(this.Ls)return this.Ls;throw qt()}addReference(e,t,s){return this.Bs.addReference(s,t),this.Us.delete(s.toString()),Dt.resolve()}removeReference(e,t,s){return this.Bs.removeReference(s,t),this.Us.add(s.toString()),Dt.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Dt.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(c=>this.Us.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(m=>this.Us.add(m.toString()))}).next(()=>s.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.Us,s=>{const c=gn.fromPath(s);return this.Ks(e,c).next(m=>{m||t.removeEntry(c,Yn.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(s=>{s?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Dt.or([()=>Dt.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class wv{constructor(e){this.Tt=e}$(e,t,s,c){const m=new Xl("createOrUpgrade",t);var R;s<1&&c>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sf,{unique:!0}),R.createObjectStore("documentMutations"),Cv(e),function(R){R.createObjectStore("remoteDocuments")}(e));let C=Dt.resolve();return s<3&&c>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Cv(e)),C=C.next(()=>function(R){const H=R.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Z)}(m))),s<4&&c>=4&&(0!==s&&(C=C.next(()=>function(R,H){return H.store("mutations").W().next(Z=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sf,{unique:!0});const ue=H.store("mutations"),He=Z.map(It=>ue.put(It));return Dt.waitFor(He)})}(e,m))),C=C.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(C=C.next(()=>this.Gs(m))),s<6&&c>=6&&(C=C.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(m)))),s<7&&c>=7&&(C=C.next(()=>this.js(m))),s<8&&c>=8&&(C=C.next(()=>this.zs(e,m))),s<9&&c>=9&&(C=C.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(C=C.next(()=>this.Ws(m))),s<11&&c>=11&&(C=C.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(C=C.next(()=>{!function(R){const H=R.createObjectStore("documentOverlays",{keyPath:Lp});H.createIndex("collectionPathOverlayIndex",Bp,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",$p,{unique:!1})}(e)})),s<13&&c>=13&&(C=C.next(()=>function(R){const H=R.createObjectStore("remoteDocumentsV14",{keyPath:Xd});H.createIndex("documentKeyIndex",Op),H.createIndex("collectionGroupIndex",xf)}(e)).next(()=>this.Hs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(C=C.next(()=>this.Js(e,m))),s<15&&c>=15&&(C=C.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Rf}).createIndex("sequenceNumberIndex",Of,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:kp}).createIndex("documentKeyIndex",Fp,{unique:!1})}(e))),C}Qs(e){let t=0;return e.store("remoteDocuments").X((s,c)=>{t+=Vn(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Gs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(c=>Dt.forEach(c,m=>{const C=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",C).next(R=>Dt.forEach(R,H=>{Jt(H.userId===m.userId);const Z=$u(this.Tt,H);return Zt(e,m.userId,Z).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return s.X((C,R)=>{const H=new Kr(C),Z=[0,So(H)];m.push(t.get(Z).next(ue=>ue?Dt.resolve():t.put({targetId:0,path:So(H),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Dt.waitFor(m))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:Np});const s=t.store("collectionParents"),c=new d,m=C=>{if(c.add(C)){const R=C.lastSegment(),H=C.popLast();return s.put({collectionId:R,parent:So(H)})}};return t.store("remoteDocuments").X({Z:!0},(C,R)=>{const H=new Kr(C);return m(H.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([C,R,H],Z)=>{const ue=zl(R);return m(ue.popLast())}))}Ws(e){const t=e.store("targets");return t.X((s,c)=>{const m=Rl(c),C=Nf(this.Tt,m);return t.put(C)})}Hs(e,t){const s=t.store("remoteDocuments"),c=[];return s.X((m,C)=>{const R=t.store("remoteDocumentsV14"),H=(Z=C,Z.document?new gn(Kr.fromString(Z.document.name).popFirst(5)):Z.noDocument?gn.fromSegments(Z.noDocument.path):Z.unknownDocument?gn.fromSegments(Z.unknownDocument.path):qt()).path.toArray();var Z;const ue={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};c.push(R.put(ue))}).next(()=>Dt.waitFor(c))}Js(e,t){const s=t.store("mutations"),c=mm(this.Tt),m=new Cm($f.qs,this.Tt.oe);return s.W().next(C=>{const R=new Map;return C.forEach(H=>{var Z;let ue=null!==(Z=R.get(H.userId))&&void 0!==Z?Z:Er();$u(this.Tt,H).keys().forEach(He=>ue=ue.add(He)),R.set(H.userId,ue)}),Dt.forEach(R,(H,Z)=>{const ue=new ye(Z),He=ac.ue(this.Tt,ue),It=m.getIndexManager(ue),Kt=ur.ue(ue,this.Tt,It,m.referenceDelegate);return new Em(c,Kt,He,It).recalculateAndSaveOverlaysForDocumentKeys(new eh(t,go.at),H).next()})})}}function Cv(i){i.createObjectStore("targetDocuments",{keyPath:_o}).createIndex("documentTargetsIndex",Pp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mf,{unique:!0}),i.createObjectStore("targetGlobal")}const Vf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uf{constructor(e,t,s,c,m,C,R,H,Z,ue,He=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Ys=m,this.window=C,this.document=R,this.Zs=Z,this.Xs=ue,this.ti=He,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=It=>Promise.resolve(),!Uf.C())throw new zt(Ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pm(this,c),this.oi=t+"main",this.Tt=new fa(H),this.ui=new Rs(this.oi,this.ti,new wv(this.Tt)),this.Ns=new Gp(this.referenceDelegate,this.Tt),this.remoteDocumentCache=mm(this.Tt),this.Os=new gd,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===ue&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zt(Ct.FAILED_PRECONDITION,Vf);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new go(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var s=(0,le.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,le.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,le.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Oa(e))return Bt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return mu(e).get("owner").next(t=>Dt.resolve(this.yi(t)))}pi(e){return jf(e).delete(this.clientId)}Ii(){var e=this;return(0,le.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Ao(s,"clientMetadata");return c.W().next(m=>{const C=e.Ei(m,18e5),R=m.filter(H=>-1===C.indexOf(H));return Dt.forEach(R,H=>c.delete(H.clientId)).next(()=>R)})}).catch(()=>[]);if(e.ci)for(const s of t)e.ci.removeItem(e.Ai(s.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?Dt.resolve(!0):mu(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new zt(Ct.FAILED_PRECONDITION,Vf);return!1}}return!(!this.networkEnabled||!this.inForeground)||jf(e).W().next(s=>void 0===this.Ei(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Bt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,le.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new eh(t,go.at);return e.mi(s).next(()=>e.pi(s))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(s=>this.Ti(s.updateTimeMs,t)&&!this.Ri(s.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>jf(e).W().next(t=>this.Ei(t,18e5).map(s=>s.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return ur.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new S(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return ac.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,t,s){Bt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",m=15===(C=this.ti)?Ph:14===C?Jd:13===C?Fc:12===C?dm:11===C?cm:void qt();var C;let R;return this.ui.runTransaction(e,c,m,H=>(R=new eh(H,this.Cs?this.Cs.next():go.at),"readwrite-primary"===t?this._i(R).next(Z=>!!Z||this.wi(R)).next(Z=>{if(!Z)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new zt(Ct.FAILED_PRECONDITION,Ea);return s(R)}).next(Z=>this.gi(R).next(()=>Z)):this.Di(R).next(()=>s(R)))).then(H=>(R.raiseOnCommittedEvent(),H))}Di(e){return mu(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new zt(Ct.FAILED_PRECONDITION,Vf)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mu(e).put("owner",t)}static C(){return Rs.C()}mi(e){const t=mu(e);return t.get("owner").next(s=>this.yi(s)?(Bt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Dt.resolve())}Ti(e,t){const s=Date.now();return!(e<s-t||e>s&&(tr(`Detected an update time that is in the future: ${e} > ${s}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,Qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const s=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Bt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return tr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(e){}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mu(i){return Ao(i,"owner")}function jf(i){return Ao(i,"clientMetadata")}function Gh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class zh{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Ci=s,this.xi=c}static Ni(e,t){let s=Er(),c=Er();for(const m of t.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new zh(e,t.fromCache,s,c)}}class Dm{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,s,c){return this.Mi(e,t).next(m=>m||this.Fi(e,t,c,s)).next(m=>m||this.$i(e,t))}Mi(e,t){if(Su(t))return Dt.resolve(null);let s=rs(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Ju(t,null,"F"),s=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const C=Er(...m);return this.Oi.getDocuments(e,C).next(R=>this.indexManager.getMinOffset(e,s).next(H=>{const Z=this.Bi(t,R);return this.Li(t,Z,C,H.readTime)?this.Mi(e,Ju(t,null,"F")):this.qi(e,Z,t,H)}))})))}Fi(e,t,s,c){return Su(t)||c.isEqual(Yn.min())?this.$i(e,t):this.Oi.getDocuments(e,s).next(m=>{const C=this.Bi(t,m);return this.Li(t,C,s,c)?this.$i(e,t):(On()<=et.in.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ps(t)),this.qi(e,C,t,Zl(c,-1)))})}Bi(e,t){let s=new Vi(su(e));return t.forEach((c,m)=>{Au(e,m)&&(s=s.add(m))}),s}Li(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}$i(e,t){return On()<=et.in.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",Ps(t)),this.Oi.getDocumentsMatchingQuery(e,t,Ws.min())}qi(e,t,s,c){return this.Oi.getDocumentsMatchingQuery(e,s,c).next(m=>(t.forEach(C=>{m=m.insert(C.key,C)}),m))}}class l0{constructor(e,t,s,c){this.persistence=e,this.Ui=t,this.Tt=c,this.Ki=new as(gr),this.Gi=new Da(m=>tu(m),bl),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(s)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Em(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function bv(i,e,t,s){return new l0(i,e,t,s)}function Dv(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,le.Z)(function*(i,e){const t=un(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(m=>(c=m,t.zi(e),t.mutationQueue.getAllMutationBatches(s))).next(m=>{const C=[],R=[];let H=Er();for(const Z of c){C.push(Z.batchId);for(const ue of Z.mutations)H=H.add(ue.key)}for(const Z of m){R.push(Z.batchId);for(const ue of Z.mutations)H=H.add(ue.key)}return t.localDocuments.getDocuments(s,H).next(Z=>({Wi:Z,removedBatchIds:C,addedBatchIds:R}))})})}),Wp.apply(this,arguments)}function Tv(i){const e=un(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function vd(i,e,t){let s=Er(),c=Er();return t.forEach(m=>s=s.add(m)),e.getEntries(i,s).next(m=>{let C=Zo();return t.forEach((R,H)=>{const Z=m.get(R);H.isFoundDocument()!==Z.isFoundDocument()&&(c=c.add(R)),H.isNoDocument()&&H.version.isEqual(Yn.min())?(e.removeEntry(R,H.readTime),C=C.insert(R,H)):!Z.isValidDocument()||H.version.compareTo(Z.version)>0||0===H.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(H),C=C.insert(R,H)):Bt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Z.version," Watch version:",H.version)}),{Hi:C,Ji:c}})}function Av(i,e){const t=un(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _d(i,e){const t=un(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Ns.getTargetData(s,e).next(m=>m?(c=m,Dt.resolve(c)):t.Ns.allocateTargetId(s).next(C=>(c=new Is(e,C,0,s.currentSequenceNumber),t.Ns.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.Ki.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(s.targetId,s),t.Gi.set(e,s.targetId)),s})}function pc(i,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,le.Z)(function*(i,e,t){const s=un(i),c=s.Ki.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",m,C=>s.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!Oa(C))throw C;Bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}s.Ki=s.Ki.remove(e),s.Gi.delete(c.target)}),Kp.apply(this,arguments)}function Wh(i,e,t){const s=un(i);let c=Yn.min(),m=Er();return s.persistence.runTransaction("Execute query","readonly",C=>function(R,H,Z){const ue=un(R),He=ue.Gi.get(Z);return void 0!==He?Dt.resolve(ue.Ki.get(He)):ue.Ns.getTargetData(H,Z)}(s,C,rs(e)).next(R=>{if(R)return c=R.lastLimboFreeSnapshotVersion,s.Ns.getMatchingKeysForTargetId(C,R.targetId).next(H=>{m=H})}).next(()=>s.Ui.getDocumentsMatchingQuery(C,e,t?c:Yn.min(),t?m:Er())).next(R=>(xm(s,zd(e),R),{documents:R,Yi:m})))}function Sm(i,e){const t=un(i),s=un(t.Ns),c=t.Ki.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",m=>s.ie(m,e).next(C=>C?C.target:null))}function Am(i,e){const t=un(i),s=t.Qi.get(e)||Yn.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.ji.getAllFromCollectionGroup(c,e,Zl(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(xm(t,e,c),c))}function xm(i,e,t){let s=i.Qi.get(e)||Yn.min();t.forEach((c,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),i.Qi.set(e,s)}function Yp(){return Yp=(0,le.Z)(function*(i,e,t,s){const c=un(i);let m=Er(),C=Zo();for(const Z of t){const ue=e.Zi(Z.metadata.name);Z.document&&(m=m.add(ue));const He=e.Xi(Z);He.setReadTime(e.tr(Z.metadata.readTime)),C=C.insert(ue,He)}const R=c.ji.newChangeBuffer({trackRemovals:!0}),H=yield _d(c,(Z=s,rs(iu(Kr.fromString(`__bundle__/docs/${Z}`)))));var Z;return c.persistence.runTransaction("Apply bundle documents","readwrite",Z=>vd(Z,R,C).next(ue=>(R.apply(Z),ue)).next(ue=>c.Ns.removeMatchingKeysForTargetId(Z,H.targetId).next(()=>c.Ns.addMatchingKeys(Z,m,H.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Z,ue.Hi,ue.Ji)).next(()=>ue.Hi)))}),Yp.apply(this,arguments)}function Mm(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,le.Z)(function*(i,e,t=Er()){const s=yield _d(i,rs(fd(e.bundledQuery))),c=un(i);return c.persistence.runTransaction("Save named query","readwrite",m=>{const C=Ns(e.readTime);if(s.snapshotVersion.compareTo(C)>=0)return c.Os.saveNamedQuery(m,e);const R=s.withResumeToken(Bs.EMPTY_BYTE_STRING,C);return c.Ki=c.Ki.insert(R.targetId,R),c.Ns.updateTargetData(m,R).next(()=>c.Ns.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>c.Ns.addMatchingKeys(m,t,s.targetId)).next(()=>c.Os.saveNamedQuery(m,e))})}),qp.apply(this,arguments)}function Zp(i,e){return`firestore_clients_${i}_${e}`}function Qp(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Kh(i,e){return`firestore_targets_${i}_${e}`}class Xp{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static er(e,t,s){const c=JSON.parse(s);let m,C="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(m=new zt(c.error.code,c.error.message))),C?new Xp(e,t,c.state,m):(tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ed{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static er(e,t){const s=JSON.parse(t);let c,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(c=new zt(s.error.code,s.error.message))),m?new Ed(e,s.state,c):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,m=Nu();for(let C=0;c&&C<s.activeTargetIds.length;++C)c=Il(s.activeTargetIds[C]),m=m.add(s.activeTargetIds[C]);return c?new Hf(e,m):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Rm{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Rm(t.clientId,t.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Lc{constructor(){this.activeTargetIds=Nu()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gf{constructor(e,t,s,c,m){this.window=e,this.Ys=t,this.persistenceKey=s,this.rr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new as(gr),this.started=!1,this.hr=[];const C=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.lr=Zp(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new Lc),this._r=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,le.Z)(function*(){const t=yield e.syncEngine.Si();for(const c of t){if(c===e.rr)continue;const m=e.getItem(Zp(e.persistenceKey,c));if(m){const C=Hf.er(c,m);C&&(e.ar=e.ar.insert(C.clientId,C))}}e.pr();const s=e.storage.getItem(e.gr);if(s){const c=e.Ir(s);c&&e.Tr(c)}for(const c of e.hr)e.cr(c);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,s){this.Ar(e,t,s),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Kh(this.persistenceKey,e));if(s){const c=Ed.er(e,s);c&&(t=c.state)}}return this.br.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kh(this.persistenceKey,e))}updateQueryState(e,t,s){this.vr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Rr(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Bt("SharedClientState","READ",e,t),t}setItem(e,t){Bt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Bt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Bt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.lr)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,le.Z)(function*(){if(t.started){if(null!==s.key)if(t._r.test(s.key)){if(null==s.newValue){const c=t.Sr(s.key);return t.Dr(c,null)}{const c=t.Cr(s.key,s.newValue);if(c)return t.Dr(c.clientId,c)}}else if(t.wr.test(s.key)){if(null!==s.newValue){const c=t.Nr(s.key,s.newValue);if(c)return t.kr(c)}}else if(t.mr.test(s.key)){if(null!==s.newValue){const c=t.Or(s.key,s.newValue);if(c)return t.Mr(c)}}else if(s.key===t.gr){if(null!==s.newValue){const c=t.Ir(s.newValue);if(c)return t.Tr(c)}}else if(s.key===t.dr){const c=function(m){let C=go.at;if(null!=m)try{const R=JSON.parse(m);Jt("number"==typeof R),C=R}catch(R){tr("SharedClientState","Failed to read sequence number from WebStorage",R)}return C}(s.newValue);c!==go.at&&t.sequenceNumberHandler(c)}else if(s.key===t.yr){const c=t.Fr(s.newValue);yield Promise.all(c.map(m=>t.syncEngine.$r(m)))}}else t.hr.push(s)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,t,s){const c=new Xp(this.currentUser,e,t,s),m=Qp(this.persistenceKey,this.currentUser,e);this.setItem(m,c.nr())}Rr(e){const t=Qp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,s){const c=Kh(this.persistenceKey,e),m=new Ed(e,t,s);this.setItem(c,m.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const s=this.Sr(e);return Hf.er(s,t)}Nr(e,t){const s=this.wr.exec(e),c=Number(s[1]);return Xp.er(new ye(void 0!==s[2]?s[2]:null),c,t)}Or(e,t){const s=this.mr.exec(e),c=Number(s[1]);return Ed.er(c,t)}Ir(e){return Rm.er(e)}Fr(e){return JSON.parse(e)}kr(e){var t=this;return(0,le.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Bt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const s=t?this.ar.insert(e,t):this.ar.remove(e),c=this.Er(this.ar),m=this.Er(s),C=[],R=[];return m.forEach(H=>{c.has(H)||C.push(H)}),c.forEach(H=>{m.has(H)||R.push(H)}),this.syncEngine.qr(C,R).then(()=>{this.ar=s})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=Nu();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class Om{constructor(){this.Ur=new Lc,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,s){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Lc,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pm{Gr(e){}shutdown(){}}class Nm{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zf{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class ih extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,s,c,m){const C=this.fo(e,t);Bt("RestConnection","Sending: ",C,s);const R={};return this._o(R,c,m),this.wo(e,C,R,s).then(H=>(Bt("RestConnection","Received: ",H),H),H=>{throw Jn("RestConnection",`${e} failed with error: `,H,"url: ",C,"request:",s),H})}mo(e,t,s,c,m,C){return this.lo(e,t,s,c,m)}_o(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Et,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,m)=>e[m]=c),s&&s.headers.forEach((c,m)=>e[m]=c)}fo(e,t){return`${this.co}/v1/${t}:${Mv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,s,c){return new Promise((m,C)=>{const R=new B;R.setWithCredentials(!0),R.listenOnce(oa.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case sa.NO_ERROR:const Z=R.getResponseJson();Bt("Connection","XHR received:",JSON.stringify(Z)),m(Z);break;case sa.TIMEOUT:Bt("Connection",'RPC "'+e+'" timed out'),C(new zt(Ct.DEADLINE_EXCEEDED,"Request time out"));break;case sa.HTTP_ERROR:const ue=R.getStatus();if(Bt("Connection",'RPC "'+e+'" failed with status:',ue,"response text:",R.getResponseText()),ue>0){let He=R.getResponseJson();Array.isArray(He)&&(He=He[0]);const It=null==He?void 0:He.error;if(It&&It.status&&It.message){const Kt=function(tn){const Un=tn.toLowerCase().replace(/_/g,"-");return Object.values(Ct).indexOf(Un)>=0?Un:Ct.UNKNOWN}(It.status);C(new zt(Kt,It.message))}else C(new zt(Ct.UNKNOWN,"Server responded with status "+R.getStatus()))}else C(new zt(Ct.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{Bt("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(c);R.send(t,"POST",H,s,15)})}yo(e,t,s){const c=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=yl(),C=za(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new N({})),this._o(R.initMessageHeaders,t,s),R.encodeInitMessageHeaders=!0;const H=c.join("");Bt("Connection","Creating WebChannel: "+H,R);const Z=m.createWebChannel(H,R);let ue=!1,He=!1;const It=new zf({Yr:tn=>{He?Bt("Connection","Not sending because WebChannel is closed:",tn):(ue||(Bt("Connection","Opening WebChannel transport."),Z.open(),ue=!0),Bt("Connection","WebChannel sending:",tn),Z.send(tn))},Zr:()=>Z.close()}),Kt=(tn,Un,cr)=>{tn.listen(Un,fs=>{try{cr(fs)}catch(Vs){setTimeout(()=>{throw Vs},0)}})};return Kt(Z,K.EventType.OPEN,()=>{He||Bt("Connection","WebChannel transport opened.")}),Kt(Z,K.EventType.CLOSE,()=>{He||(He=!0,Bt("Connection","WebChannel transport closed"),It.oo())}),Kt(Z,K.EventType.ERROR,tn=>{He||(He=!0,Jn("Connection","WebChannel transport errored:",tn),It.oo(new zt(Ct.UNAVAILABLE,"The operation could not be completed")))}),Kt(Z,K.EventType.MESSAGE,tn=>{var Un;if(!He){const cr=tn.data[0];Jt(!!cr);const Vs=cr.error||(null===(Un=cr[0])||void 0===Un?void 0:Un.error);if(Vs){Bt("Connection","WebChannel received error:",Vs);const Si=Vs.status;let io=function(zi){const jo=Es[zi];if(void 0!==jo)return uu(jo)}(Si),Ui=Vs.message;void 0===io&&(io=Ct.INTERNAL,Ui="Unknown error status: "+Si+" with message "+Vs.message),He=!0,It.oo(new zt(io,Ui)),Z.close()}else Bt("Connection","WebChannel received:",cr),It.uo(cr)}}),Kt(C,No.STAT_EVENT,tn=>{tn.stat===aa.PROXY?Bt("Connection","Detected buffering proxy"):tn.stat===aa.NOPROXY&&Bt("Connection","Detected no buffering proxy")}),setTimeout(()=>{It.ro()},0),It}}function Wf(){return typeof window<"u"?window:null}function Bc(){return typeof document<"u"?document:null}function Id(i){return new du(i,!0)}class sh{constructor(e,t,s=1e3,c=1.5,m=6e4){this.Ys=e,this.timerId=t,this.po=s,this.Io=c,this.To=m,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),s=Math.max(0,Date.now()-this.Ro),c=Math.max(0,t-s);c>0&&Bt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,c,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class Jp{constructor(e,t,s,c,m,C,R,H){this.Ys=e,this.So=s,this.Do=c,this.connection=m,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=R,this.listener=H,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new sh(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,le.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,le.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var s=this;return(0,le.Z)(function*(){s.Uo(),s.Ko(),s.ko.cancel(),s.Co++,4!==e?s.ko.reset():t&&t.code===Ct.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),s.ko.bo()):t&&t.code===Ct.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Go(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Co===t&&this.jo(s,c)},s=>{e(()=>{const c=new zt(Ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.zo(c)})})}jo(e,t){const s=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{s(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(c=>{s(()=>this.zo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Fo(){var e=this;this.state=5,this.ko.vo((0,le.Z)(function*(){e.state=0,e.start()}))}zo(e){return Bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eg extends Jp{constructor(e,t,s,c,m,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,C),this.Tt=m}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function wn(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:qt(),c=e.targetChange.targetIds||[],m=function(H,Z){return H.yt?(Jt(void 0===Z||"string"==typeof Z),Bs.fromBase64String(Z||"")):(Jt(void 0===Z||Z instanceof Uint8Array),Bs.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),C=e.targetChange.cause,R=C&&function(H){const Z=void 0===H.code?Ct.UNKNOWN:uu(H.code);return new zt(Z,H.message||"")}(C);t=new Yd(s,c,m,R||null)}else if("documentChange"in e){const s=e.documentChange,c=b(i,s.document.name),m=Ns(s.document.updateTime),C=s.document.createTime?Ns(s.document.createTime):Yn.min(),R=new yo({mapValue:{fields:s.document.fields}}),H=Ji.newFoundDocument(c,m,C,R);t=new jl(s.targetIds||[],s.removedTargetIds||[],H.key,H)}else if("documentDelete"in e){const s=e.documentDelete,c=b(i,s.document),m=s.readTime?Ns(s.readTime):Yn.min(),C=Ji.newNoDocument(c,m);t=new jl([],s.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const s=e.documentRemove,c=b(i,s.document);t=new jl([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return qt();{const s=e.filter,m=new xc(s.count||0);t=new Kd(s.targetId,m)}}var H;return t}(this.Tt,e),s=function(c){if(!("targetChange"in c))return Yn.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Yn.min():m.readTime?Ns(m.readTime):Yn.min()}(e);return this.listener.Ho(t,s)}Jo(e){const t={};t.database=A(this.Tt),t.addTarget=function(c,m){let C;const R=m.target;return C=nu(R)?{documents:qs(c,R)}:{query:Ta(c,R)},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?C.resumeToken=Oc(c,m.resumeToken):m.snapshotVersion.compareTo(Yn.min())>0&&(C.readTime=fl(c,m.snapshotVersion.toTimestamp())),C}(this.Tt,e);const s=function pl(i,e){const t=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.qo(t)}Yo(e){const t={};t.database=A(this.Tt),t.removeTarget=e,this.qo(t)}}class tg extends Jp{constructor(e,t,s,c,m,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,C),this.Tt=m,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function mr(i,e){return i&&i.length>0?(Jt(void 0!==e),i.map(t=>function(s,c){let m=Ns(s.updateTime?s.updateTime:c);return m.isEqual(Yn.min())&&(m=Ns(c)),new ld(m,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ns(e.commitTime);return this.listener.eu(s,t)}return Jt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=A(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$n(this.Tt,s))};this.qo(t)}}class ng extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.Tt=c,this.iu=!1}ru(){if(this.iu)throw new zt(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,s){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.lo(e,t,s,c,m)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new zt(Ct.UNKNOWN,c.toString())})}mo(e,t,s,c){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.mo(e,t,s,m,C,c)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new zt(Ct.UNKNOWN,m.toString())})}terminate(){this.iu=!0}}class Rv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(tr(t),this.cu=!1):Bt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class Ov{constructor(e,t,s,c,m){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=m,this.yu.Gr(R=>{s.enqueueAndForget((0,le.Z)(function*(){var H;yu(C)&&(Bt("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,le.Z)(function*(Z){const ue=un(Z);ue.mu.add(4),yield wd(ue),ue.pu.set("Unknown"),ue.mu.delete(4),yield oh(ue)}),function(Z){return H.apply(this,arguments)})(C))}))}),this.pu=new Rv(s,c)}}function oh(i){return rg.apply(this,arguments)}function rg(){return rg=(0,le.Z)(function*(i){if(yu(i))for(const e of i.gu)yield e(!0)}),rg.apply(this,arguments)}function wd(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,le.Z)(function*(i){for(const e of i.gu)yield e(!1)}),Kf.apply(this,arguments)}function Yf(i,e){const t=un(i);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),Fm(t)?sg(t):$c(t).Mo()&&Qa(t,e))}function qh(i,e){const t=un(i),s=$c(t);t.wu.delete(e),s.Mo()&&ig(t,e),0===t.wu.size&&(s.Mo()?s.Bo():yu(t)&&t.pu.set("Unknown"))}function Qa(i,e){i.Iu.Ft(e.targetId),$c(i).Jo(e)}function ig(i,e){i.Iu.Ft(e),$c(i).Yo(e)}function sg(i){i.Iu=new ha({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>i.wu.get(e)||null}),$c(i).start(),i.pu.au()}function Fm(i){return yu(i)&&!$c(i).Oo()&&i.wu.size>0}function yu(i){return 0===un(i).mu.size}function og(i){i.Iu=void 0}function Pv(i){return ag.apply(this,arguments)}function ag(){return ag=(0,le.Z)(function*(i){i.wu.forEach((e,t)=>{Qa(i,e)})}),ag.apply(this,arguments)}function Nv(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,le.Z)(function*(i,e){og(i),Fm(i)?(i.pu.fu(e),sg(i)):i.pu.set("Unknown")}),qf.apply(this,arguments)}function kv(i,e,t){return lg.apply(this,arguments)}function lg(){return lg=(0,le.Z)(function*(i,e,t){if(i.pu.set("Online"),e instanceof Yd&&2===e.state&&e.cause)try{yield(s=(0,le.Z)(function*(c,m){const C=m.cause;for(const R of m.targetIds)c.wu.has(R)&&(yield c.remoteSyncer.rejectListen(R,C),c.wu.delete(R),c.Iu.removeTarget(R))}),function(c,m){return s.apply(this,arguments)})(i,e)}catch(s){Bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ah(i,s)}else if(e instanceof jl?i.Iu.Qt(e):e instanceof Kd?i.Iu.Zt(e):i.Iu.Wt(e),!t.isEqual(Yn.min()))try{const s=yield Tv(i.localStore);t.compareTo(s)>=0&&(yield function(c,m){const C=c.Iu.ee(m);return C.targetChanges.forEach((R,H)=>{if(R.resumeToken.approximateByteSize()>0){const Z=c.wu.get(H);Z&&c.wu.set(H,Z.withResumeToken(R.resumeToken,m))}}),C.targetMismatches.forEach(R=>{const H=c.wu.get(R);if(!H)return;c.wu.set(R,H.withResumeToken(Bs.EMPTY_BYTE_STRING,H.snapshotVersion)),ig(c,R);const Z=new Is(H.target,R,1,H.sequenceNumber);Qa(c,Z)}),c.remoteSyncer.applyRemoteEvent(C)}(i,t))}catch(s){Bt("RemoteStore","Failed to raise snapshot:",s),yield ah(i,s)}var s}),lg.apply(this,arguments)}function ah(i,e,t){return ug.apply(this,arguments)}function ug(){return ug=(0,le.Z)(function*(i,e,t){if(!Oa(e))throw e;i.mu.add(1),yield wd(i),i.pu.set("Offline"),t||(t=()=>Tv(i.localStore)),i.asyncQueue.enqueueRetryable((0,le.Z)(function*(){Bt("RemoteStore","Retrying IndexedDB access"),yield t(),i.mu.delete(1),yield oh(i)}))}),ug.apply(this,arguments)}function Lm(i,e){return e().catch(t=>ah(i,t,e))}function lh(i){return cg.apply(this,arguments)}function cg(){return cg=(0,le.Z)(function*(i){const e=un(i),t=Cd(e);let s=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Fv(e);)try{const c=yield Av(e.localStore,s);if(null===c){0===e._u.length&&t.Bo();break}s=c.batchId,ju(e,c)}catch(c){yield ah(e,c)}Zf(e)&&Bm(e)}),cg.apply(this,arguments)}function Fv(i){return yu(i)&&i._u.length<10}function ju(i,e){i._u.push(e);const t=Cd(i);t.Mo()&&t.Xo&&t.tu(e.mutations)}function Zf(i){return yu(i)&&!Cd(i).Oo()&&i._u.length>0}function Bm(i){Cd(i).start()}function Lv(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,le.Z)(function*(i){Cd(i).su()}),Qf.apply(this,arguments)}function Bv(i){return dg.apply(this,arguments)}function dg(){return dg=(0,le.Z)(function*(i){const e=Cd(i);for(const t of i._u)e.tu(t.mutations)}),dg.apply(this,arguments)}function $v(i,e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,le.Z)(function*(i,e,t){const s=i._u.shift(),c=Nh.from(s,e,t);yield Lm(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield lh(i)}),Zh.apply(this,arguments)}function Vv(i,e){return hg.apply(this,arguments)}function hg(){return hg=(0,le.Z)(function*(i,e){var t;e&&Cd(i).Xo&&(yield(t=(0,le.Z)(function*(s,c){if(ic(m=c.code)&&m!==Ct.ABORTED){const C=s._u.shift();Cd(s).$o(),yield Lm(s,()=>s.remoteSyncer.rejectFailedWrite(C.batchId,c)),yield lh(s)}var m}),function(s,c){return t.apply(this,arguments)})(i,e)),Zf(i)&&Bm(i)}),hg.apply(this,arguments)}function Qh(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,le.Z)(function*(i,e){const t=un(i);t.asyncQueue.verifyOperationInProgress(),Bt("RemoteStore","RemoteStore received new credentials");const s=yu(t);t.mu.add(3),yield wd(t),s&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield oh(t)}),Xh.apply(this,arguments)}function uh(i,e){return $m.apply(this,arguments)}function $m(){return $m=(0,le.Z)(function*(i,e){const t=un(i);e?(t.mu.delete(2),yield oh(t)):e||(t.mu.add(2),yield wd(t),t.pu.set("Unknown"))}),$m.apply(this,arguments)}function $c(i){return i.Tu||(i.Tu=function(e,t,s){const c=un(e);return c.ru(),new eg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.Tt,s)}(i.datastore,i.asyncQueue,{Xr:Pv.bind(null,i),no:Nv.bind(null,i),Ho:kv.bind(null,i)}),i.gu.push(function(){var e=(0,le.Z)(function*(t){t?(i.Tu.$o(),Fm(i)?sg(i):i.pu.set("Unknown")):(yield i.Tu.stop(),og(i))});return function(t){return e.apply(this,arguments)}}())),i.Tu}function Cd(i){return i.Eu||(i.Eu=function(e,t,s){const c=un(e);return c.ru(),new tg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.Tt,s)}(i.datastore,i.asyncQueue,{Xr:Lv.bind(null,i),no:Vv.bind(null,i),nu:Bv.bind(null,i),eu:$v.bind(null,i)}),i.gu.push(function(){var e=(0,le.Z)(function*(t){t?(i.Eu.$o(),yield lh(i)):(yield i.Eu.stop(),i._u.length>0&&(Bt("RemoteStore",`Stopping write stream with ${i._u.length} pending writes`),i._u=[]))});return function(t){return e.apply(this,arguments)}}())),i.Eu}class Xf{constructor(e,t,s,c,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=m,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,s,c,m){const C=Date.now()+s,R=new Xf(e,t,C,c,m);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(Ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(i,e){if(tr("AsyncQueue",`${e}: ${i}`),Oa(i))return new zt(Ct.UNAVAILABLE,`${e}: ${i}`);throw i}class Dd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||gn.comparator(t.key,s.key):(t,s)=>gn.comparator(t.key,s.key),this.keyedMap=Ul(),this.sortedSet=new as(this.comparator)}static emptySet(e){return new Dd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=s.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Dd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class fg{constructor(){this.Au=new as(gn.comparator)}track(e){const t=e.doc.key,s=this.Au.get(t);s?0!==e.type&&3===s.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==s.type?this.Au=this.Au.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Au=this.Au.remove(t):1===e.type&&2===s.type?this.Au=this.Au.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):qt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,s)=>{e.push(s)}),e}}class Vc{constructor(e,t,s,c,m,C,R,H,Z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=m,this.fromCache=C,this.syncStateChanged=R,this.excludesMetadataChanges=H,this.hasCachedResults=Z}static fromInitialDocuments(e,t,s,c,m){const C=[];return t.forEach(R=>{C.push({type:0,doc:R})}),new Vc(e,t,Dd.emptySet(t),C,s,c,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class gc{constructor(){this.bu=void 0,this.listeners=[]}}class Jf{constructor(){this.queries=new Da(e=>Gd(e),Dl),this.onlineState="Unknown",this.vu=new Set}}function ch(i,e){return Td.apply(this,arguments)}function Td(){return Td=(0,le.Z)(function*(i,e){const t=un(i),s=e.query;let c=!1,m=t.queries.get(s);if(m||(c=!0,m=new gc),c)try{m.bu=yield t.onListen(s)}catch(C){const R=bd(C,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(R)}t.queries.set(s,m),m.listeners.push(e),e.Pu(t.onlineState),m.bu&&e.Vu(m.bu)&&gg(t)}),Td.apply(this,arguments)}function pg(i,e){return ep.apply(this,arguments)}function ep(){return ep=(0,le.Z)(function*(i,e){const t=un(i),s=e.query;let c=!1;const m=t.queries.get(s);if(m){const C=m.listeners.indexOf(e);C>=0&&(m.listeners.splice(C,1),c=0===m.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),ep.apply(this,arguments)}function Vm(i,e){const t=un(i);let s=!1;for(const c of e){const C=t.queries.get(c.query);if(C){for(const R of C.listeners)R.Vu(c)&&(s=!0);C.bu=c}}s&&gg(t)}function Uv(i,e,t){const s=un(i),c=s.queries.get(e);if(c)for(const m of c.listeners)m.onError(t);s.queries.delete(e)}function gg(i){i.vu.forEach(e=>{e.next()})}class Sd{constructor(e,t,s){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=s||{}}Vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new Vc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=Vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class jv{constructor(e,t){this.Mu=e,this.byteLength=t}Fu(){return"metadata"in this.Mu}}class Hv{constructor(e){this.Tt=e}Zi(e){return b(this.Tt,e)}Xi(e){return e.metadata.exists?ft(this.Tt,e.document,!1):Ji.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Ns(e)}}class Gv{constructor(e,t,s){this.$u=e,this.localStore=t,this.Tt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Um(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const s=Kr.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,s=new Hv(this.Tt);for(const c of e)if(c.metadata.queries){const m=s.Zi(c.metadata.name);for(const C of c.metadata.queries){const R=(t.get(C)||Er()).add(m);t.set(C,R)}}return t}complete(){var e=this;return(0,le.Z)(function*(){const t=yield function xv(i,e,t,s){return Yp.apply(this,arguments)}(e.localStore,new Hv(e.Tt),e.documents,e.$u.id),s=e.Lu(e.documents);for(const c of e.queries)yield Mm(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function Um(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class jm{constructor(e){this.key=e}}class Hm{constructor(e){this.key=e}}class Gm{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Er(),this.mutatedKeys=Er(),this.ju=su(e),this.zu=new Dd(this.ju)}get Wu(){return this.Ku}Hu(e,t){const s=t?t.Ju:new fg,c=t?t.zu:this.zu;let m=t?t.mutatedKeys:this.mutatedKeys,C=c,R=!1;const H="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Z="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ue,He)=>{const It=c.get(ue),Kt=Au(this.query,He)?He:null,tn=!!It&&this.mutatedKeys.has(It.key),Un=!!Kt&&(Kt.hasLocalMutations||this.mutatedKeys.has(Kt.key)&&Kt.hasCommittedMutations);let cr=!1;It&&Kt?It.data.isEqual(Kt.data)?tn!==Un&&(s.track({type:3,doc:Kt}),cr=!0):this.Yu(It,Kt)||(s.track({type:2,doc:Kt}),cr=!0,(H&&this.ju(Kt,H)>0||Z&&this.ju(Kt,Z)<0)&&(R=!0)):!It&&Kt?(s.track({type:0,doc:Kt}),cr=!0):It&&!Kt&&(s.track({type:1,doc:It}),cr=!0,(H||Z)&&(R=!0)),cr&&(Kt?(C=C.add(Kt),m=Un?m.add(ue):m.delete(ue)):(C=C.delete(ue),m=m.delete(ue)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const ue="F"===this.query.limitType?C.last():C.first();C=C.delete(ue.key),m=m.delete(ue.key),s.track({type:1,doc:ue})}return{zu:C,Ju:s,Li:R,mutatedKeys:m}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const m=e.Ju.Ru();m.sort((Z,ue)=>function(He,It){const Kt=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Kt(He)-Kt(It)}(Z.type,ue.type)||this.ju(Z.doc,ue.doc)),this.Zu(s);const C=t?this.Xu():[],R=0===this.Qu.size&&this.current?1:0,H=R!==this.Gu;return this.Gu=R,0!==m.length||H?{snapshot:new Vc(this.query,e.zu,c,m,e.mutatedKeys,0===R,H,!1,!!s&&s.resumeToken.approximateByteSize()>0),tc:C}:{tc:C}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new fg,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Er(),this.zu.forEach(s=>{this.ec(s.key)&&(this.Qu=this.Qu.add(s.key))});const t=[];return e.forEach(s=>{this.Qu.has(s)||t.push(new Hm(s))}),this.Qu.forEach(s=>{e.has(s)||t.push(new jm(s))}),t}nc(e){this.Ku=e.Yi,this.Qu=Er();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return Vc.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class zv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Wv{constructor(e){this.key=e,this.ic=!1}}class zm{constructor(e,t,s,c,m,C){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=C,this.rc={},this.oc=new Da(R=>Gd(R),Dl),this.uc=new Map,this.cc=new Set,this.ac=new as(gn.comparator),this.hc=new Map,this.lc=new Bf,this.fc={},this.dc=new Map,this._c=ml.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function mg(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,le.Z)(function*(i,e){const t=xg(i);let s,c;const m=t.oc.get(e);if(m)s=m.targetId,t.sharedClientState.addLocalQueryTarget(s),c=m.view.sc();else{const C=yield _d(t.localStore,rs(e));t.isPrimaryClient&&Yf(t.remoteStore,C);const R=t.sharedClientState.addLocalQueryTarget(C.targetId);s=C.targetId,c=yield Jh(t,e,s,"current"===R,C.resumeToken)}return c}),yg.apply(this,arguments)}function Jh(i,e,t,s,c){return vg.apply(this,arguments)}function vg(){return vg=(0,le.Z)(function*(i,e,t,s,c){i.mc=(He,It,Kt)=>{return(tn=(0,le.Z)(function*(Un,cr,fs,Vs){let Si=cr.view.Hu(fs);Si.Li&&(Si=yield Wh(Un.localStore,cr.query,!1).then(({documents:zi})=>cr.view.Hu(zi,Si)));const io=Vs&&Vs.targetChanges.get(cr.targetId),Ui=cr.view.applyChanges(Si,Un.isPrimaryClient,io);return pa(Un,cr.targetId,Ui.tc),Ui.snapshot}),function(Un,cr,fs,Vs){return tn.apply(this,arguments)})(i,He,It,Kt);var tn};const m=yield Wh(i.localStore,e,!0),C=new Gm(e,m.Yi),R=C.Hu(m.documents),H=da.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,c),Z=C.applyChanges(R,i.isPrimaryClient,H);pa(i,t,Z.tc);const ue=new zv(e,t,C);return i.oc.set(e,ue),i.uc.has(t)?i.uc.get(t).push(e):i.uc.set(t,[e]),Z.snapshot}),vg.apply(this,arguments)}function Kv(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,le.Z)(function*(i,e){const t=un(i),s=t.oc.get(e),c=t.uc.get(s.targetId);if(c.length>1)return t.uc.set(s.targetId,c.filter(m=>!Dl(m,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield pc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),qh(t.remoteStore,s.targetId),Xa(t,s.targetId)}).catch(Ra))):(Xa(t,s.targetId),yield pc(t.localStore,s.targetId,!0))}),_g.apply(this,arguments)}function Eg(){return Eg=(0,le.Z)(function*(i,e,t){const s=sp(i);try{const c=yield function(m,C){const R=un(m),H=wi.now(),Z=C.reduce((It,Kt)=>It.add(Kt.key),Er());let ue,He;return R.persistence.runTransaction("Locally write mutations","readwrite",It=>{let Kt=Zo(),tn=Er();return R.ji.getEntries(It,Z).next(Un=>{Kt=Un,Kt.forEach((cr,fs)=>{fs.isValidDocument()||(tn=tn.add(cr))})}).next(()=>R.localDocuments.getOverlayedDocuments(It,Kt)).next(Un=>{ue=Un;const cr=[];for(const fs of C){const Vs=rc(fs,ue.get(fs.key).overlayedDocument);null!=Vs&&cr.push(new qo(fs.key,Vs,eu(Vs.value.mapValue),es.exists(!0)))}return R.mutationQueue.addMutationBatch(It,H,cr,C)}).next(Un=>{He=Un;const cr=Un.applyToLocalDocumentSet(ue,tn);return R.documentOverlayCache.saveOverlays(It,Un.batchId,cr)})}).then(()=>({batchId:He.batchId,changes:vo(ue)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(m,C,R){let H=m.fc[m.currentUser.toKey()];H||(H=new as(gr)),H=H.insert(C,R),m.fc[m.currentUser.toKey()]=H}(s,c.batchId,t),yield Uo(s,c.changes),yield lh(s.remoteStore)}catch(c){const m=bd(c,"Failed to persist write");t.reject(m)}}),Eg.apply(this,arguments)}function Wm(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,le.Z)(function*(i,e){const t=un(i);try{const s=yield function Sv(i,e){const t=un(i),s=e.snapshotVersion;let c=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const C=t.ji.newChangeBuffer({trackRemovals:!0});c=t.Ki;const R=[];e.targetChanges.forEach((ue,He)=>{const It=c.get(He);if(!It)return;R.push(t.Ns.removeMatchingKeys(m,ue.removedDocuments,He).next(()=>t.Ns.addMatchingKeys(m,ue.addedDocuments,He)));let Kt=It.withSequenceNumber(m.currentSequenceNumber);var tn,Un,cr;e.targetMismatches.has(He)?Kt=Kt.withResumeToken(Bs.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):ue.resumeToken.approximateByteSize()>0&&(Kt=Kt.withResumeToken(ue.resumeToken,s)),c=c.insert(He,Kt),Un=Kt,cr=ue,(0===(tn=It).resumeToken.approximateByteSize()||Un.snapshotVersion.toMicroseconds()-tn.snapshotVersion.toMicroseconds()>=3e8||cr.addedDocuments.size+cr.modifiedDocuments.size+cr.removedDocuments.size>0)&&R.push(t.Ns.updateTargetData(m,Kt))});let H=Zo(),Z=Er();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(m,ue))}),R.push(vd(m,C,e.documentUpdates).next(ue=>{H=ue.Hi,Z=ue.Ji})),!s.isEqual(Yn.min())){const ue=t.Ns.getLastRemoteSnapshotVersion(m).next(He=>t.Ns.setTargetsMetadata(m,m.currentSequenceNumber,s));R.push(ue)}return Dt.waitFor(R).next(()=>C.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,H,Z)).next(()=>H)}).then(m=>(t.Ki=c,m))}(t.localStore,e);e.targetChanges.forEach((c,m)=>{const C=t.hc.get(m);C&&(Jt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.ic=!0:c.modifiedDocuments.size>0?Jt(C.ic):c.removedDocuments.size>0&&(Jt(C.ic),C.ic=!1))}),yield Uo(t,s,e)}catch(s){yield Ra(s)}}),Ig.apply(this,arguments)}function wg(i,e,t){const s=un(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.oc.forEach((m,C)=>{const R=C.view.Pu(e);R.snapshot&&c.push(R.snapshot)}),function(m,C){const R=un(m);R.onlineState=C;let H=!1;R.queries.forEach((Z,ue)=>{for(const He of ue.listeners)He.Pu(C)&&(H=!0)}),H&&gg(R)}(s.eventManager,e),c.length&&s.rc.Ho(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Km(i,e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,le.Z)(function*(i,e,t){const s=un(i);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.hc.get(e),m=c&&c.key;if(m){let C=new as(gn.comparator);C=C.insert(m,Ji.newNoDocument(m,Yn.min()));const R=Er().add(m),H=new Bo(Yn.min(),new Map,new Vi(gr),C,R);yield Wm(s,H),s.ac=s.ac.remove(m),s.hc.delete(e),fh(s)}else yield pc(s.localStore,e,!1).then(()=>Xa(s,e,t)).catch(Ra)}),Cg.apply(this,arguments)}function u0(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,le.Z)(function*(i,e){const t=un(i),s=e.batch.batchId;try{const c=yield function Tm(i,e){const t=un(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),m=t.ji.newChangeBuffer({trackRemovals:!0});return function(C,R,H,Z){const ue=H.batch,He=ue.keys();let It=Dt.resolve();return He.forEach(Kt=>{It=It.next(()=>Z.getEntry(R,Kt)).next(tn=>{const Un=H.docVersions.get(Kt);Jt(null!==Un),tn.version.compareTo(Un)<0&&(ue.applyToRemoteDocument(tn,H),tn.isValidDocument()&&(tn.setReadTime(H.commitVersion),Z.addEntry(tn)))})}),It.next(()=>C.mutationQueue.removeMutationBatch(R,ue))}(t,s,e,m).next(()=>m.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let R=Er();for(let H=0;H<C.mutationResults.length;++H)C.mutationResults[H].transformResults.length>0&&(R=R.add(C.batch.mutations[H].key));return R}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}(t.localStore,e);Dg(t,s,null),ef(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Uo(t,c)}catch(c){yield Ra(c)}}),tp.apply(this,arguments)}function c0(i,e,t){return dh.apply(this,arguments)}function dh(){return dh=(0,le.Z)(function*(i,e,t){const s=un(i);try{const c=yield function(m,C){const R=un(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Z;return R.mutationQueue.lookupMutationBatch(H,C).next(ue=>(Jt(null!==ue),Z=ue.keys(),R.mutationQueue.removeMutationBatch(H,ue))).next(()=>R.mutationQueue.performConsistencyCheck(H)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(H,Z,C)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,Z)).next(()=>R.localDocuments.getDocuments(H,Z))})}(s.localStore,e);Dg(s,e,t),ef(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Uo(s,c)}catch(c){yield Ra(c)}}),dh.apply(this,arguments)}function bg(){return bg=(0,le.Z)(function*(i,e){const t=un(i);yu(t.remoteStore)||Bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const C=un(m);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>C.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===s)return void e.resolve();const c=t.dc.get(s)||[];c.push(e),t.dc.set(s,c)}catch(s){const c=bd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),bg.apply(this,arguments)}function ef(i,e){(i.dc.get(e)||[]).forEach(t=>{t.resolve()}),i.dc.delete(e)}function Dg(i,e,t){const s=un(i);let c=s.fc[s.currentUser.toKey()];if(c){const m=c.get(e);m&&(t?m.reject(t):m.resolve(),c=c.remove(e)),s.fc[s.currentUser.toKey()]=c}}function Xa(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.uc.get(e))i.oc.delete(s),t&&i.rc.gc(s,t);i.uc.delete(e),i.isPrimaryClient&&i.lc.ds(e).forEach(s=>{i.lc.containsKey(s)||hh(i,s)})}function hh(i,e){i.cc.delete(e.path.canonicalString());const t=i.ac.get(e);null!==t&&(qh(i.remoteStore,t),i.ac=i.ac.remove(e),i.hc.delete(t),fh(i))}function pa(i,e,t){for(const s of t)s instanceof jm?(i.lc.addReference(s.key,e),Ad(i,s)):s instanceof Hm?(Bt("SyncEngine","Document no longer in limbo: "+s.key),i.lc.removeReference(s.key,e),i.lc.containsKey(s.key)||hh(i,s.key)):qt()}function Ad(i,e){const t=e.key,s=t.path.canonicalString();i.ac.get(t)||i.cc.has(s)||(Bt("SyncEngine","New document in limbo: "+t),i.cc.add(s),fh(i))}function fh(i){for(;i.cc.size>0&&i.ac.size<i.maxConcurrentLimboResolutions;){const e=i.cc.values().next().value;i.cc.delete(e);const t=new gn(Kr.fromString(e)),s=i._c.next();i.hc.set(s,new Wv(t)),i.ac=i.ac.insert(t,s),Yf(i.remoteStore,new Is(rs(iu(t.path)),s,2,go.at))}}function Uo(i,e,t){return tf.apply(this,arguments)}function tf(){return tf=(0,le.Z)(function*(i,e,t){const s=un(i),c=[],m=[],C=[];var R;s.oc.isEmpty()||(s.oc.forEach((R,H)=>{C.push(s.mc(H,e,t).then(Z=>{if((Z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(H.targetId,null!=Z&&Z.fromCache?"not-current":"current"),Z){c.push(Z);const ue=zh.Ni(H.targetId,Z);m.push(ue)}}))}),yield Promise.all(C),s.rc.Ho(c),yield(R=(0,le.Z)(function*(H,Z){const ue=un(H);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>Dt.forEach(Z,It=>Dt.forEach(It.Ci,Kt=>ue.persistence.referenceDelegate.addReference(He,It.targetId,Kt)).next(()=>Dt.forEach(It.xi,Kt=>ue.persistence.referenceDelegate.removeReference(He,It.targetId,Kt)))))}catch(He){if(!Oa(He))throw He;Bt("LocalStore","Failed to update sequence numbers: "+He)}for(const He of Z){const It=He.targetId;if(!He.fromCache){const Kt=ue.Ki.get(It),Un=Kt.withLastLimboFreeSnapshotVersion(Kt.snapshotVersion);ue.Ki=ue.Ki.insert(It,Un)}}}),function(H,Z){return R.apply(this,arguments)})(s.localStore,m))}),tf.apply(this,arguments)}function ph(i,e){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,le.Z)(function*(i,e){const t=un(i);if(!t.currentUser.isEqual(e)){Bt("SyncEngine","User change. New user:",e.toKey());const s=yield Dv(t.localStore,e);t.currentUser=e,(c=t).dc.forEach(C=>{C.forEach(R=>{R.reject(new zt(Ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.dc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Uo(t,s.Wi)}var c}),Uc.apply(this,arguments)}function gh(i,e){const t=un(i),s=t.hc.get(e);if(s&&s.ic)return Er().add(s.key);{let c=Er();const m=t.uc.get(e);if(!m)return c;for(const C of m){const R=t.oc.get(C);c=c.unionWith(R.view.Wu)}return c}}function mh(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,le.Z)(function*(i,e){const t=un(i),s=yield Wh(t.localStore,e.query,!0),c=e.view.nc(s);return t.isPrimaryClient&&pa(t,e.targetId,c.tc),c}),jc.apply(this,arguments)}function yh(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,le.Z)(function*(i,e){const t=un(i);return Am(t.localStore,e).then(s=>Uo(t,s))}),Hc.apply(this,arguments)}function vh(i,e,t,s){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,le.Z)(function*(i,e,t,s){const c=un(i),m=yield function(C,R){const H=un(C),Z=un(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",ue=>Z.An(ue,R).next(He=>He?H.localDocuments.getDocuments(ue,He):Dt.resolve(null)))}(c.localStore,e);var R;null!==m?("pending"===t?yield lh(c.remoteStore):"acknowledged"===t||"rejected"===t?(Dg(c,e,s||null),ef(c,e),R=e,un(un(c.localStore).mutationQueue).bn(R)):qt(),yield Uo(c,m)):Bt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gc.apply(this,arguments)}function np(){return np=(0,le.Z)(function*(i,e){const t=un(i);if(xg(t),sp(t),!0===e&&!0!==t.wc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield Tg(t,s.toArray());t.wc=!0,yield uh(t.remoteStore,!0);for(const m of c)Yf(t.remoteStore,m)}else if(!1===e&&!1!==t.wc){const s=[];let c=Promise.resolve();t.uc.forEach((m,C)=>{t.sharedClientState.isLocalQueryTarget(C)?s.push(C):c=c.then(()=>(Xa(t,C),pc(t.localStore,C,!0))),qh(t.remoteStore,C)}),yield c,yield Tg(t,s),function(m){const C=un(m);C.hc.forEach((R,H)=>{qh(C.remoteStore,H)}),C.lc._s(),C.hc=new Map,C.ac=new as(gn.comparator)}(t),t.wc=!1,yield uh(t.remoteStore,!1)}}),np.apply(this,arguments)}function Tg(i,e,t){return rp.apply(this,arguments)}function rp(){return rp=(0,le.Z)(function*(i,e,t){const s=un(i),c=[],m=[];for(const C of e){let R;const H=s.uc.get(C);if(H&&0!==H.length){R=yield _d(s.localStore,rs(H[0]));for(const Z of H){const ue=s.oc.get(Z),He=yield mh(s,ue);He.snapshot&&m.push(He.snapshot)}}else{const Z=yield Sm(s.localStore,C);R=yield _d(s.localStore,Z),yield Jh(s,Sg(Z),C,!1,R.resumeToken)}c.push(R)}return s.rc.Ho(m),c}),rp.apply(this,arguments)}function Sg(i){return ul(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function qm(i){const e=un(i);return un(un(e.localStore).persistence).Si()}function Zm(i,e,t,s){return ip.apply(this,arguments)}function ip(){return ip=(0,le.Z)(function*(i,e,t,s){const c=un(i);if(c.wc)return void Bt("SyncEngine","Ignoring unexpected query state notification.");const m=c.uc.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const C=yield Am(c.localStore,zd(m[0])),R=Bo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Bs.EMPTY_BYTE_STRING);yield Uo(c,C,R);break}case"rejected":yield pc(c.localStore,e,!0),Xa(c,e,s);break;default:qt()}}),ip.apply(this,arguments)}function Qm(i,e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,le.Z)(function*(i,e,t){const s=xg(i);if(s.wc){for(const c of e){if(s.uc.has(c)){Bt("SyncEngine","Adding an already active target "+c);continue}const m=yield Sm(s.localStore,c),C=yield _d(s.localStore,m);yield Jh(s,Sg(m),C.targetId,!1,C.resumeToken),Yf(s.remoteStore,C)}for(const c of t)s.uc.has(c)&&(yield pc(s.localStore,c,!1).then(()=>{qh(s.remoteStore,c),Xa(s,c)}).catch(Ra))}}),Ag.apply(this,arguments)}function xg(i){const e=un(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Km.bind(null,e),e.rc.Ho=Vm.bind(null,e.eventManager),e.rc.gc=Uv.bind(null,e.eventManager),e}function sp(i){const e=un(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c0.bind(null,e),e}class Xm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,le.Z)(function*(){t.Tt=Id(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return bv(this.persistence,new Dm,e.initialUser,this.Tt)}Tc(e){return new Cm($f.qs,this.Tt)}Ic(e){return new Om}terminate(){var e=this;return(0,le.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class op extends Xm{constructor(e,t,s){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,le.Z)(function*(){yield t().call(s,e),yield s.bc.initialize(s,e),yield sp(s.bc.syncEngine),yield lh(s.bc.remoteStore),yield s.persistence.di(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return bv(this.persistence,new Dm,e.initialUser,this.Tt)}Ac(e,t){return new fm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const s=new Na(t,this.persistence);return new Cu(e.asyncQueue,s)}Tc(e){const t=Gh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?kt.withCacheSize(this.cacheSizeBytes):kt.DEFAULT;return new Uf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Wf(),Bc(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new Om}}class Mg extends op{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,le.Z)(function*(){yield t().call(s,e);const c=s.bc.syncEngine;s.sharedClientState instanceof Gf&&(s.sharedClientState.syncEngine={Br:vh.bind(null,c),Lr:Zm.bind(null,c),qr:Qm.bind(null,c),Si:qm.bind(null,c),$r:yh.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.di(function(){var m=(0,le.Z)(function*(C){yield function Ym(i,e){return np.apply(this,arguments)}(s.bc.syncEngine,C),s.gcScheduler&&(C&&!s.gcScheduler.started?s.gcScheduler.start():C||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(C&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():C||s.indexBackfillerScheduler.stop())});return function(C){return m.apply(this,arguments)}}())})()}Ic(e){const t=Wf();if(!Gf.C(t))throw new zt(Ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Gh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gf(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Rg{initialize(e,t){var s=this;return(0,le.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>wg(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=ph.bind(null,s.syncEngine),yield uh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jf}createDatastore(e){const t=Id(e.databaseInfo.databaseId),s=new ih(e.databaseInfo);return new ng(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,m=R=>wg(this.syncEngine,R,0),C=Nm.C()?new Nm:new Pm,new Ov(t,s,c,m,C);var t,s,c,m,C}createSyncEngine(e,t){return function(s,c,m,C,R,H,Z){const ue=new zm(s,c,m,C,R,H);return Z&&(ue.wc=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,le.Z)(function*(t){const s=un(t);Bt("RemoteStore","RemoteStore shutting down."),s.mu.add(5),yield wd(s),s.yu.shutdown(),s.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nf(i,e=10240){let t=0;return{read:()=>(0,le.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,le.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Og{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(s=>{s&&s.Fu()?this.metadata.resolve(s.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Mu)}`))},s=>this.metadata.reject(s))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,le.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,le.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,le.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const s=e.Sc.decode(t),c=Number(s);isNaN(c)&&e.xc(`length string (${s}) is not valid number`);const m=yield e.Nc(c);return new jv(JSON.parse(m),t.length+c)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,le.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Nc(e){var t=this;return(0,le.Z)(function*(){for(;t.buffer.length<e;)(yield t.Oc())&&t.xc("Reached the end of bundle when more is expected.");const s=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,le.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Qv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,le.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new zt(Ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,le.Z)(function*(m,C){const R=un(m),H=A(R.Tt)+"/documents",Z={documents:C.map(Kt=>Qo(R.Tt,Kt))},ue=yield R.mo("BatchGetDocuments",H,Z,C.length),He=new Map;ue.forEach(Kt=>{const tn=function jt(i,e){return"found"in e?function(t,s){Jt(!!s.found);const c=b(t,s.found.name),m=Ns(s.found.updateTime),C=s.found.createTime?Ns(s.found.createTime):Yn.min(),R=new yo({mapValue:{fields:s.found.fields}});return Ji.newFoundDocument(c,m,C,R)}(i,e):"missing"in e?function(t,s){Jt(!!s.missing),Jt(!!s.readTime);const c=b(t,s.missing),m=Ns(s.readTime);return Ji.newNoDocument(c,m)}(i,e):qt()}(R.Tt,Kt);He.set(tn.key.toString(),tn)});const It=[];return C.forEach(Kt=>{const tn=He.get(Kt.toString());Jt(!!tn),It.push(tn)}),It}),function(m,C){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Za(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,le.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const m=gn.fromPath(c);e.mutations.push(new Ru(m,e.precondition(m)))}),yield(s=(0,le.Z)(function*(c,m){const C=un(c),R=A(C.Tt)+"/documents",H={writes:m.map(Z=>$n(C.Tt,Z))};yield C.lo("Commit",R,H)}),function(c,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qt();t=Yn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new zt(Ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yn.min())?es.exists(!1):es.updateTime(t):es.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yn.min()))throw new zt(Ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(t)}return es.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pg{constructor(e,t,s,c,m){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=m,this.Mc=s.maxAttempts,this.ko=new sh(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,le.Z)(function*(){const t=new Qv(e.datastore),s=e.$c(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.Bc(m)}))}).catch(c=>{e.Bc(c)})}))}$c(e){try{const t=this.updateFunction(e);return!To(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ic(t)}return!1}}class Ng{constructor(e,t,s,c){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=ye.UNAUTHENTICATED,this.clientId=rl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var C=(0,le.Z)(function*(R){Bt("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(Bt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=bd(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function ap(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,le.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Bt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,le.Z)(function*(m){s.isEqual(m)||(yield Dv(e.localStore,m),s=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),lp.apply(this,arguments)}function up(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,le.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield dp(i);Bt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(c=>Qh(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,m)=>Qh(e.remoteStore,m)),i.onlineComponents=e}),cp.apply(this,arguments)}function dp(i){return rf.apply(this,arguments)}function rf(){return rf=(0,le.Z)(function*(i){return i.offlineComponents||(Bt("FirestoreClient","Using default OfflineComponentProvider"),yield ap(i,new Xm)),i.offlineComponents}),rf.apply(this,arguments)}function sf(i){return kg.apply(this,arguments)}function kg(){return kg=(0,le.Z)(function*(i){return i.onlineComponents||(Bt("FirestoreClient","Using default OnlineComponentProvider"),yield up(i,new Rg)),i.onlineComponents}),kg.apply(this,arguments)}function Fg(i){return dp(i).then(e=>e.persistence)}function af(i){return dp(i).then(e=>e.localStore)}function hp(i){return sf(i).then(e=>e.remoteStore)}function fp(i){return sf(i).then(e=>e.syncEngine)}function Md(i){return pp.apply(this,arguments)}function pp(){return pp=(0,le.Z)(function*(i){const e=yield sf(i),t=e.eventManager;return t.onListen=mg.bind(null,e.syncEngine),t.onUnlisten=Kv.bind(null,e.syncEngine),t}),pp.apply(this,arguments)}function Bg(i,e,t={}){const s=new Ii;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(c,m,C,R,H){const Z=new xd({next:He=>{m.enqueueAndForget(()=>pg(c,ue));const It=He.docs.has(C);!It&&He.fromCache?H.reject(new zt(Ct.UNAVAILABLE,"Failed to get document because the client is offline.")):It&&He.fromCache&&R&&"server"===R.source?H.reject(new zt(Ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(He)},error:He=>H.reject(He)}),ue=new Sd(iu(C.path),Z,{includeMetadataChanges:!0,Ou:!0});return ch(c,ue)}(yield Md(i),i.asyncQueue,e,t,s)})),s.promise}function $g(i,e,t={}){const s=new Ii;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(c,m,C,R,H){const Z=new xd({next:He=>{m.enqueueAndForget(()=>pg(c,ue)),He.fromCache&&"server"===R.source?H.reject(new zt(Ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(He)},error:He=>H.reject(He)}),ue=new Sd(C,Z,{includeMetadataChanges:!0,Ou:!0});return ch(c,ue)}(yield Md(i),i.asyncQueue,e,t,s)})),s.promise}const Vg=new Map;function _h(i,e,t){if(!t)throw new zt(Ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function mc(i,e,t,s){if(!0===e&&!0===s)throw new zt(Ct.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function oy(i){if(!gn.isDocumentKey(i))throw new zt(Ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ay(i){if(gn.isDocumentKey(i))throw new zt(Ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Eh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":qt()}function ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new zt(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eh(i);throw new zt(Ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function gp(i,e){if(e<=0)throw new zt(Ct.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ly{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new zt(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zt(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ly({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zt(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ly(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Do;switch(t.type){case"gapi":return new Ma(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new zt(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vg.get(e);t&&(Bt("ComponentProvider","Removing Datastore"),Vg.delete(e),t.terminate())}(this),Promise.resolve()}}class Zs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zs(this.firestore,e,this._key)}}class Aa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class Hu extends Aa{constructor(e,t,s){super(e,t,iu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zs(this.firestore,null,new gn(e))}withConverter(e){return new Hu(this.firestore,e,this._path)}}function Ug(i,e,...t){if(i=(0,Qe.m9)(i),_h("collection","path",e),i instanceof Rd){const s=Kr.fromString(e,...t);return ay(s),new Hu(i,null,s)}{if(!(i instanceof Zs||i instanceof Hu))throw new zt(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kr.fromString(e,...t));return ay(s),new Hu(i.firestore,null,s)}}function Io(i,e,...t){if(i=(0,Qe.m9)(i),1===arguments.length&&(e=rl.R()),_h("doc","path",e),i instanceof Rd){const s=Kr.fromString(e,...t);return oy(s),new Zs(i,null,new gn(s))}{if(!(i instanceof Zs||i instanceof Hu))throw new zt(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kr.fromString(e,...t));return oy(s),new Zs(i.firestore,i instanceof Hu?i.converter:null,new gn(s))}}function jg(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),(i instanceof Zs||i instanceof Hu)&&(e instanceof Zs||e instanceof Hu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hg(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),i instanceof Aa&&e instanceof Aa&&i.firestore===e.firestore&&Dl(i._query,e._query)&&i.converter===e.converter}class e_{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new sh(this,"async_queue_retry"),this.Hc=()=>{const t=Bc();t&&Bt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=Bc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=Bc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Ii;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,le.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Oa(t))throw t;Bt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(s=>{throw this.Qc=s,this.jc=!1,tr("INTERNAL UNHANDLED ERROR: ",function(m){let C=m.message||"";return m.stack&&(C=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),C}(s)),s}).then(s=>(this.jc=!1,s))));return this.qc=t,t}enqueueAfterDelay(e,t,s){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const c=Xf.createAndSchedule(this,e,t,s,m=>this.Xc(m));return this.Gc.push(c),c}Jc(){this.Qc&&qt()}verifyOperationInProgress(){}ta(){var e=this;return(0,le.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function mp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(i)}class t_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ks extends Rd{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new e_,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}function xo(i){return i._firestoreClient||Gg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gg(i){var e;const t=i._freezeSettings(),s=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Yo(i._databaseId,m,i._persistenceKey,(R=t).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var m,R;i._firestoreClient=new Ng(i._authCredentials,i._appCheckCredentials,i._queue,s)}function r_(i,e,t){const s=new Ii;return i.asyncQueue.enqueue((0,le.Z)(function*(){try{yield ap(i,t),yield up(i,e),s.resolve()}catch(c){const m=c;if(!("FirebaseError"===(C=m).name?C.code===Ct.FAILED_PRECONDITION||C.code===Ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw m;Jn("Error enabling offline persistence. Falling back to persistence disabled: "+m),s.reject(m)}var C})).then(()=>s.promise)}function Wl(i){if(i._initialized||i._terminated)throw new zt(Ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wu(Bs.fromBase64String(e))}catch(t){throw new zt(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wu(Bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zt(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Od{constructor(e){this._methodName=e}}class wh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gr(this._lat,e._lat)||gr(this._long,e._long)}}const uf=/^__.*__$/;class s_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ba(e,this.data,t,this.fieldTransforms)}}class Wg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class cf{constructor(e,t,s,c,m,C){this.settings=e,this.databaseId=t,this.Tt=s,this.ignoreUndefinedProperties=c,void 0===m&&this.ia(),this.fieldTransforms=m||[],this.fieldMask=C||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.oa({path:s,ca:!1});return c.aa(e),c}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.oa({path:s,ca:!1});return c.ia(),c}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return wp(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(fy(this.ra)&&uf.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class py{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=s||Id(e)}wa(e,t,s,c=!1){return new cf({ra:e,methodName:t,_a:s,path:ci.emptyPath(),ca:!1,da:c},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Ku(i){const e=i._freezeSettings(),t=Id(i._databaseId);return new py(i._databaseId,!!e.ignoreUndefinedProperties,t)}function yp(i,e,t,s,c,m={}){const C=i.wa(m.merge||m.mergeFields?2:0,e,t,c);Xg("Data must be an object, but it was:",C,s);const R=Zg(s,C);let H,Z;if(m.merge)H=new hs(C.fieldMask),Z=C.fieldTransforms;else if(m.mergeFields){const ue=[];for(const He of m.mergeFields){const It=hf(e,He,t);if(!C.contains(It))throw new zt(Ct.INVALID_ARGUMENT,`Field '${It}' is specified in your field mask but missing from your input data.`);my(ue,It)||ue.push(It)}H=new hs(ue),Z=C.fieldTransforms.filter(He=>H.covers(He.field))}else H=null,Z=C.fieldTransforms;return new s_(new yo(R),H,Z)}class Ch extends Od{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function Kg(i,e,t){return new cf({ra:3,_a:e.settings._a,methodName:i._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class df extends Od{_toFieldTransform(e){return new tc(e.path,new ba)}isEqual(e){return e instanceof df}}class vp extends Od{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=Kg(this,e,!0),s=this.ma.map(m=>zc(m,t)),c=new La(s);return new tc(e.path,c)}isEqual(e){return this===e}}class Yg extends Od{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=Kg(this,e,!0),s=this.ma.map(m=>zc(m,t)),c=new Tl(s);return new tc(e.path,c)}isEqual(e){return this===e}}class gy extends Od{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new ou(e.Tt,id(e.Tt,this.ga));return new tc(e.path,t)}isEqual(e){return this===e}}function _p(i,e,t,s){const c=i.wa(1,e,t);Xg("Data must be an object, but it was:",c,s);const m=[],C=yo.empty();to(s,(H,Z)=>{const ue=Ip(e,H,t);Z=(0,Qe.m9)(Z);const He=c.ha(ue);if(Z instanceof Ch)m.push(ue);else{const It=zc(Z,He);null!=It&&(m.push(ue),C.set(ue,It))}});const R=new hs(m);return new Wg(C,R,c.fieldTransforms)}function Ep(i,e,t,s,c,m){const C=i.wa(1,e,t),R=[hf(e,s,t)],H=[c];if(m.length%2!=0)throw new zt(Ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let It=0;It<m.length;It+=2)R.push(hf(e,m[It])),H.push(m[It+1]);const Z=[],ue=yo.empty();for(let It=R.length-1;It>=0;--It)if(!my(Z,R[It])){const Kt=R[It];let tn=H[It];tn=(0,Qe.m9)(tn);const Un=C.ha(Kt);if(tn instanceof Ch)Z.push(Kt);else{const cr=zc(tn,Un);null!=cr&&(Z.push(Kt),ue.set(Kt,cr))}}const He=new hs(Z);return new Wg(ue,He,C.fieldTransforms)}function qg(i,e,t,s=!1){return zc(t,i.wa(s?4:3,e))}function zc(i,e){if(Qg(i=(0,Qe.m9)(i)))return Xg("Unsupported field value:",e,i),Zg(i,e);if(i instanceof Od)return function(t,s){if(!fy(s.ra))throw s.fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.fa(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,s){const c=[];let m=0;for(const C of t){let R=zc(C,s.la(m));null==R&&(R={nullValue:"NULL_VALUE"}),c.push(R),m++}return{arrayValue:{values:c}}}(i,e)}return function(t,s){if(null===(t=(0,Qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return id(s.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=wi.fromDate(t);return{timestampValue:fl(s.Tt,c)}}if(t instanceof wi){const c=new wi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fl(s.Tt,c)}}if(t instanceof wh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wu)return{bytesValue:Oc(s.Tt,t._byteString)};if(t instanceof Zs){const c=s.databaseId,m=t.firestore._databaseId;if(!m.isEqual(c))throw s.fa(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pc(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.fa(`Unsupported field value: ${Eh(t)}`)}(i,e)}function Zg(i,e){const t={};return ol(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(i,(s,c)=>{const m=zc(c,e.ua(s));null!=m&&(t[s]=m)}),{mapValue:{fields:t}}}function Qg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof wi||i instanceof wh||i instanceof Wu||i instanceof Zs||i instanceof Od)}function Xg(i,e,t){if(!Qg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Eh(t);throw e.fa("an object"===s?i+" a custom object":i+" "+s)}var s}function hf(i,e,t){if((e=(0,Qe.m9)(e))instanceof yc)return e._internalPath;if("string"==typeof e)return Ip(i,e);throw wp("Field path arguments must be of type string or ",i,!1,void 0,t)}const o_=new RegExp("[~\\*/\\[\\]]");function Ip(i,e,t){if(e.search(o_)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yc(...e.split("."))._internalPath}catch(s){throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function wp(i,e,t,s,c){const m=s&&!s.isEmpty(),C=void 0!==c;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let H="";return(m||C)&&(H+=" (found",m&&(H+=` in field ${s}`),C&&(H+=` in document ${c}`),H+=")"),new zt(Ct.INVALID_ARGUMENT,R+i+H)}function my(i,e){return i.some(t=>t.isEqual(e))}class ff{constructor(e,t,s,c,m){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new a_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class a_ extends ff{data(){return super.data()}}function Cp(i,e){return"string"==typeof e?Ip(i,e):e instanceof yc?e._internalPath:e._delegate._internalPath}function yy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new zt(Ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class pf extends Jg{}function Wc(i,e,...t){let s=[];e instanceof Jg&&s.push(e),s=s.concat(t),function(c){const m=c.filter(R=>R instanceof bh).length,C=c.filter(R=>R instanceof gf).length;if(m>1||m>0&&C>0)throw new zt(Ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)i=c._apply(i);return i}class gf extends pf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new gf(e,t,s)}_apply(e){const t=this._parse(e);return Pd(e._query,t),new Aa(e.firestore,e.converter,Xu(e._query,t))}_parse(e){const t=Ku(e.firestore);return function(c,m,C,R,H,Z,ue){let He;if(H.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new zt(Ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Ty(ue,Z);const It=[];for(const Kt of ue)It.push(Dy(R,c,Kt));He={arrayValue:{values:It}}}else He=Dy(R,c,ue)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Ty(ue,Z),He=qg(C,"where",ue,"in"===Z||"not-in"===Z);return jr.create(H,Z,He)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class bh extends Jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bh(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let m=s;const C=c.getFlattenedFilters();for(const R of C)Pd(m,R),m=Xu(m,R)}(e._query,t),new Aa(e.firestore,e.converter,Xu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bp extends pf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(s,c,m){if(null!==s.startAt)throw new zt(Ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new zt(Ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Jl(c,m);return function(R,H){if(null===$s(R)){const Z=Fa(R);null!==Z&&u_(0,Z,H.field)}}(s,C),C}(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,function(s,c){const m=s.explicitOrderBy.concat([c]);return new Pi(s.path,s.collectionGroup,m,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class mf extends pf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new mf(e,t,s)}_apply(e){return new Aa(e.firestore,e.converter,Ju(e._query,this._limit,this._limitType))}}class yf extends pf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new yf(e,t,s)}_apply(e){const t=Kc(e,this.type,this._docOrFields,this._inclusive);return new Aa(e.firestore,e.converter,(c=t,new Pi((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class vf extends pf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new vf(e,t,s)}_apply(e){const t=Kc(e,this.type,this._docOrFields,this._inclusive);return new Aa(e.firestore,e.converter,(c=t,new Pi((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function Kc(i,e,t,s){if(t[0]=(0,Qe.m9)(t[0]),t[0]instanceof ff)return function(c,m,C,R,H){if(!R)throw new zt(Ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const Z=[];for(const ue of Bl(c))if(ue.field.isKeyField())Z.push(In(m,R.key));else{const He=R.data.field(ue.field);if(Ca(He))throw new zt(Ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===He){const It=ue.field.canonicalString();throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${It}' (used as the orderBy) does not exist.`)}Z.push(He)}return new rr(Z,H)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const c=Ku(i.firestore);return function(m,C,R,H,Z,ue){const He=m.explicitOrderBy;if(Z.length>He.length)throw new zt(Ct.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const It=[];for(let Kt=0;Kt<Z.length;Kt++){const tn=Z[Kt];if(He[Kt].field.isKeyField()){if("string"!=typeof tn)throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof tn}`);if(!Ll(m)&&-1!==tn.indexOf("/"))throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${tn}' contains a slash.`);const Un=m.path.child(Kr.fromString(tn));if(!gn.isDocumentKey(Un))throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Un}' is not because it contains an odd number of segments.`);const cr=new gn(Un);It.push(In(C,cr))}else{const Un=qg(R,H,tn);It.push(Un)}}return new rr(It,ue)}(i._query,i.firestore._databaseId,c,e,t,s)}}function Dy(i,e,t){if("string"==typeof(t=(0,Qe.m9)(t))){if(""===t)throw new zt(Ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ll(e)&&-1!==t.indexOf("/"))throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Kr.fromString(t));if(!gn.isDocumentKey(s))throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return In(i,new gn(s))}if(t instanceof Zs)return In(i,t._key);throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(t)}.`)}function Ty(i,e){if(!Array.isArray(i)||0===i.length)throw new zt(Ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pd(i,e){if(e.isInequality()){const s=Fa(i),c=e.field;if(null!==s&&!s.isEqual(c))throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const m=$s(i);null!==m&&u_(0,c,m)}const t=function(s,c){for(const m of s)for(const C of m.getFlattenedFilters())if(c.indexOf(C.op)>=0)return C.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new zt(Ct.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function u_(i,e,t){if(!t.isEqual(e))throw new zt(Ct.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Sy{convertValue(e,t="none"){switch(V(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qt()}}convertObject(e,t){const s={};return to(e.fields,(c,m)=>{s[c]=this.convertValue(m,t)}),s}convertGeoPoint(e){return new wh(_i(e.latitude),_i(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=T(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(x(e));default:return null}}convertTimestamp(e){const t=ca(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Kr.fromString(e);Jt(Lu(s));const c=new wa(s.get(1),s.get(3)),m=new gn(s.popFirst(5));return c.isEqual(t)||tr(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function _f(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Ay extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,t)}}class Kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends ff{constructor(e,t,s,c,m,C){super(e,t,s,c,C),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Yc extends vc{data(e={}){return super.data(e)}}class _u{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new Kl(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Yc(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let m=0;return s._snapshot.docChanges.map(C=>({type:"added",doc:new Yc(s._firestore,s._userDataWriter,C.doc.key,C.doc,new Kl(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:m++}))}{let m=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(C=>c||3!==C.type).map(C=>{const R=new Yc(s._firestore,s._userDataWriter,C.doc.key,C.doc,new Kl(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter);let H=-1,Z=-1;return 0!==C.type&&(H=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),Z=m.indexOf(C.doc.key)),{type:wo(C.type),doc:R,oldIndex:H,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wo(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function d_(i,e){return i instanceof vc&&e instanceof vc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _u&&e instanceof _u&&i._firestore===e._firestore&&Hg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class _c extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,t)}}function Ny(i,e,t){i=ui(i,Zs);const s=ui(i.firestore,ks),c=_f(i.converter,e,t);return Dh(s,[yp(Ku(s),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,es.none())])}function ky(i,e,t,...s){i=ui(i,Zs);const c=ui(i.firestore,ks),m=Ku(c);let C;return C="string"==typeof(e=(0,Qe.m9)(e))||e instanceof yc?Ep(m,"updateDoc",i._key,e,t,s):_p(m,"updateDoc",i._key,e),Dh(c,[C.toMutation(i._key,es.exists(!0))])}function Fy(i,...e){var t,s,c;i=(0,Qe.m9)(i);let m={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||mp(e[C])||(m=e[C],C++);const R={includeMetadataChanges:m.includeMetadataChanges};if(mp(e[C])){const He=e[C];e[C]=null===(t=He.next)||void 0===t?void 0:t.bind(He),e[C+1]=null===(s=He.error)||void 0===s?void 0:s.bind(He),e[C+2]=null===(c=He.complete)||void 0===c?void 0:c.bind(He)}let H,Z,ue;if(i instanceof Zs)Z=ui(i.firestore,ks),ue=iu(i._key.path),H={next:He=>{e[C]&&e[C](Th(Z,i,He))},error:e[C+1],complete:e[C+2]};else{const He=ui(i,Aa);Z=ui(He.firestore,ks),ue=He._query;const It=new _c(Z);H={next:Kt=>{e[C]&&e[C](new _u(Z,It,He,Kt))},error:e[C+1],complete:e[C+2]},yy(i._query)}return function(He,It,Kt,tn){const Un=new xd(tn),cr=new Sd(It,Un,Kt);return He.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return ch(yield Md(He),cr)})),()=>{Un.Pc(),He.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return pg(yield Md(He),cr)}))}}(xo(Z),ue,R,H)}function Dh(i,e){return function(t,s){const c=new Ii;return t.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function Yv(i,e,t){return Eg.apply(this,arguments)}(yield fp(t),s,c)})),c.promise}(xo(i),e)}function Th(i,e,t){const s=t.docs.get(e._key),c=new _c(i);return new vc(i,c,e._key,s,new Kl(t.hasPendingWrites,t.fromCache),e.converter)}const By={maxAttempts:5};class $y{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,t,s){this._verifyNotCommitted();const c=Yl(e,this._firestore),m=_f(c.converter,t,s),C=yp(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,s);return this._mutations.push(C.toMutation(c._key,es.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const m=Yl(e,this._firestore);let C;return C="string"==typeof(t=(0,Qe.m9)(t))||t instanceof yc?Ep(this._dataReader,"WriteBatch.update",m._key,t,s,c):_p(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(C.toMutation(m._key,es.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yl(e,this._firestore);return this._mutations=this._mutations.concat(new Za(t._key,es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(Ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yl(i,e){if((i=(0,Qe.m9)(i)).firestore!==e)throw new zt(Ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class If extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ku(e)}get(e){const t=Yl(e,this._firestore),s=new Ay(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return qt();const m=c[0];if(m.isFoundDocument())return new ff(this._firestore,s,m.key,m,t.converter);if(m.isNoDocument())return new ff(this._firestore,s,t._key,null,t.converter);throw qt()})}set(e,t,s){const c=Yl(e,this._firestore),m=_f(c.converter,t,s),C=yp(this._dataReader,"Transaction.set",c._key,m,null!==c.converter,s);return this._transaction.set(c._key,C),this}update(e,t,s,...c){const m=Yl(e,this._firestore);let C;return C="string"==typeof(t=(0,Qe.m9)(t))||t instanceof yc?Ep(this._dataReader,"Transaction.update",m._key,t,s,c):_p(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,C),this}delete(e){const t=Yl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yl(e,this._firestore),s=new _c(this._firestore);return super.get(e).then(c=>new vc(this._firestore,s,t._key,c._document,new Kl(!1,!1),t.converter))}}!function(i,e=!0){Et=at.SDK_VERSION,(0,at._registerComponent)(new ot.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const m=t.getProvider("app").getImmediate(),C=new ks(new vl(t.getProvider("auth-internal")),new Nl(t.getProvider("app-check-internal")),function(R,H){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new zt(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(R.options.projectId,H)}(m,s),m);return c=Object.assign({useFetchStreams:e},c),C._setSettings(c),C},"PUBLIC").setMultipleInstances(!0)),(0,at.registerVersion)(re,"3.8.4",i),(0,at.registerVersion)(re,"3.8.4","esm2017")}();function Gy(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new zt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function I_(){if(typeof Uint8Array>"u")throw new zt("unimplemented","Uint8Arrays are not available in this environment.")}function w_(){if(!function wl(){return typeof atob<"u"}())throw new zt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Sh{constructor(e){this._delegate=e}static fromBase64String(e){return w_(),new Sh(Wu.fromBase64String(e))}static fromUint8Array(e){return I_(),new Sh(Wu.fromUint8Array(e))}toBase64(){return w_(),this._delegate.toBase64()}toUint8Array(){return I_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ah(i){return function C_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class b_{enableIndexedDbPersistence(e,t){return function n_(i,e){Wl(i=ui(i,ks));const t=xo(i),s=i._freezeSettings(),c=new Rg;return r_(t,c,new op(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cy(i){Wl(i=ui(i,ks));const e=xo(i),t=i._freezeSettings(),s=new Rg;return r_(e,s,new Mg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function dy(i){if(i._initialized&&!i._terminated)throw new zt(Ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return i._queue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{yield(t=(0,le.Z)(function*(s){if(!Rs.C())return Promise.resolve();const c=s+"main";yield Rs.delete(c)}),function(s){return t.apply(this,arguments)})(Gh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class em{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Xv(i,e,t,s={}){var c;const m=(i=ui(i,Rd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Jn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let C,R;if("string"==typeof s.mockUserToken)C=s.mockUserToken,R=ye.MOCK_USER;else{C=(0,Qe.Sg)(s.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new zt(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ye(H)}i._authCredentials=new fo(new Ms(C,R))}}(this._delegate,e,t,s)}enableNetwork(){return function Gu(i){return function ey(i){return i.asyncQueue.enqueue((0,le.Z)(function*(){const e=yield Fg(i),t=yield hp(i);return e.setNetworkEnabled(!0),function(s){const c=un(s);return c.mu.delete(0),oh(c)}(t)}))}(xo(i=ui(i,ks)))}(this._delegate)}disableNetwork(){return function i_(i){return function Lg(i){return i.asyncQueue.enqueue((0,le.Z)(function*(){const e=yield Fg(i),t=yield hp(i);return e.setNetworkEnabled(!1),(s=(0,le.Z)(function*(c){const m=un(c);m.mu.add(0),yield wd(m),m.pu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(xo(i=ui(i,ks)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,mc("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zg(i){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function qv(i,e){return bg.apply(this,arguments)}(yield fp(e),t)})),t.promise}(xo(i=ui(i,ks)))}(this._delegate)}onSnapshotsInSync(e){return function p_(i,e){return function ry(i,e){const t=new xd(e);return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return s=yield Md(i),c=t,un(s).vu.add(c),void c.next();var s,c})),()=>{t.Pc(),i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return s=yield Md(i),c=t,void un(s).vu.delete(c);var s,c}))}}(xo(i=ui(i,ks)),mp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new zt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kd(this,Ug(this._delegate,e))}catch(t){throw Ja(t,"collection()","Firestore.collection()")}}doc(e){try{return new Eu(this,Io(this._delegate,e))}catch(t){throw Ja(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new el(this,function Jv(i,e){if(i=ui(i,Rd),_h("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zt(Ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Aa(i,null,(t=e,new Pi(Kr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ja(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function m_(i,e,t){i=ui(i,ks);const s=Object.assign(Object.assign({},By),t);return function(c){if(c.maxAttempts<1)throw new zt(Ct.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,m,C){const R=new Ii;return c.asyncQueue.enqueueAndForget((0,le.Z)(function*(){const H=yield function Jm(i){return sf(i).then(e=>e.datastore)}(c);new Pg(c.asyncQueue,H,C,m,R).run()})),R.promise}(xo(i),c=>e(new If(i,c)),s)}(this._delegate,t=>e(new zy(this,t)))}batch(){return xo(this._delegate),new Wy(new $y(this._delegate,e=>Dh(this._delegate,e)))}loadBundle(e){return function zu(i,e){const t=xo(i=ui(i,ks)),s=new t_;return function iy(i,e,t,s){const c=function(m,C){let R;return R="string"==typeof m?(new TextEncoder).encode(m):m,H=function(H,Z){if(H instanceof Uint8Array)return nf(H,Z);if(H instanceof ArrayBuffer)return nf(new Uint8Array(H),Z);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Og(H,C);var H}(t,Id(e));i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){!function Zv(i,e,t){const s=un(i);var c;(c=(0,le.Z)(function*(m,C,R){try{const H=yield C.getMetadata();if(yield function(It,Kt){const tn=un(It),Un=Ns(Kt.createTime);return tn.persistence.runTransaction("hasNewerBundle","readonly",cr=>tn.Os.getBundleMetadata(cr,Kt.id)).then(cr=>!!cr&&cr.createTime.compareTo(Un)>=0)}(m.localStore,H))return yield C.close(),R._completeWith({taskState:"Success",documentsLoaded:(It=H).totalDocuments,bytesLoaded:It.totalBytes,totalDocuments:It.totalDocuments,totalBytes:It.totalBytes}),Promise.resolve(new Set);R._updateProgress(Um(H));const Z=new Gv(H,m.localStore,C.Tt);let ue=yield C.yc();for(;ue;){const It=yield Z.Bu(ue);It&&R._updateProgress(It),ue=yield C.yc()}const He=yield Z.complete();return yield Uo(m,He.Uu,void 0),yield function(It,Kt){const tn=un(It);return tn.persistence.runTransaction("Save bundle","readwrite",Un=>tn.Os.saveBundleMetadata(Un,Kt))}(m.localStore,H),R._completeWith(He.progress),Promise.resolve(He.qu)}catch(H){return Jn("SyncEngine",`Loading bundle failed with ${H}`),R._failWith(H),Promise.resolve(new Set)}var It}),function(m,C,R){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield fp(i),c,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function vu(i,e){return function sy(i,e){return i.asyncQueue.enqueue((0,le.Z)(function*(){return function(t,s){const c=un(t);return c.persistence.runTransaction("Get named query","readonly",m=>c.Os.getNamedQuery(m,s))}(yield af(i),e)}))}(xo(i=ui(i,ks)),e).then(t=>t?new Aa(i,null,t.query):null)}(this._delegate,e).then(t=>t?new el(this,t):null)}}class qc extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sh(new Wu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Eu.forKey(t,this.firestore,null)}}class zy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qc(e)}get(e){const t=Fd(e);return this._delegate.get(t).then(s=>new wf(this._firestore,new vc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=Fd(e);return s?(Gy("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const m=Fd(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,s,...c),this}delete(e){const t=Fd(e);return this._delegate.delete(t),this}}class Wy{constructor(e){this._delegate=e}set(e,t,s){const c=Fd(e);return s?(Gy("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const m=Fd(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,s,...c),this}delete(e){const t=Fd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Nd{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Yc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ec(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Nd.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let m=c.get(t);return m||(m=new Nd(e,new qc(e),t),c.set(t,m)),m}}Nd.INSTANCES=new WeakMap;class Eu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qc(e)}static forPath(e,t,s){if(e.length%2!=0)throw new zt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Eu(t,new Zs(t._delegate,s,new gn(e)))}static forKey(e,t,s){return new Eu(t,new Zs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new kd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kd(this.firestore,Ug(this._delegate,e))}catch(t){throw Ja(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Zs&&jg(this._delegate,e)}set(e,t){t=Gy("DocumentReference.set",t);try{return t?Ny(this._delegate,e,t):Ny(this._delegate,e)}catch(s){throw Ja(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?ky(this._delegate,e):ky(this._delegate,e,t,...s)}catch(c){throw Ja(c,"updateDoc()","DocumentReference.update()")}}delete(){return function f_(i){return Dh(ui(i.firestore,ks),[new Za(i._key,es.none())])}(this._delegate)}onSnapshot(...e){const t=tm(e),s=Ky(e,c=>new wf(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Fy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function h_(i){i=ui(i,Zs);const e=ui(i.firestore,ks),t=xo(e),s=new _c(e);return function ty(i,e){const t=new Ii;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(s=(0,le.Z)(function*(c,m,C){try{const R=yield function(H,Z){const ue=un(H);return ue.persistence.runTransaction("read document","readonly",He=>ue.localDocuments.getDocument(He,Z))}(c,m);R.isFoundDocument()?C.resolve(R):R.isNoDocument()?C.resolve(null):C.reject(new zt(Ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const H=bd(R,`Failed to get document '${m} from cache`);C.reject(H)}}),function(c,m,C){return s.apply(this,arguments)})(yield af(i),e,t);var s})),t.promise}(t,i._key).then(c=>new vc(e,s,i._key,c,new Kl(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function My(i){i=ui(i,Zs);const e=ui(i.firestore,ks);return Bg(xo(e),i._key,{source:"server"}).then(t=>Th(e,i,t))}(this._delegate):function xy(i){i=ui(i,Zs);const e=ui(i.firestore,ks);return Bg(xo(e),i._key).then(t=>Th(e,i,t))}(this._delegate),t.then(s=>new wf(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Eu(this.firestore,this._delegate.withConverter(e?Nd.getInstance(this.firestore,e):null))}}function Ja(i,e,t){return i.message=i.message.replace(e,t),i}function tm(i){for(const e of i)if("object"==typeof e&&!Ah(e))return e;return{}}function Ky(i,e){var t,s;let c;return c=Ah(i[0])?i[0]:Ah(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{c.next&&c.next(e(m))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class wf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Eu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return d_(this._delegate,e._delegate)}}class Ec extends wf{data(e){const t=this._delegate.data(e);return function Zi(i,e){i||qt()}(void 0!==t),t}}class el{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qc(e)}where(e,t,s){try{return new el(this.firestore,Wc(this._delegate,function l_(i,e,t){const s=e,c=Cp("where",i);return gf._create(c,s,t)}(e,t,s)))}catch(c){throw Ja(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new el(this.firestore,Wc(this._delegate,function vy(i,e="asc"){const t=e,s=Cp("orderBy",i);return bp._create(s,t)}(e,t)))}catch(s){throw Ja(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new el(this.firestore,Wc(this._delegate,function _y(i){return gp("limit",i),mf._create("limit",i,"F")}(e)))}catch(t){throw Ja(t,"limit()","Query.limit()")}}limitToLast(e){try{return new el(this.firestore,Wc(this._delegate,function Ey(i){return gp("limitToLast",i),mf._create("limitToLast",i,"L")}(e)))}catch(t){throw Ja(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new el(this.firestore,Wc(this._delegate,function Iy(...i){return yf._create("startAt",i,!0)}(...e)))}catch(t){throw Ja(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new el(this.firestore,Wc(this._delegate,function wy(...i){return yf._create("startAfter",i,!1)}(...e)))}catch(t){throw Ja(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new el(this.firestore,Wc(this._delegate,function Cy(...i){return vf._create("endBefore",i,!1)}(...e)))}catch(t){throw Ja(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new el(this.firestore,Wc(this._delegate,function by(...i){return vf._create("endAt",i,!0)}(...e)))}catch(t){throw Ja(t,"endAt()","Query.endAt()")}}isEqual(e){return Hg(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Oy(i){i=ui(i,Aa);const e=ui(i.firestore,ks),t=xo(e),s=new _c(e);return function ny(i,e){const t=new Ii;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(s=(0,le.Z)(function*(c,m,C){try{const R=yield Wh(c,m,!0),H=new Gm(m,R.Yi),Z=H.Hu(R.documents),ue=H.applyChanges(Z,!1);C.resolve(ue.snapshot)}catch(R){const H=bd(R,`Failed to execute query '${m} against cache`);C.reject(H)}}),function(c,m,C){return s.apply(this,arguments)})(yield af(i),e,t);var s})),t.promise}(t,i._query).then(c=>new _u(e,s,i,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function Py(i){i=ui(i,Aa);const e=ui(i.firestore,ks),t=xo(e),s=new _c(e);return $g(t,i._query,{source:"server"}).then(c=>new _u(e,s,i,c))}(this._delegate):function Ry(i){i=ui(i,Aa);const e=ui(i.firestore,ks),t=xo(e),s=new _c(e);return yy(i._query),$g(t,i._query).then(c=>new _u(e,s,i,c))}(this._delegate),t.then(s=>new nm(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=tm(e),s=Ky(e,c=>new nm(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Fy(this._delegate,t,s)}withConverter(e){return new el(this.firestore,this._delegate.withConverter(e?Nd.getInstance(this.firestore,e):null))}}class Yy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ec(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new el(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ec(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Yy(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ec(this._firestore,s))})}isEqual(e){return d_(this._delegate,e._delegate)}}class kd extends el{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Eu(this.firestore,e):null}doc(e){try{return new Eu(this.firestore,void 0===e?Io(this._delegate):Io(this._delegate,e))}catch(t){throw Ja(t,"doc()","CollectionReference.doc()")}}add(e){return function Ef(i,e){const t=ui(i.firestore,ks),s=Io(i),c=_f(i.converter,e);return Dh(t,[yp(Ku(i.firestore),"addDoc",s._key,c,null!==i.converter,{}).toMutation(s._key,es.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Eu(this.firestore,t))}isEqual(e){return jg(this._delegate,e._delegate)}withConverter(e){return new kd(this.firestore,this._delegate.withConverter(e?Nd.getInstance(this.firestore,e):null))}}function Fd(i){return ui(i,Zs)}class Tp{constructor(...e){this._delegate=new yc(...e)}static documentId(){return new Tp(ci.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof yc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._delegate=e}static serverTimestamp(){const e=function v_(){return new df("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ld(e)}static delete(){const e=function y_(){return new Ch("deleteField")}();return e._methodName="FieldValue.delete",new Ld(e)}static arrayUnion(...e){const t=function Vy(...i){return new vp("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Ld(t)}static arrayRemove(...e){const t=function Uy(...i){return new Yg("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Ld(t)}static increment(e){const t=function jy(i){return new gy("increment",i)}(e);return t._methodName="FieldValue.increment",new Ld(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rm={Firestore:em,GeoPoint:wh,Timestamp:wi,Blob:Sh,Transaction:zy,WriteBatch:Wy,DocumentReference:Eu,DocumentSnapshot:wf,Query:el,QueryDocumentSnapshot:Ec,QuerySnapshot:nm,CollectionReference:kd,FieldPath:Tp,FieldValue:Ld,setLogLevel:function D_(i){!function Tr(i){Vt.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function qy(i){(function T_(i,e){i.INTERNAL.registerComponent(new ot.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},rm)))})(i,(e,t)=>new em(e,t,new b_)),i.registerVersion("@firebase/firestore-compat","0.3.4")}(_e.Z);var Ic=$(1205),S_=$(6217),A_=$(9260);function Sp(i,e){return function x_(i,e=te.z){return new z.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function Ap(i,e){return Sp(i,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function xp(i,e){return Ap(i,e).pipe((0,de.O)(void 0),ge(),(0,fe.U)(([t,s])=>{const c=s.payload.docChanges(),m=c.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((C,R)=>{const H=c.find(ue=>ue.doc.ref.isEqual(C.ref)),Z=null==t?void 0:t.payload.docs.find(ue=>ue.ref.isEqual(C.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(C.metadata)||!H&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(C.metadata)||m.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:C}})}),m}))}function Zy(i,e,t){return xp(i,t).pipe((0,pe.R)((s,c)=>function R_(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function O_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return im(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return im(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return im(i,e.oldIndex,1)}return i}(i,s))}),i}(s,c.map(m=>m.payload),e),[]),(0,ke.x)(),(0,fe.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function im(i,e,t,...s){const c=i.slice();return c.splice(e,t,...s),c}function Qy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Xy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=xp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,de.O)(void 0),ge(),(0,Ue.h)(([s,c])=>c.length>0||!s),(0,fe.U)(([s,c])=>c),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Qy(e);return Zy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return Ap(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Te.iC)}get(e){return(0,Se.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new Jy(this.ref.doc(e),this.afs)}}class Jy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:m}=rv(s,t);return new Xy(c,m,this.afs)}snapshotChanges(){return function M_(i,e){return Sp(i,e).pipe((0,de.O)(void 0),ge(),(0,fe.U)(([t,s])=>s.exists?null!=t&&t.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Se.D)(this.ref.get(e)).pipe(Te.iC)}}class ev{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xp(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Ue.h)(t=>t.length>0),Te.iC):xp(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Qy(e);return Zy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return Ap(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Te.iC)}get(e){return(0,Se.D)(this.query.get(e)).pipe(Te.iC)}}const sm=new a.OlP("angularfire2.enableFirestorePersistence"),tv=new a.OlP("angularfire2.firestore.persistenceSettings"),P_=new a.OlP("angularfire2.firestore.settings"),nv=new a.OlP("angularfire2.firestore.use-emulator");function rv(i,e=(t=>t)){return{query:e(i),ref:i}}let iv=(()=>{class i{constructor(t,s,c,m,C,R,H,Z,ue,He,It,Kt,tn,Un,cr,fs,Vs){this.schedulers=H;const Si=(0,lt.on)(t,R,s),io=ue;He&&(0,Ic.nw)(Si,R,It,tn,Un,cr,Kt,fs),[this.firestore,this.persistenceEnabled$]=(0,lt.cc)(`${Si.name}.firestore`,"AngularFirestore",Si.name,()=>{const Ui=R.runOutsideAngular(()=>Si.firestore());if(m&&Ui.settings(m),io&&Ui.useEmulator(...io),c&&!(0,St.PM)(C)){const zi=()=>{try{return(0,Se.D)(Ui.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch(jo){return typeof console<"u"&&console.warn(jo),(0,Me.of)(!1)}};return[Ui,R.runOutsideAngular(zi)]}return[Ui,(0,Me.of)(!1)]},[m,io,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:C}=rv(c,s),R=this.schedulers.ngZone.run(()=>m);return new Xy(R,C,this)}collectionGroup(t,s){const c=s||(C=>C),m=this.firestore.collectionGroup(t);return new ev(c(m),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new Jy(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(lt.Dh),a.LFG(lt.xv,8),a.LFG(sm,8),a.LFG(P_,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Te.HU),a.LFG(tv,8),a.LFG(nv,8),a.LFG(Ic.zQ,8),a.LFG(Ic.Qv,8),a.LFG(Ic.L6,8),a.LFG(Ic._Q,8),a.LFG(Ic.rT,8),a.LFG(Ic.lh,8),a.LFG(Ic.f7,8),a.LFG(S_.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),N_=(()=>{class i{constructor(){A_.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:sm,useValue:!0},{provide:tv,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[iv]}),i})()},2011:(cn,gt,$)=>{"use strict";$.d(gt,{Dh:()=>Ae,GT:()=>Te,cc:()=>Ue,hO:()=>ke,on:()=>ge,pX:()=>Me,xv:()=>Ve});var a=$(4650),te=$(9260),z=$(2122);cn=$.hmd(cn);const Se=["ngOnDestroy"],Me=(_e,le,at,ot={})=>new Proxy(_e,{get:(et,Qe)=>at.runOutsideAngular(()=>{var Pe;if(_e[Qe])return!(null===(Pe=null==ot?void 0:ot.spy)||void 0===Pe)&&Pe.get&&ot.spy.get(Qe,_e[Qe]),_e[Qe];if(Se.indexOf(Qe)>-1)return()=>{};const Oe=le.toPromise().then(J=>{const Xe=J&&J[Qe];return"function"==typeof Xe?Xe.bind(J):Xe&&Xe.then?Xe.then(Fe=>at.run(()=>Fe)):at.run(()=>Xe)});return new Proxy(()=>{},{get:(J,Xe)=>Oe[Xe],apply:(J,Xe,Fe)=>Oe.then(Ge=>{var Ke;const it=Ge&&Ge(...Fe);return!(null===(Ke=null==ot?void 0:ot.spy)||void 0===Ke)&&Ke.apply&&ot.spy.apply(Qe,Fe,it),it})})})}),Te=(_e,le)=>{le.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(ot=>{Object.defineProperty(_e.prototype,ot,Object.getOwnPropertyDescriptor(at.prototype||at,ot))})})};class de{constructor(le){return le}}const Ae=new a.OlP("angularfire2.app.options"),Ve=new a.OlP("angularfire2.app.name");function ge(_e,le,at){const et="object"==typeof at&&at||{};et.name=et.name||"string"==typeof at&&at||"[DEFAULT]";const Pe=te.Z.apps.filter(Oe=>Oe&&Oe.name===et.name)[0]||le.runOutsideAngular(()=>te.Z.initializeApp(_e,et));try{JSON.stringify(_e)!==JSON.stringify(Pe.options)&&fe("error",`${Pe.name} Firebase App already initialized with different options${cn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Oe){}return new de(Pe)}const fe=(_e,...le)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...le)},pe={provide:de,useFactory:ge,deps:[Ae,a.R0b,[new a.FiY,Ve]]};let ke=(()=>{class _e{constructor(at){te.Z.registerVersion("angularfire",z.q4.full,"core"),te.Z.registerVersion("angularfire",z.q4.full,"app-compat"),te.Z.registerVersion("angular",a.q4F.full,at.toString())}static initializeApp(at,ot){return{ngModule:_e,providers:[{provide:Ae,useValue:at},{provide:Ve,useValue:ot}]}}}return _e.\u0275fac=function(at){return new(at||_e)(a.LFG(a.Lbi))},_e.\u0275mod=a.oAB({type:_e}),_e.\u0275inj=a.cJS({providers:[pe]}),_e})();function Ue(_e,le,at,ot,et){const[,Qe,Pe]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===_e)||[];if(Qe)return function lt(_e,le){try{return _e.toString()===le.toString()}catch(at){return _e===le}}(et,Pe)||(Re("error",`${le} was already initialized on the ${at} Firebase App with different settings.${St?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:et,was:Pe})),Qe;{const Oe=ot();return globalThis.\u0275AngularfireInstanceCache.push([_e,Oe,et]),Oe}}const St=!!cn.hot,Re=(_e,...le)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(cn,gt,$)=>{"use strict";$.d(gt,{q4:()=>Os,iC:()=>At,HU:()=>w,vb:()=>ka,JM:()=>_i});var a=$(4650),te=$(259),z=$(5861),Se=$(9681),Me=$(2090),Te=$(4859),de=$(1877),Ae=$(8766);const Ve="@firebase/installations",ge="0.6.4",fe=1e4,pe=`w:${ge}`,ke="FIS_v2",Ue="https://firebaseinstallations.googleapis.com/v1",lt=36e5,le=new Me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(F){return F instanceof Me.ZR&&F.code.includes("request-failed")}function ot({projectId:F}){return`${Ue}/projects/${F}/installations`}function et(F){return{token:F.token,requestStatus:2,expiresIn:Ge(F.expiresIn),creationTime:Date.now()}}function Qe(F,U){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,z.Z)(function*(F,U){const De=(yield U.json()).error;return le.create("request-failed",{requestName:F,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function Oe({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function Xe(F){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,z.Z)(function*(F){const U=yield F();return U.status>=500&&U.status<600?F():U})).apply(this,arguments)}function Ge(F){return Number(F.replace("s","000"))}function je(){return(je=(0,z.Z)(function*({appConfig:F,heartbeatServiceProvider:U},{fid:ee}){const De=ot(F),ht=Oe(F),_t=U.getImmediate({optional:!0});if(_t){const er=yield _t.getHeartbeatsHeader();er&&ht.append("x-firebase-client",er)}const kn={method:"POST",headers:ht,body:JSON.stringify({fid:ee,authVersion:ke,appId:F.appId,sdkVersion:pe})},An=yield Xe(()=>fetch(De,kn));if(An.ok){const er=yield An.json();return{fid:er.fid||ee,registrationStatus:2,refreshToken:er.refreshToken,authToken:et(er.authToken)}}throw yield Qe("Create Installation",An)})).apply(this,arguments)}function pt(F){return new Promise(U=>{setTimeout(U,F)})}const we=/^[cdef][\w-]{21}$/,Ee="";function be(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const ee=function Je(F){return function tt(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return we.test(ee)?ee:Ee}catch(F){return Ee}}function W(F){return`${F.appName}!${F.appId}`}const nt=new Map;function ze(F,U){const ee=W(F);Pt(ee,U),function dn(F,U){const ee=function Tn(){return!Rt&&"BroadcastChannel"in self&&(Rt=new BroadcastChannel("[Firebase] FID Change"),Rt.onmessage=F=>{Pt(F.data.key,F.data.fid)}),Rt}();ee&&ee.postMessage({key:F,fid:U}),function Sn(){0===nt.size&&Rt&&(Rt.close(),Rt=null)}()}(ee,U)}function Pt(F,U){const ee=nt.get(F);if(ee)for(const De of ee)De(U)}let Rt=null;const Fn="firebase-installations-database",on=1,ar="firebase-installations-store";let wr=null;function Sr(){return wr||(wr=(0,Ae.X3)(Fn,on,{upgrade:(F,U)=>{0===U&&F.createObjectStore(ar)}})),wr}function Cn(F,U){return lr.apply(this,arguments)}function lr(){return(lr=(0,z.Z)(function*(F,U){const ee=W(F),ht=(yield Sr()).transaction(ar,"readwrite"),_t=ht.objectStore(ar),Xt=yield _t.get(ee);return yield _t.put(U,ee),yield ht.done,(!Xt||Xt.fid!==U.fid)&&ze(F,U.fid),U})).apply(this,arguments)}function Yt(F){return dr.apply(this,arguments)}function dr(){return(dr=(0,z.Z)(function*(F){const U=W(F),De=(yield Sr()).transaction(ar,"readwrite");yield De.objectStore(ar).delete(U),yield De.done})).apply(this,arguments)}function Pr(F,U){return $r.apply(this,arguments)}function $r(){return($r=(0,z.Z)(function*(F,U){const ee=W(F),ht=(yield Sr()).transaction(ar,"readwrite"),_t=ht.objectStore(ar),Xt=yield _t.get(ee),kn=U(Xt);return void 0===kn?yield _t.delete(ee):yield _t.put(kn,ee),yield ht.done,kn&&(!Xt||Xt.fid!==kn.fid)&&ze(F,kn.fid),kn})).apply(this,arguments)}function Yr(F){return qn.apply(this,arguments)}function qn(){return qn=(0,z.Z)(function*(F){let U;const ee=yield Pr(F.appConfig,De=>{const ht=function Pn(F){return ii(F||{fid:be(),registrationStatus:0})}(De),_t=function vn(F,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(le.create("app-offline"))};const ee={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},De=function bn(F,U){return ri.apply(this,arguments)}(F,ee);return{installationEntry:ee,registrationPromise:De}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:pn(F)}:{installationEntry:U}}(F,ht);return U=_t.registrationPromise,_t.installationEntry});return ee.fid===Ee?{installationEntry:yield U}:{installationEntry:ee,registrationPromise:U}}),qn.apply(this,arguments)}function ri(){return ri=(0,z.Z)(function*(F,U){try{const ee=yield function it(F,U){return je.apply(this,arguments)}(F,U);return Cn(F.appConfig,ee)}catch(ee){throw at(ee)&&409===ee.customData.serverCode?yield Yt(F.appConfig):yield Cn(F.appConfig,{fid:U.fid,registrationStatus:0}),ee}}),ri.apply(this,arguments)}function pn(F){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,z.Z)(function*(F){let U=yield Gt(F.appConfig);for(;1===U.registrationStatus;)yield pt(100),U=yield Gt(F.appConfig);if(0===U.registrationStatus){const{installationEntry:ee,registrationPromise:De}=yield Yr(F);return De||ee}return U})).apply(this,arguments)}function Gt(F){return Pr(F,U=>{if(!U)throw le.create("installation-not-found");return ii(U)})}function ii(F){return function Ni(F){return 1===F.registrationStatus&&F.registrationTime+fe<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function _r(){return(_r=(0,z.Z)(function*({appConfig:F,heartbeatServiceProvider:U},ee){const De=function ir(F,{fid:U}){return`${ot(F)}/${U}/authTokens:generate`}(F,ee),ht=function J(F,{refreshToken:U}){const ee=Oe(F);return ee.append("Authorization",function Ke(F){return`${ke} ${F}`}(U)),ee}(F,ee),_t=U.getImmediate({optional:!0});if(_t){const er=yield _t.getHeartbeatsHeader();er&&ht.append("x-firebase-client",er)}const kn={method:"POST",headers:ht,body:JSON.stringify({installation:{sdkVersion:pe,appId:F.appId}})},An=yield Xe(()=>fetch(De,kn));if(An.ok)return et(yield An.json());throw yield Qe("Generate Auth Token",An)})).apply(this,arguments)}function jn(F){return hi.apply(this,arguments)}function hi(){return hi=(0,z.Z)(function*(F,U=!1){let ee;const De=yield Pr(F.appConfig,_t=>{if(!Rn(_t))throw le.create("not-registered");const Xt=_t.authToken;if(!U&&function Vr(F){return 2===F.requestStatus&&!function xe(F){const U=Date.now();return U<F.creationTime||F.creationTime+F.expiresIn<U+lt}(F)}(Xt))return _t;if(1===Xt.requestStatus)return ee=function an(F,U){return $t.apply(this,arguments)}(F,U),_t;{if(!navigator.onLine)throw le.create("app-offline");const kn=function Ie(F){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:U})}(_t);return ee=function Nn(F,U){return Ln.apply(this,arguments)}(F,kn),kn}});return ee?yield ee:De.authToken}),hi.apply(this,arguments)}function $t(){return($t=(0,z.Z)(function*(F,U){let ee=yield yn(F.appConfig);for(;1===ee.authToken.requestStatus;)yield pt(100),ee=yield yn(F.appConfig);const De=ee.authToken;return 0===De.requestStatus?jn(F,U):De})).apply(this,arguments)}function yn(F){return Pr(F,U=>{if(!Rn(U))throw le.create("not-registered");return function We(F){return 1===F.requestStatus&&F.requestTime+fe<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Ln(){return Ln=(0,z.Z)(function*(F,U){try{const ee=yield function Cr(F,U){return _r.apply(this,arguments)}(F,U),De=Object.assign(Object.assign({},U),{authToken:ee});return yield Cn(F.appConfig,De),ee}catch(ee){if(!at(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const De=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Cn(F.appConfig,De)}else yield Yt(F.appConfig);throw ee}}),Ln.apply(this,arguments)}function Rn(F){return void 0!==F&&2===F.registrationStatus}function yt(){return(yt=(0,z.Z)(function*(F){const U=F,{installationEntry:ee,registrationPromise:De}=yield Yr(U);return De?De.catch(console.error):jn(U).catch(console.error),ee.fid})).apply(this,arguments)}function Le(){return Le=(0,z.Z)(function*(F,U=!1){const ee=F;return yield function Be(F){return me.apply(this,arguments)}(ee),(yield jn(ee,U)).token}),Le.apply(this,arguments)}function me(){return(me=(0,z.Z)(function*(F){const{registrationPromise:U}=yield Yr(F);U&&(yield U)})).apply(this,arguments)}function Ki(F){return le.create("missing-app-config-values",{valueName:F})}const fi="installations",xr=F=>{const U=F.getProvider("app").getImmediate(),ee=function ki(F){if(!F||!F.options)throw Ki("App Configuration");if(!F.name)throw Ki("App Name");const U=["projectId","apiKey","appId"];for(const ee of U)if(!F.options[ee])throw Ki(ee);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(U);return{app:U,appConfig:ee,heartbeatServiceProvider:(0,Se._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},is=F=>{const U=F.getProvider("app").getImmediate(),ee=(0,Se._getProvider)(U,fi).getImmediate();return{getId:()=>function Mt(F){return yt.apply(this,arguments)}(ee),getToken:ht=>function hn(F){return Le.apply(this,arguments)}(ee,ht)}};(function Yi(){(0,Se._registerComponent)(new Te.wA(fi,xr,"PUBLIC")),(0,Se._registerComponent)(new Te.wA("installations-internal",is,"PRIVATE"))})(),(0,Se.registerVersion)(Ve,ge),(0,Se.registerVersion)(Ve,ge,"esm2017");const Zn="@firebase/remote-config",Mr=new Me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dn{constructor(U,ee,De,ht){this.client=U,this.storage=ee,this.storageCache=De,this.logger=ht}isCachedDataFresh(U,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-ee,ht=De<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${ht}.`),ht}fetch(U){var ee=this;return(0,z.Z)(function*(){const[De,ht]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(ht&&ee.isCachedDataFresh(U.cacheMaxAgeMillis,De))return ht;U.eTag=ht&&ht.eTag;const _t=yield ee.client.fetch(U),Xt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_t.status&&Xt.push(ee.storage.setLastSuccessfulFetchResponse(_t)),yield Promise.all(Xt),_t})()}}function Bn(F=navigator){return F.languages&&F.languages[0]||F.language}class Kn{constructor(U,ee,De,ht,_t,Xt){this.firebaseInstallations=U,this.sdkVersion=ee,this.namespace=De,this.projectId=ht,this.apiKey=_t,this.appId=Xt}fetch(U){var ee=this;return(0,z.Z)(function*(){const[De,ht]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},An={sdk_version:ee.sdkVersion,app_instance_id:De,app_instance_id_token:ht,app_id:ee.appId,language_code:Bn()},er={method:"POST",headers:kn,body:JSON.stringify(An)},ei=fetch(Xt,er),rr=new Promise((vs,Fo)=>{U.signal.addEventListener(()=>{const al=new Error("The operation was aborted.");al.name="AbortError",Fo(al)})});let mo;try{yield Promise.race([ei,rr]),mo=yield ei}catch(vs){let Fo="fetch-client-network";throw"AbortError"===(null==vs?void 0:vs.name)&&(Fo="fetch-timeout"),Mr.create(Fo,{originalErrorMessage:null==vs?void 0:vs.message})}let Ys=mo.status;const Cl=mo.headers.get("ETag")||void 0;let jr,ni;if(200===mo.status){let vs;try{vs=yield mo.json()}catch(Fo){throw Mr.create("fetch-client-parse",{originalErrorMessage:null==Fo?void 0:Fo.message})}jr=vs.entries,ni=vs.state}if("INSTANCE_STATE_UNSPECIFIED"===ni?Ys=500:"NO_CHANGE"===ni?Ys=304:("NO_TEMPLATE"===ni||"EMPTY_CONFIG"===ni)&&(jr={}),304!==Ys&&200!==Ys)throw Mr.create("fetch-status",{httpStatus:Ys});return{status:Ys,eTag:Cl,config:jr}})()}}class qe{constructor(U,ee){this.client=U,this.storage=ee}fetch(U){var ee=this;return(0,z.Z)(function*(){const De=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(U,De)})()}attemptFetch(U,{throttleEndTimeMillis:ee,backoffCount:De}){var ht=this;return(0,z.Z)(function*(){yield function yi(F,U){return new Promise((ee,De)=>{const ht=Math.max(U-Date.now(),0),_t=setTimeout(ee,ht);F.addEventListener(()=>{clearTimeout(_t),De(Mr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,ee);try{const _t=yield ht.client.fetch(U);return yield ht.storage.deleteThrottleMetadata(),_t}catch(_t){if(!function rt(F){if(!(F instanceof Me.ZR&&F.customData))return!1;const U=Number(F.customData.httpStatus);return 429===U||500===U||503===U||504===U}(_t))throw _t;const Xt={throttleEndTimeMillis:Date.now()+(0,Me.$s)(De),backoffCount:De+1};return yield ht.storage.setThrottleMetadata(Xt),ht.attemptFetch(U,Xt)}})()}}class rn{constructor(U,ee,De,ht,_t){this.app=U,this._client=ee,this._storageCache=De,this._storage=ht,this._logger=_t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function En(F,U){const ee=F.target.error||void 0;return Mr.create(U,{originalErrorMessage:ee&&(null==ee?void 0:ee.message)})}const sr="app_namespace_store";class ts{constructor(U,ee,De,ht=function ls(){return new Promise((F,U)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=De=>{U(En(De,"storage-open"))},ee.onsuccess=De=>{F(De.target.result)},ee.onupgradeneeded=De=>{0===De.oldVersion&&De.target.result.createObjectStore(sr,{keyPath:"compositeKey"})}}catch(ee){U(Mr.create("storage-open",{originalErrorMessage:null==ee?void 0:ee.message}))}})}()){this.appId=U,this.appName=ee,this.namespace=De,this.openDbPromise=ht}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var ee=this;return(0,z.Z)(function*(){const De=yield ee.openDbPromise;return new Promise((ht,_t)=>{const kn=De.transaction([sr],"readonly").objectStore(sr),An=ee.createCompositeKey(U);try{const er=kn.get(An);er.onerror=ei=>{_t(En(ei,"storage-get"))},er.onsuccess=ei=>{const rr=ei.target.result;ht(rr?rr.value:void 0)}}catch(er){_t(Mr.create("storage-get",{originalErrorMessage:null==er?void 0:er.message}))}})})()}set(U,ee){var De=this;return(0,z.Z)(function*(){const ht=yield De.openDbPromise;return new Promise((_t,Xt)=>{const An=ht.transaction([sr],"readwrite").objectStore(sr),er=De.createCompositeKey(U);try{const ei=An.put({compositeKey:er,value:ee});ei.onerror=rr=>{Xt(En(rr,"storage-set"))},ei.onsuccess=()=>{_t()}}catch(ei){Xt(Mr.create("storage-set",{originalErrorMessage:null==ei?void 0:ei.message}))}})})()}delete(U){var ee=this;return(0,z.Z)(function*(){const De=yield ee.openDbPromise;return new Promise((ht,_t)=>{const kn=De.transaction([sr],"readwrite").objectStore(sr),An=ee.createCompositeKey(U);try{const er=kn.delete(An);er.onerror=ei=>{_t(En(ei,"storage-delete"))},er.onsuccess=()=>{ht()}}catch(er){_t(Mr.create("storage-delete",{originalErrorMessage:null==er?void 0:er.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Mi{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,z.Z)(function*(){const ee=U.storage.getLastFetchStatus(),De=U.storage.getLastSuccessfulFetchTimestampMillis(),ht=U.storage.getActiveConfig(),_t=yield ee;_t&&(U.lastFetchStatus=_t);const Xt=yield De;Xt&&(U.lastSuccessfulFetchTimestampMillis=Xt);const kn=yield ht;kn&&(U.activeConfig=kn)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Qs(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,z.Z)(function*(){if(!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch(F){return!1}})).apply(this,arguments)}!function ji(){(0,Se._registerComponent)(new Te.wA("remote-config",function F(U,{instanceIdentifier:ee}){const De=U.getProvider("app").getImmediate(),ht=U.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,Me.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:_t,apiKey:Xt,appId:kn}=De.options;if(!_t)throw Mr.create("registration-project-id");if(!Xt)throw Mr.create("registration-api-key");if(!kn)throw Mr.create("registration-app-id");const An=new ts(kn,De.name,ee=ee||"firebase"),er=new Mi(An),ei=new de.Yd(Zn);ei.logLevel=de.in.ERROR;const rr=new Kn(ht,Se.SDK_VERSION,ee,_t,Xt,kn),mo=new qe(rr,An),Ys=new Dn(mo,An,er,ei),Cl=new rn(De,Ys,er,An,ei);return function he(F){const U=(0,Me.m9)(F);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(Cl),Cl},"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(Zn,"0.4.4"),(0,Se.registerVersion)(Zn,"0.4.4","esm2017")}();const Fr="/firebase-messaging-sw.js",or="/firebase-cloud-messaging-push-scope",bi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",br="https://fcmregistrations.googleapis.com/v1",Xs="google.c.a.c_id",Go="google.c.a.c_l",ps="google.c.a.ts",gs="google.c.a.e";var hr=(()=>{return(F=hr||(hr={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",hr;var F})();function oi(F){const U=new Uint8Array(F);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ga(F){const ee=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(ee),ht=new Uint8Array(De.length);for(let _t=0;_t<De.length;++_t)ht[_t]=De.charCodeAt(_t);return ht}const js="fcm_token_details_db",Hi=5,Ri="fcm_token_object_Store";function bo(){return bo=(0,z.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_t=>_t.name).includes(js))return null;let U=null;return(yield(0,Ae.X3)(js,Hi,{upgrade:(De=(0,z.Z)(function*(ht,_t,Xt,kn){var An;if(_t<2||!ht.objectStoreNames.contains(Ri))return;const er=kn.objectStore(Ri),ei=yield er.index("fcmSenderId").get(F);if(yield er.clear(),ei)if(2===_t){const rr=ei;if(!rr.auth||!rr.p256dh||!rr.endpoint)return;U={token:rr.fcmToken,createTime:null!==(An=rr.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:rr.auth,p256dh:rr.p256dh,endpoint:rr.endpoint,swScope:rr.swScope,vapidKey:"string"==typeof rr.vapidKey?rr.vapidKey:oi(rr.vapidKey)}}}else if(3===_t){const rr=ei;U={token:rr.fcmToken,createTime:rr.createTime,subscriptionOptions:{auth:oi(rr.auth),p256dh:oi(rr.p256dh),endpoint:rr.endpoint,swScope:rr.swScope,vapidKey:oi(rr.vapidKey)}}}else if(4===_t){const rr=ei;U={token:rr.fcmToken,createTime:rr.createTime,subscriptionOptions:{auth:oi(rr.auth),p256dh:oi(rr.p256dh),endpoint:rr.endpoint,swScope:rr.swScope,vapidKey:oi(rr.vapidKey)}}}}),function(_t,Xt,kn,An){return De.apply(this,arguments)})})).close(),yield(0,Ae.Lj)(js),yield(0,Ae.Lj)("fcm_vapid_details_db"),yield(0,Ae.Lj)("undefined"),function ns(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:U}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}(U)?U:null;var De}),bo.apply(this,arguments)}const Cs="firebase-messaging-database",Wr=1,Fi="firebase-messaging-store";let Js=null;function bs(){return Js||(Js=(0,Ae.X3)(Cs,Wr,{upgrade:(F,U)=>{0===U&&F.createObjectStore(Fi)}})),Js}function so(F){return cs.apply(this,arguments)}function cs(){return cs=(0,z.Z)(function*(F){const U=ss(F),De=yield(yield bs()).transaction(Fi).objectStore(Fi).get(U);if(De)return De;{const ht=yield function us(F){return bo.apply(this,arguments)}(F.appConfig.senderId);if(ht)return yield Ds(F,ht),ht}}),cs.apply(this,arguments)}function Ds(F,U){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,z.Z)(function*(F,U){const ee=ss(F),ht=(yield bs()).transaction(Fi,"readwrite");return yield ht.objectStore(Fi).put(U,ee),yield ht.done,U})).apply(this,arguments)}function Xn(){return(Xn=(0,z.Z)(function*(F){const U=ss(F),De=(yield bs()).transaction(Fi,"readwrite");yield De.objectStore(Fi).delete(U),yield De.done})).apply(this,arguments)}function ss({appConfig:F}){return F.appId}const Dr=new Me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qi(F,U){return As.apply(this,arguments)}function As(){return(As=(0,z.Z)(function*(F,U){const ee=yield Ro(F),De=Hs(U),ht={method:"POST",headers:ee,body:JSON.stringify(De)};let _t;try{_t=yield(yield fetch(Oi(F.appConfig),ht)).json()}catch(Xt){throw Dr.create("token-subscribe-failed",{errorInfo:null==Xt?void 0:Xt.toString()})}if(_t.error)throw Dr.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw Dr.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Jo(){return(Jo=(0,z.Z)(function*(F,U){const ee=yield Ro(F),De=Hs(U.subscriptionOptions),ht={method:"PATCH",headers:ee,body:JSON.stringify(De)};let _t;try{_t=yield(yield fetch(`${Oi(F.appConfig)}/${U.token}`,ht)).json()}catch(Xt){throw Dr.create("token-update-failed",{errorInfo:null==Xt?void 0:Xt.toString()})}if(_t.error)throw Dr.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw Dr.create("token-update-no-token");return _t.token})).apply(this,arguments)}function Li(F,U){return xs.apply(this,arguments)}function xs(){return(xs=(0,z.Z)(function*(F,U){const De={method:"DELETE",headers:yield Ro(F)};try{const _t=yield(yield fetch(`${Oi(F.appConfig)}/${U}`,De)).json();if(_t.error)throw Dr.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(ht){throw Dr.create("token-unsubscribe-failed",{errorInfo:null==ht?void 0:ht.toString()})}})).apply(this,arguments)}function Oi({projectId:F}){return`${br}/projects/${F}/registrations`}function Ro(F){return oo.apply(this,arguments)}function oo(){return(oo=(0,z.Z)(function*({appConfig:F,installations:U}){const ee=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Hs({p256dh:F,auth:U,endpoint:ee,vapidKey:De}){const ht={web:{endpoint:ee,auth:U,p256dh:F}};return De!==bi&&(ht.web.applicationPubKey=De),ht}const Di=6048e5;function ds(){return ds=(0,z.Z)(function*(F){const U=yield function Gs(F,U){return ao.apply(this,arguments)}(F.swRegistration,F.vapidKey),ee={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:U.endpoint,auth:oi(U.getKey("auth")),p256dh:oi(U.getKey("p256dh"))},De=yield so(F.firebaseDependencies);if(De){if(function Po(F,U){return U.vapidKey===F.vapidKey&&U.endpoint===F.endpoint&&U.auth===F.auth&&U.p256dh===F.p256dh}(De.subscriptionOptions,ee))return Date.now()>=De.createTime+Di?function $a(F,U){return ea.apply(this,arguments)}(F,{token:De.token,createTime:Date.now(),subscriptionOptions:ee}):De.token;try{yield Li(F.firebaseDependencies,De.token)}catch(ht){console.warn(ht)}return ta(F.firebaseDependencies,ee)}return ta(F.firebaseDependencies,ee)}),ds.apply(this,arguments)}function zo(){return zo=(0,z.Z)(function*(F){const U=yield so(F.firebaseDependencies);U&&(yield Li(F.firebaseDependencies,U.token),yield function Ss(F){return Xn.apply(this,arguments)}(F.firebaseDependencies));const ee=yield F.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),zo.apply(this,arguments)}function ea(){return ea=(0,z.Z)(function*(F,U){try{const ee=yield function qr(F,U){return Jo.apply(this,arguments)}(F.firebaseDependencies,U),De=Object.assign(Object.assign({},U),{token:ee,createTime:Date.now()});return yield Ds(F.firebaseDependencies,De),ee}catch(ee){throw yield function nr(F){return zo.apply(this,arguments)}(F),ee}}),ea.apply(this,arguments)}function ta(F,U){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,z.Z)(function*(F,U){const De={token:yield qi(F,U),createTime:Date.now(),subscriptionOptions:U};return yield Ds(F,De),De.token})).apply(this,arguments)}function ao(){return(ao=(0,z.Z)(function*(F,U){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ga(U)})})).apply(this,arguments)}function Wt(F){const U={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function fr(F,U){if(!U.notification)return;F.notification={};const ee=U.notification.title;ee&&(F.notification.title=ee);const De=U.notification.body;De&&(F.notification.body=De);const ht=U.notification.image;ht&&(F.notification.image=ht);const _t=U.notification.icon;_t&&(F.notification.icon=_t)}(U,F),function j(F,U){U.data&&(F.data=U.data)}(U,F),function f(F,U){var ee,De,ht,_t,Xt;if(!(U.fcmOptions||null!==(ee=U.notification)&&void 0!==ee&&ee.click_action))return;F.fcmOptions={};const kn=null!==(ht=null===(De=U.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==ht?ht:null===(_t=U.notification)||void 0===_t?void 0:_t.click_action;kn&&(F.fcmOptions.link=kn);const An=null===(Xt=U.fcmOptions)||void 0===Xt?void 0:Xt.analytics_label;An&&(F.fcmOptions.analyticsLabel=An)}(U,F),U}function y(F,U){const ee=[];for(let De=0;De<F.length;De++)ee.push(F.charAt(De)),De<U.length&&ee.push(U.charAt(De));return ee.join("")}function Q(F){return Dr.create("missing-app-config-values",{valueName:F})}y("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),y("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class st{constructor(U,ee,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ht=function P(F){if(!F||!F.options)throw Q("App Configuration Object");if(!F.name)throw Q("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=F;for(const De of U)if(!ee[De])throw Q(De);return{appName:F.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:ht,installations:ee,analyticsProvider:De}}_delete(){return Promise.resolve()}}function en(F){return _n.apply(this,arguments)}function _n(){return(_n=(0,z.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(Fr,{scope:or}),F.swRegistration.update().catch(()=>{})}catch(U){throw Dr.create("failed-service-worker-registration",{browserErrorMessage:null==U?void 0:U.message})}})).apply(this,arguments)}function Rr(){return(Rr=(0,z.Z)(function*(F,U){if(!U&&!F.swRegistration&&(yield en(F)),U||!F.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw Dr.create("invalid-sw-registration");F.swRegistration=U}})).apply(this,arguments)}function Or(){return(Or=(0,z.Z)(function*(F,U){U?F.vapidKey=U:F.vapidKey||(F.vapidKey=bi)})).apply(this,arguments)}function Gi(){return Gi=(0,z.Z)(function*(F,U){if(!navigator)throw Dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dr.create("permission-blocked");return yield function Wn(F,U){return Or.apply(this,arguments)}(F,null==U?void 0:U.vapidKey),yield function Gn(F,U){return Rr.apply(this,arguments)}(F,null==U?void 0:U.serviceWorkerRegistration),function Oo(F){return ds.apply(this,arguments)}(F)}),Gi.apply(this,arguments)}function lo(){return(lo=(0,z.Z)(function*(F,U,ee){const De=function uo(F){switch(F){case hr.NOTIFICATION_CLICKED:return"notification_open";case hr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(U);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:ee[Xs],message_name:ee[Go],message_time:ee[ps],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Va(){return Va=(0,z.Z)(function*(F,U){const ee=U.data;if(!ee.isFirebaseMessaging)return;F.onMessageHandler&&ee.messageType===hr.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(Wt(ee)):F.onMessageHandler.next(Wt(ee)));const De=ee.data;(function I(F){return"object"==typeof F&&!!F&&Xs in F})(De)&&"1"===De[gs]&&(yield function ai(F,U,ee){return lo.apply(this,arguments)}(F,ee.messageType,De))}),Va.apply(this,arguments)}const ma="@firebase/messaging",Ua=F=>{const U=new st(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function na(F,U){return Va.apply(this,arguments)}(U,ee)),U},Fs=F=>{const U=F.getProvider("messaging").getImmediate();return{getToken:De=>function Bi(F,U){return Gi.apply(this,arguments)}(U,De)}};function Ha(){return co.apply(this,arguments)}function co(){return(co=(0,z.Z)(function*(){try{yield(0,Me.eu)()}catch(F){return!1}return typeof window<"u"&&(0,Me.hl)()&&(0,Me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ja(){(0,Se._registerComponent)(new Te.wA("messaging",Ua,"PUBLIC")),(0,Se._registerComponent)(new Te.wA("messaging-internal",Fs,"PRIVATE")),(0,Se.registerVersion)(ma,"0.12.4"),(0,Se.registerVersion)(ma,"0.12.4","esm2017")}();const ho="analytics",$i="firebase_id",ia="origin",Ls=6e4,va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nl="https://www.googletagmanager.com/gtag/js",li=new de.Yd("@firebase/analytics");function yl(F){return Promise.all(F.map(U=>U.catch(ee=>ee)))}function No(){return(No=(0,z.Z)(function*(F,U,ee,De,ht,_t){const Xt=De[ht];try{if(Xt)yield U[Xt];else{const An=(yield yl(ee)).find(er=>er.measurementId===ht);An&&(yield U[An.appId])}}catch(kn){li.error(kn)}F("config",ht,_t)})).apply(this,arguments)}function N(){return(N=(0,z.Z)(function*(F,U,ee,De,ht){try{let _t=[];if(ht&&ht.send_to){let Xt=ht.send_to;Array.isArray(Xt)||(Xt=[Xt]);const kn=yield yl(ee);for(const An of Xt){const er=kn.find(rr=>rr.measurementId===An),ei=er&&U[er.appId];if(!ei){_t=[];break}_t.push(ei)}}0===_t.length&&(_t=Object.values(U)),yield Promise.all(_t),F("event",De,ht||{})}catch(_t){li.error(_t)}})).apply(this,arguments)}const Et=new Me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vt=30,Bt=new class Tr{constructor(U={},ee=1e3){this.throttleMetadata=U,this.intervalMillis=ee}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,ee){this.throttleMetadata[U]=ee}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function tr(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function vi(){return(vi=(0,z.Z)(function*(F){var U;const{appId:ee,apiKey:De}=F,ht={method:"GET",headers:tr(De)},_t=va.replace("{app-id}",ee),Xt=yield fetch(_t,ht);if(200!==Xt.status&&304!==Xt.status){let kn="";try{const An=yield Xt.json();null!==(U=An.error)&&void 0!==U&&U.message&&(kn=An.error.message)}catch(An){}throw Et.create("config-fetch-failed",{httpStatus:Xt.status,responseMessage:kn})}return Xt.json()})).apply(this,arguments)}function Jt(){return(Jt=(0,z.Z)(function*(F,U=Bt,ee){const{appId:De,apiKey:ht,measurementId:_t}=F.options;if(!De)throw Et.create("no-app-id");if(!ht){if(_t)return{measurementId:_t,appId:De};throw Et.create("no-api-key")}const Xt=U.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kn=new Ii;return setTimeout((0,z.Z)(function*(){kn.abort()}),void 0!==ee?ee:Ls),Zi({appId:De,apiKey:ht,measurementId:_t},Xt,kn,U)})).apply(this,arguments)}function Zi(F,U,ee){return un.apply(this,arguments)}function un(){return un=(0,z.Z)(function*(F,{throttleEndTimeMillis:U,backoffCount:ee},De,ht=Bt){var _t;const{appId:Xt,measurementId:kn}=F;try{yield function Ct(F,U){return new Promise((ee,De)=>{const ht=Math.max(U-Date.now(),0),_t=setTimeout(ee,ht);F.addEventListener(()=>{clearTimeout(_t),De(Et.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(De,U)}catch(An){if(kn)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kn} provided in the "measurementId" field in the local Firebase config. [${null==An?void 0:An.message}]`),{appId:Xt,measurementId:kn};throw An}try{const An=yield function Jn(F){return vi.apply(this,arguments)}(F);return ht.deleteThrottleMetadata(Xt),An}catch(An){const er=An;if(!function zt(F){if(!(F instanceof Me.ZR&&F.customData))return!1;const U=Number(F.customData.httpStatus);return 429===U||500===U||503===U||504===U}(er)){if(ht.deleteThrottleMetadata(Xt),kn)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kn} provided in the "measurementId" field in the local Firebase config. [${null==er?void 0:er.message}]`),{appId:Xt,measurementId:kn};throw An}const ei=503===Number(null===(_t=null==er?void 0:er.customData)||void 0===_t?void 0:_t.httpStatus)?(0,Me.$s)(ee,ht.intervalMillis,Vt):(0,Me.$s)(ee,ht.intervalMillis),rr={throttleEndTimeMillis:Date.now()+ei,backoffCount:ee+1};return ht.setThrottleMetadata(Xt,rr),li.debug(`Calling attemptFetch again in ${ei} millis`),Zi(F,rr,De,ht)}}),un.apply(this,arguments)}class Ii{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let Ms,gr;function fo(){return(fo=(0,z.Z)(function*(F,U,ee,De,ht){if(ht&&ht.global)F("event",ee,De);else{const _t=yield U;F("event",ee,Object.assign(Object.assign({},De),{send_to:_t}))}})).apply(this,arguments)}function Yn(){return(Yn=(0,z.Z)(function*(){if(!(0,Me.hl)())return li.warn(Et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Me.eu)()}catch(F){return li.warn(Et.create("indexeddb-unavailable",{errorInfo:null==F?void 0:F.toString()}).message),!1}return!0})).apply(this,arguments)}function Kr(){return Kr=(0,z.Z)(function*(F,U,ee,De,ht,_t,Xt){var kn;const An=function qt(F){return Jt.apply(this,arguments)}(F);An.then(Ys=>{ee[Ys.measurementId]=Ys.appId,F.options.measurementId&&Ys.measurementId!==F.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${Ys.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ys=>li.error(Ys)),U.push(An);const er=function wi(){return Yn.apply(this,arguments)}().then(Ys=>{if(Ys)return De.getId()}),[ei,rr]=yield Promise.all([An,er]);(function re(F){const U=window.document.getElementsByTagName("script");for(const ee of Object.values(U))if(ee.src&&ee.src.includes(nl)&&ee.src.includes(F))return ee;return null})(_t)||function za(F,U){const ee=document.createElement("script");ee.src=`${nl}?l=${F}&id=${U}`,ee.async=!0,document.head.appendChild(ee)}(_t,ei.measurementId),gr&&(ht("consent","default",gr),function la(F){gr=F}(void 0)),ht("js",new Date);const mo=null!==(kn=null==Xt?void 0:Xt.config)&&void 0!==kn?kn:{};return mo[ia]="firebase",mo.update=!0,null!=rr&&(mo[$i]=rr),ht("config",ei.measurementId,mo),Ms&&(ht("set",Ms),function ql(F){Ms=F}(void 0)),ei.measurementId}),Kr.apply(this,arguments)}class qu{constructor(U){this.app=U}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},gn=[];const El={};let Ko,eo,Wi="dataLayer",ko="gtag",Ka=!1;function Ql(F,U,ee){!function Zl(){const F=[];if((0,Me.ru)()&&F.push("This is a browser extension environment."),(0,Me.zI)()||F.push("Cookies are not available."),F.length>0){const U=F.map((De,ht)=>`(${ht+1}) ${De}`).join(" "),ee=Et.create("invalid-analytics-context",{errorInfo:U});li.warn(ee.message)}}();const De=F.options.appId;if(!De)throw Et.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Et.create("no-api-key");li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[De])throw Et.create("already-exists",{id:De});if(!Ka){!function sa(F){let U=[];Array.isArray(window[F])?U=window[F]:window[F]=U}(Wi);const{wrappedGtag:_t,gtagCore:Xt}=function B(F,U,ee,De,ht){let _t=function(...Xt){window[De].push(arguments)};return window[ht]&&"function"==typeof window[ht]&&(_t=window[ht]),window[ht]=function K(F,U,ee,De){function _t(){return _t=(0,z.Z)(function*(Xt,kn,An){try{"event"===Xt?yield function aa(F,U,ee,De,ht){return N.apply(this,arguments)}(F,U,ee,kn,An):"config"===Xt?yield function oa(F,U,ee,De,ht,_t){return No.apply(this,arguments)}(F,U,ee,De,kn,An):"consent"===Xt?F("consent","update",An):F("set",kn)}catch(er){li.error(er)}}),_t.apply(this,arguments)}return function ht(Xt,kn,An){return _t.apply(this,arguments)}}(_t,F,U,ee),{gtagCore:_t,wrappedGtag:window[ht]}}(ci,gn,El,Wi,ko);eo=_t,Ko=Xt,Ka=!0}return ci[De]=function Wo(F,U,ee,De,ht,_t,Xt){return Kr.apply(this,arguments)}(F,gn,El,U,Ko,Wi,ee),new qu(F)}function Ea(){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,z.Z)(function*(){if((0,Me.ru)()||!(0,Me.zI)()||!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch(F){return!1}})).apply(this,arguments)}const Oa="@firebase/analytics";!function Pa(){(0,Se._registerComponent)(new Te.wA(ho,(U,{options:ee})=>Ql(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,Se._registerComponent)(new Te.wA("analytics-internal",function F(U){try{const ee=U.getProvider(ho).getImmediate();return{logEvent:(De,ht,_t)=>function pi(F,U,ee,De){F=(0,Me.m9)(F),function Do(F,U,ee,De,ht){return fo.apply(this,arguments)}(eo,ci[F.app.options.appId],U,ee,De).catch(ht=>li.error(ht))}(ee,De,ht,_t)}}catch(ee){throw Et.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,Se.registerVersion)(Oa,"0.9.4"),(0,Se.registerVersion)(Oa,"0.9.4","esm2017")}();var il=$(4408),Cu=$(7565);const go=new class Na extends Cu.v{}(class kl extends il.o{constructor(U,ee){super(U,ee),this.scheduler=U,this.work=ee}schedule(U,ee=0){return ee>0?super.schedule(U,ee):(this.delay=ee,this.state=U,this.scheduler.flush(this),this)}execute(U,ee){return ee>0||this.closed?super.execute(U,ee):this._execute(U,ee)}requestAsyncId(U,ee,De=0){return null!=De&&De>0||null==De&&this.delay>0?super.requestAsyncId(U,ee,De):(U.flush(this),0)}});var Xi=$(4986),sl=$(8505),Yo=$(9468),wa=$(5363);const Os=new a.GfV("7.5.0"),to="__angularfire_symbol__analyticsIsSupportedValue",ol="__angularfire_symbol__analyticsIsSupported",To="__angularfire_symbol__remoteConfigIsSupportedValue",no="__angularfire_symbol__remoteConfigIsSupported",Il="__angularfire_symbol__messagingIsSupportedValue",bu="__angularfire_symbol__messagingIsSupported";function _i(F,U,ee){if(U){if(1===U.length)return U[0];const _t=U.filter(Xt=>Xt.app===ee);if(1===_t.length)return _t[0]}return ee.container.getProvider(F).getImmediate({optional:!0})}globalThis[ol]||(globalThis[ol]=Ea().then(F=>globalThis[to]=F).catch(()=>globalThis[to]=!1)),globalThis[bu]||(globalThis[bu]=Ha().then(F=>globalThis[Il]=F).catch(()=>globalThis[Il]=!1)),globalThis[no]||(globalThis[no]=Qs().then(F=>globalThis[To]=F).catch(()=>globalThis[To]=!1));const ka=(F,U)=>{const ee=U?[U]:(0,te.C6)(),De=[];return ee.forEach(ht=>{ht.container.getProvider(F).instances.forEach(Xt=>{De.includes(Xt)||De.push(Xt)})}),De};function Ca(){}class T{constructor(U,ee=go){this.zone=U,this.delegate=ee}now(){return this.delegate.now()}schedule(U,ee,De){const ht=this.zone;return this.delegate.schedule(function(Xt){ht.runGuarded(()=>{U.apply(this,[Xt])})},ee,De)}}class x{constructor(U){this.zone=U,this.task=null}call(U,ee){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),ee.pipe((0,sl.b)({next:De,complete:De,error:De})).subscribe(U).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let w=(()=>{class F{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new T(Zone.current)),this.insideAngular=ee.run(()=>new T(Zone.current,Xi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(ee){return new(ee||F)(a.LFG(a.R0b))},F.\u0275prov=a.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function M(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function At(F){return M(),function sn(F){return function(ee){return(ee=ee.lift(new x(F.ngZone))).pipe((0,Yo.R)(F.outsideAngular),(0,wa.Q)(F.insideAngular))}}(M())(F)}},2090:(cn,gt,$)=>{"use strict";$.d(gt,{$s:()=>Nn,BH:()=>Qe,DV:()=>wr,Dv:()=>Ar,G6:()=>we,GJ:()=>on,L:()=>Ve,LL:()=>ze,Pz:()=>et,Sg:()=>Pe,UG:()=>Xe,UI:()=>Cn,US:()=>Te,Wj:()=>Ni,Wl:()=>dn,Yr:()=>tt,ZB:()=>pe,ZR:()=>nt,aH:()=>ot,b$:()=>Ke,cI:()=>Pt,dS:()=>_r,eu:()=>be,g5:()=>z,gK:()=>Gt,gQ:()=>qn,h$:()=>Ae,hl:()=>Ee,hu:()=>te,jU:()=>Fe,lb:()=>Cr,m9:()=>Vr,ne:()=>Pn,p$:()=>fe,pd:()=>Yr,r3:()=>ar,ru:()=>Ge,tV:()=>ge,uI:()=>J,ug:()=>ir,vZ:()=>lr,w1:()=>je,w9:()=>Fn,xO:()=>Pr,xb:()=>Sr,z$:()=>Oe,zI:()=>Je,zd:()=>$r});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},te=function(xe,Ie){if(!xe)throw z(Ie)},z=function(xe){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+xe)},Se=function(xe){const Ie=[];let We=0;for(let Mt=0;Mt<xe.length;Mt++){let yt=xe.charCodeAt(Mt);yt<128?Ie[We++]=yt:yt<2048?(Ie[We++]=yt>>6|192,Ie[We++]=63&yt|128):55296==(64512&yt)&&Mt+1<xe.length&&56320==(64512&xe.charCodeAt(Mt+1))?(yt=65536+((1023&yt)<<10)+(1023&xe.charCodeAt(++Mt)),Ie[We++]=yt>>18|240,Ie[We++]=yt>>12&63|128,Ie[We++]=yt>>6&63|128,Ie[We++]=63&yt|128):(Ie[We++]=yt>>12|224,Ie[We++]=yt>>6&63|128,Ie[We++]=63&yt|128)}return Ie},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,Ie){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const We=Ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Mt=[];for(let yt=0;yt<xe.length;yt+=3){const hn=xe[yt],Le=yt+1<xe.length,Be=Le?xe[yt+1]:0,me=yt+2<xe.length,vt=me?xe[yt+2]:0;let xn=(15&Be)<<2|vt>>6,zn=63&vt;me||(zn=64,Le||(xn=64)),Mt.push(We[hn>>2],We[(3&hn)<<4|Be>>4],We[xn],We[zn])}return Mt.join("")},encodeString(xe,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?btoa(xe):this.encodeByteArray(Se(xe),Ie)},decodeString(xe,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?atob(xe):function(xe){const Ie=[];let We=0,Mt=0;for(;We<xe.length;){const yt=xe[We++];if(yt<128)Ie[Mt++]=String.fromCharCode(yt);else if(yt>191&&yt<224){const hn=xe[We++];Ie[Mt++]=String.fromCharCode((31&yt)<<6|63&hn)}else if(yt>239&&yt<365){const me=((7&yt)<<18|(63&xe[We++])<<12|(63&xe[We++])<<6|63&xe[We++])-65536;Ie[Mt++]=String.fromCharCode(55296+(me>>10)),Ie[Mt++]=String.fromCharCode(56320+(1023&me))}else{const hn=xe[We++],Le=xe[We++];Ie[Mt++]=String.fromCharCode((15&yt)<<12|(63&hn)<<6|63&Le)}}return Ie.join("")}(this.decodeStringToByteArray(xe,Ie))},decodeStringToByteArray(xe,Ie){this.init_();const We=Ie?this.charToByteMapWebSafe_:this.charToByteMap_,Mt=[];for(let yt=0;yt<xe.length;){const hn=We[xe.charAt(yt++)],Be=yt<xe.length?We[xe.charAt(yt)]:0;++yt;const vt=yt<xe.length?We[xe.charAt(yt)]:64;++yt;const Ht=yt<xe.length?We[xe.charAt(yt)]:64;if(++yt,null==hn||null==Be||null==vt||null==Ht)throw new de;Mt.push(hn<<2|Be>>4),64!==vt&&(Mt.push(Be<<4&240|vt>>2),64!==Ht&&Mt.push(vt<<6&192|Ht))}return Mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(xe){const Ie=Se(xe);return Te.encodeByteArray(Ie,!0)},Ve=function(xe){return Ae(xe).replace(/\./g,"")},ge=function(xe){try{return Te.decodeString(xe,!0)}catch(Ie){console.error("base64Decode failed: ",Ie)}return null};function fe(xe){return pe(void 0,xe)}function pe(xe,Ie){if(!(Ie instanceof Object))return Ie;switch(Ie.constructor){case Date:return new Date(Ie.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return Ie}for(const We in Ie)!Ie.hasOwnProperty(We)||!ke(We)||(xe[We]=pe(xe[We],Ie[We]));return xe}function ke(xe){return"__proto__"!==xe}const _e=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(We){return}const Ie=xe&&ge(xe[1]);return Ie&&JSON.parse(Ie)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},ot=()=>{var xe;return null===(xe=_e())||void 0===xe?void 0:xe.config},et=xe=>{var Ie;return null===(Ie=_e())||void 0===Ie?void 0:Ie[`_${xe}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ie,We)=>{this.resolve=Ie,this.reject=We})}wrapCallback(Ie){return(We,Mt)=>{We?this.reject(We):this.resolve(Mt),"function"==typeof Ie&&(this.promise.catch(()=>{}),1===Ie.length?Ie(We):Ie(We,Mt))}}}function Pe(xe,Ie){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Mt=Ie||"demo-project",yt=xe.iat||0,hn=xe.sub||xe.user_id;if(!hn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${Mt}`,aud:Mt,iat:yt,exp:yt+3600,auth_time:yt,sub:hn,user_id:hn,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Le)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function J(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Xe(){var xe;const Ie=null===(xe=_e())||void 0===xe?void 0:xe.forceEnvironment;if("node"===Ie)return!0;if("browser"===Ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(We){return!1}}function Fe(){return"object"==typeof self&&self.self===self}function Ge(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){const xe=Oe();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function tt(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function we(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch(xe){return!1}}function be(){return new Promise((xe,Ie)=>{try{let We=!0;const Mt="validate-browser-context-for-indexeddb-analytics-module",yt=self.indexedDB.open(Mt);yt.onsuccess=()=>{yt.result.close(),We||self.indexedDB.deleteDatabase(Mt),xe(!0)},yt.onupgradeneeded=()=>{We=!1},yt.onerror=()=>{var hn;Ie((null===(hn=yt.error)||void 0===hn?void 0:hn.message)||"")}}catch(We){Ie(We)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(Ie,We,Mt){super(We),this.code=Ie,this.customData=Mt,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(Ie,We,Mt){this.service=Ie,this.serviceName=We,this.errors=Mt}create(Ie,...We){const Mt=We[0]||{},yt=`${this.service}/${Ie}`,hn=this.errors[Ie],Le=hn?function Nt(xe,Ie){return xe.replace(xt,(We,Mt)=>{const yt=Ie[Mt];return null!=yt?String(yt):`<${Mt}?>`})}(hn,Mt):"Error";return new nt(yt,`${this.serviceName}: ${Le} (${yt}).`,Mt)}}const xt=/\{\$([^}]+)}/g;function Pt(xe){return JSON.parse(xe)}function dn(xe){return JSON.stringify(xe)}const Rt=function(xe){let Ie={},We={},Mt={},yt="";try{const hn=xe.split(".");Ie=Pt(ge(hn[0])||""),We=Pt(ge(hn[1])||""),yt=hn[2],Mt=We.d||{},delete We.d}catch(hn){}return{header:Ie,claims:We,data:Mt,signature:yt}},Fn=function(xe){const We=Rt(xe).claims;return!!We&&"object"==typeof We&&We.hasOwnProperty("iat")},on=function(xe){const Ie=Rt(xe).claims;return"object"==typeof Ie&&!0===Ie.admin};function ar(xe,Ie){return Object.prototype.hasOwnProperty.call(xe,Ie)}function wr(xe,Ie){if(Object.prototype.hasOwnProperty.call(xe,Ie))return xe[Ie]}function Sr(xe){for(const Ie in xe)if(Object.prototype.hasOwnProperty.call(xe,Ie))return!1;return!0}function Cn(xe,Ie,We){const Mt={};for(const yt in xe)Object.prototype.hasOwnProperty.call(xe,yt)&&(Mt[yt]=Ie.call(We,xe[yt],yt,xe));return Mt}function lr(xe,Ie){if(xe===Ie)return!0;const We=Object.keys(xe),Mt=Object.keys(Ie);for(const yt of We){if(!Mt.includes(yt))return!1;const hn=xe[yt],Le=Ie[yt];if(Yt(hn)&&Yt(Le)){if(!lr(hn,Le))return!1}else if(hn!==Le)return!1}for(const yt of Mt)if(!We.includes(yt))return!1;return!0}function Yt(xe){return null!==xe&&"object"==typeof xe}function Pr(xe){const Ie=[];for(const[We,Mt]of Object.entries(xe))Array.isArray(Mt)?Mt.forEach(yt=>{Ie.push(encodeURIComponent(We)+"="+encodeURIComponent(yt))}):Ie.push(encodeURIComponent(We)+"="+encodeURIComponent(Mt));return Ie.length?"&"+Ie.join("&"):""}function $r(xe){const Ie={};return xe.replace(/^\?/,"").split("&").forEach(Mt=>{if(Mt){const[yt,hn]=Mt.split("=");Ie[decodeURIComponent(yt)]=decodeURIComponent(hn)}}),Ie}function Yr(xe){const Ie=xe.indexOf("?");if(!Ie)return"";const We=xe.indexOf("#",Ie);return xe.substring(Ie,We>0?We:void 0)}class qn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ie=1;Ie<this.blockSize;++Ie)this.pad_[Ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ie,We){We||(We=0);const Mt=this.W_;if("string"==typeof Ie)for(let Ht=0;Ht<16;Ht++)Mt[Ht]=Ie.charCodeAt(We)<<24|Ie.charCodeAt(We+1)<<16|Ie.charCodeAt(We+2)<<8|Ie.charCodeAt(We+3),We+=4;else for(let Ht=0;Ht<16;Ht++)Mt[Ht]=Ie[We]<<24|Ie[We+1]<<16|Ie[We+2]<<8|Ie[We+3],We+=4;for(let Ht=16;Ht<80;Ht++){const xn=Mt[Ht-3]^Mt[Ht-8]^Mt[Ht-14]^Mt[Ht-16];Mt[Ht]=4294967295&(xn<<1|xn>>>31)}let vt,Ot,yt=this.chain_[0],hn=this.chain_[1],Le=this.chain_[2],Be=this.chain_[3],me=this.chain_[4];for(let Ht=0;Ht<80;Ht++){Ht<40?Ht<20?(vt=Be^hn&(Le^Be),Ot=1518500249):(vt=hn^Le^Be,Ot=1859775393):Ht<60?(vt=hn&Le|Be&(hn|Le),Ot=2400959708):(vt=hn^Le^Be,Ot=3395469782);const xn=(yt<<5|yt>>>27)+vt+me+Ot+Mt[Ht]&4294967295;me=Be,Be=Le,Le=4294967295&(hn<<30|hn>>>2),hn=yt,yt=xn}this.chain_[0]=this.chain_[0]+yt&4294967295,this.chain_[1]=this.chain_[1]+hn&4294967295,this.chain_[2]=this.chain_[2]+Le&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+me&4294967295}update(Ie,We){if(null==Ie)return;void 0===We&&(We=Ie.length);const Mt=We-this.blockSize;let yt=0;const hn=this.buf_;let Le=this.inbuf_;for(;yt<We;){if(0===Le)for(;yt<=Mt;)this.compress_(Ie,yt),yt+=this.blockSize;if("string"==typeof Ie){for(;yt<We;)if(hn[Le]=Ie.charCodeAt(yt),++Le,++yt,Le===this.blockSize){this.compress_(hn),Le=0;break}}else for(;yt<We;)if(hn[Le]=Ie[yt],++Le,++yt,Le===this.blockSize){this.compress_(hn),Le=0;break}}this.inbuf_=Le,this.total_+=We}digest(){const Ie=[];let We=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let yt=this.blockSize-1;yt>=56;yt--)this.buf_[yt]=255&We,We/=256;this.compress_(this.buf_);let Mt=0;for(let yt=0;yt<5;yt++)for(let hn=24;hn>=0;hn-=8)Ie[Mt]=this.chain_[yt]>>hn&255,++Mt;return Ie}}function Pn(xe,Ie){const We=new vn(xe,Ie);return We.subscribe.bind(We)}class vn{constructor(Ie,We){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=We,this.task.then(()=>{Ie(this)}).catch(Mt=>{this.error(Mt)})}next(Ie){this.forEachObserver(We=>{We.next(Ie)})}error(Ie){this.forEachObserver(We=>{We.error(Ie)}),this.close(Ie)}complete(){this.forEachObserver(Ie=>{Ie.complete()}),this.close()}subscribe(Ie,We,Mt){let yt;if(void 0===Ie&&void 0===We&&void 0===Mt)throw new Error("Missing Observer.");yt=function ri(xe,Ie){if("object"!=typeof xe||null===xe)return!1;for(const We of Ie)if(We in xe&&"function"==typeof xe[We])return!0;return!1}(Ie,["next","error","complete"])?Ie:{next:Ie,error:We,complete:Mt},void 0===yt.next&&(yt.next=pn),void 0===yt.error&&(yt.error=pn),void 0===yt.complete&&(yt.complete=pn);const hn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?yt.error(this.finalError):yt.complete()}catch(Le){}}),this.observers.push(yt),hn}unsubscribeOne(Ie){void 0===this.observers||void 0===this.observers[Ie]||(delete this.observers[Ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ie){if(!this.finalized)for(let We=0;We<this.observers.length;We++)this.sendOne(We,Ie)}sendOne(Ie,We){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ie])try{We(this.observers[Ie])}catch(Mt){typeof console<"u"&&console.error&&console.error(Mt)}})}close(Ie){this.finalized||(this.finalized=!0,void 0!==Ie&&(this.finalError=Ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const Ar=function(xe,Ie,We,Mt){let yt;if(Mt<Ie?yt="at least "+Ie:Mt>We&&(yt=0===We?"none":"no more than "+We),yt)throw new Error(xe+" failed: Was called with "+Mt+(1===Mt?" argument.":" arguments.")+" Expects "+yt+".")};function Gt(xe,Ie){return`${xe} failed: ${Ie} argument `}function Ni(xe,Ie,We,Mt){if((!Mt||We)&&"function"!=typeof We)throw new Error(Gt(xe,Ie)+"must be a valid function.")}function Cr(xe,Ie,We,Mt){if((!Mt||We)&&("object"!=typeof We||null===We))throw new Error(Gt(xe,Ie)+"must be a valid context object.")}const _r=function(xe){const Ie=[];let We=0;for(let Mt=0;Mt<xe.length;Mt++){let yt=xe.charCodeAt(Mt);if(yt>=55296&&yt<=56319){const hn=yt-55296;Mt++,te(Mt<xe.length,"Surrogate pair missing trail surrogate."),yt=65536+(hn<<10)+(xe.charCodeAt(Mt)-56320)}yt<128?Ie[We++]=yt:yt<2048?(Ie[We++]=yt>>6|192,Ie[We++]=63&yt|128):yt<65536?(Ie[We++]=yt>>12|224,Ie[We++]=yt>>6&63|128,Ie[We++]=63&yt|128):(Ie[We++]=yt>>18|240,Ie[We++]=yt>>12&63|128,Ie[We++]=yt>>6&63|128,Ie[We++]=63&yt|128)}return Ie},ir=function(xe){let Ie=0;for(let We=0;We<xe.length;We++){const Mt=xe.charCodeAt(We);Mt<128?Ie++:Mt<2048?Ie+=2:Mt>=55296&&Mt<=56319?(Ie+=4,We++):Ie+=3}return Ie},hi=1e3,an=2,$t=144e5,yn=.5;function Nn(xe,Ie=hi,We=an){const Mt=Ie*Math.pow(We,xe),yt=Math.round(yn*Mt*(Math.random()-.5)*2);return Math.min($t,Mt+yt)}function Vr(xe){return xe&&xe._delegate?xe._delegate:xe}},2078:(cn,gt,$)=>{"use strict";$.d(gt,{BX:()=>Ro,dr:()=>Cr,BJ:()=>_r,YG:()=>yn,PM:()=>Ln,FN:()=>Rn,tO:()=>xe,W2:()=>hn,fr:()=>Ht,Gu:()=>zn,gu:()=>pr,Xz:()=>Ci,pK:()=>fi,Ie:()=>Ei,Q$:()=>Nr,q_:()=>mi,jP:()=>cs,g2:()=>En,wd:()=>kr,sr:()=>ls,Pc:()=>j,r4:()=>ao,IN:()=>nr,X1:()=>ts,j9:()=>vn});var a=$(4650),te=$(433),z=$(655),Se=$(8421),Me=$(9751),Te=$(5577),de=$(1144),Ae=$(576),Ve=$(3268);const ge=["addListener","removeListener"],fe=["addEventListener","removeEventListener"],pe=["on","off"];function ke(f,I,y,P){if((0,Ae.m)(y)&&(P=y,y=void 0),P)return ke(f,I,y).pipe((0,Ve.Z)(P));const[Q,st]=function Re(f){return(0,Ae.m)(f.addEventListener)&&(0,Ae.m)(f.removeEventListener)}(f)?fe.map(en=>_n=>f[en](I,_n,y)):function lt(f){return(0,Ae.m)(f.addListener)&&(0,Ae.m)(f.removeListener)}(f)?ge.map(Ue(f,I)):function St(f){return(0,Ae.m)(f.on)&&(0,Ae.m)(f.off)}(f)?pe.map(Ue(f,I)):[];if(!Q&&(0,de.z)(f))return(0,Te.z)(en=>ke(en,I,y))((0,Se.Xf)(f));if(!Q)throw new TypeError("Invalid event target");return new Me.y(en=>{const _n=(...Gn)=>en.next(1<Gn.length?Gn:Gn[0]);return Q(_n),()=>st(_n)})}function Ue(f,I){return y=>P=>f[y](I,P)}var _e=$(7579),le=$(1135),at=$(2435),Oe=($(181),$(6439),$(7838),$(1898),$(5179)),J=$(5730),Xe=$(1843),Ge=($(6369),$(3539)),je=($(3457),$(4349),$(1308)),Je=$(9300),W=$(3900),nt=$(1884),ze=$(6895);const xt=Oe.i,Rt=["*"],wr=f=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(f):"function"==typeof requestAnimationFrame?requestAnimationFrame(f):setTimeout(f),Sr=f=>!!f.resolveComponentFactory;let Cn=(()=>{class f{constructor(y,P){this.injector=y,this.el=P,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(y){this.el.nativeElement.value=this.lastValue=null==y?"":y,lr(this.el)}handleChangeEvent(y,P){y===this.el.nativeElement&&(P!==this.lastValue&&(this.lastValue=P,this.onChange(P)),lr(this.el))}_handleBlurEvent(y){y===this.el.nativeElement&&(this.onTouched(),lr(this.el))}registerOnChange(y){this.onChange=y}registerOnTouched(y){this.onTouched=y}setDisabledState(y){this.el.nativeElement.disabled=y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let y;try{y=this.injector.get(te.a5)}catch(Q){}if(!y)return;y.statusChanges&&(this.statusChanges=y.statusChanges.subscribe(()=>lr(this.el)));const P=y.control;P&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(st=>{if(typeof P[st]<"u"){const en=P[st].bind(P);P[st]=(..._n)=>{en(..._n),lr(this.el)}}})}}return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.zs3),a.Y36(a.SBq))},f.\u0275dir=a.lG2({type:f,hostBindings:function(y,P){1&y&&a.NdJ("ionBlur",function(st){return P._handleBlurEvent(st.target)})}}),f})();const lr=f=>{wr(()=>{const I=f.nativeElement,y=null!=I.value&&I.value.toString().length>0,P=Yt(I);dr(I,P);const Q=I.closest("ion-item");Q&&dr(Q,y?[...P,"item-has-value"]:P)})},Yt=f=>{const I=f.classList,y=[];for(let P=0;P<I.length;P++){const Q=I.item(P);null!==Q&&Pr(Q,"ng-")&&y.push(`ion-${Q.substring(3)}`)}return y},dr=(f,I)=>{const y=f.classList;y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),y.add(...I)},Pr=(f,I)=>f.substring(0,I.length)===I;let vn=(()=>{class f extends Cn{constructor(y,P){super(y,P)}_handleInputEvent(y){this.handleChangeEvent(y,y.value)}}return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.zs3),a.Y36(a.SBq))},f.\u0275dir=a.lG2({type:f,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(y,P){1&y&&a.NdJ("ionChange",function(st){return P._handleInputEvent(st.target)})},features:[a._Bn([{provide:te.JU,useExisting:f,multi:!0}]),a.qOj]}),f})();const bn=(f,I)=>{const y=f.prototype;I.forEach(P=>{Object.defineProperty(y,P,{get(){return this.el[P]},set(Q){this.z.runOutsideAngular(()=>this.el[P]=Q)}})})},ri=(f,I)=>{const y=f.prototype;I.forEach(P=>{y[P]=function(){const Q=arguments;return this.z.runOutsideAngular(()=>this.el[P].apply(this.el,Q))}})},pn=(f,I,y)=>{y.forEach(P=>f[P]=ke(I,P))};function Gt(f){return function(y){const{defineCustomElementFn:P,inputs:Q,methods:st}=f;return void 0!==P&&P(),Q&&bn(y,Q),st&&ri(y,st),y}}let Cr=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-app"]],ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0})],f),f})(),_r=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-avatar"]],ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0})],f),f})(),yn=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement,pn(this,this.el,["ionFocus","ionBlur"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],f),f})(),Ln=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],f),f})(),Rn=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["mode"]})],f),f})(),xe=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["color","mode"]})],f),f})(),hn=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement,pn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],f),f})(),Ht=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],f),f})(),zn=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],f),f})(),pr=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],f),f})(),Ci=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement,pn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["alt","src"]})],f),f})(),fi=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement,pn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],f),f})(),Ei=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],f),f})(),Nr=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],f),f})(),mi=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],f),f})(),En=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement,pn(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],f),f})(),kr=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["color","size"]})],f),f})(),ls=(()=>{let f=class{constructor(y,P,Q){this.z=Q,y.detach(),this.el=P.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Rt,decls:1,vars:0,template:function(y,P){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,z.gn)([Gt({defineCustomElementFn:void 0,inputs:["color","mode"]})],f),f})();class ts{constructor(I={}){this.data=I}get(I){return this.data[I]}}let Mi=(()=>{class f{constructor(y,P){this.zone=y,this.appRef=P}create(y,P,Q,st){return new ji(y,P,Q,this.appRef,this.zone,st)}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(a.R0b),a.LFG(a.z2F))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();class ji{constructor(I,y,P,Q,st,en){this.resolverOrInjector=I,this.injector=y,this.location=P,this.appRef=Q,this.zone=st,this.elementReferenceKey=en,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(I,y,P,Q){return this.zone.run(()=>new Promise(st=>{const en=Object.assign({},P);void 0!==this.elementReferenceKey&&(en[this.elementReferenceKey]=I),st(Ho(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,I,y,en,Q))}))}removeViewFromDom(I,y){return this.zone.run(()=>new Promise(P=>{const Q=this.elRefMap.get(y);if(Q){Q.destroy(),this.elRefMap.delete(y);const st=this.elEventsMap.get(y);st&&(st(),this.elEventsMap.delete(y))}P()}))}}const Ho=(f,I,y,P,Q,st,en,_n,Gn,Rr,Wn)=>{let Or;const Bi=a.zs3.create({providers:Fr(Rr),parent:y});if(I&&Sr(I)){const uo=I.resolveComponentFactory(Gn);Or=P?P.createComponent(uo,P.length,Bi):uo.create(Bi)}else{if(!P)return null;Or=P.createComponent(Gn,{index:P.indexOf,injector:Bi,environmentInjector:I})}const Gi=Or.instance,ai=Or.location.nativeElement;if(Rr&&Object.assign(Gi,Rr),Wn)for(const uo of Wn)ai.classList.add(uo);const lo=Qs(f,Gi,ai);return _n.appendChild(ai),P||Q.attachView(Or.hostView),Or.changeDetectorRef.reattach(),st.set(ai,Or),en.set(ai,lo),ai},Co=[Xe.L,Xe.a,Xe.b,Xe.c,Xe.d],Qs=(f,I,y)=>f.run(()=>{const P=Co.filter(Q=>"function"==typeof I[Q]).map(Q=>{const st=en=>I[Q](en.detail);return y.addEventListener(Q,st),()=>y.removeEventListener(Q,st)});return()=>P.forEach(Q=>Q())}),Ur=new a.OlP("NavParamsToken"),Fr=f=>[{provide:Ur,useValue:f},{provide:ts,useFactory:or,deps:[Ur]}],or=f=>new ts(f),br=(f,I)=>((f=f.filter(y=>y.stackId!==I.stackId)).push(I),f),ps=(f,I)=>{const y=f.createUrlTree(["."],{relativeTo:I});return f.serializeUrl(y)},Gr=(f,I)=>{if(!f)return;const y=hr(I);for(let P=0;P<y.length;P++){if(P>=f.length)return y[P];if(y[P]!==f[P])return}},hr=f=>f.split("/").map(I=>I.trim()).filter(I=>""!==I),oi=f=>{f&&(f.ref.destroy(),f.unlistenEvents())};class ga{constructor(I,y,P,Q,st,en){this.containerEl=y,this.router=P,this.navCtrl=Q,this.zone=st,this.location=en,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==I?hr(I):void 0}createView(I,y){var P;const Q=ps(this.router,y),st=null===(P=null==I?void 0:I.location)||void 0===P?void 0:P.nativeElement,en=Qs(this.zone,I.instance,st);return{id:this.nextId++,stackId:Gr(this.tabsPrefix,Q),unlistenEvents:en,element:st,ref:I,url:Q}}getExistingView(I){const y=ps(this.router,I),P=this.views.find(Q=>Q.url===y);return P&&P.ref.changeDetectorRef.reattach(),P}setActive(I){var y,P;const Q=this.navCtrl.consumeTransition();let{direction:st,animation:en,animationBuilder:_n}=Q;const Gn=this.activeView,Rr=((f,I)=>!I||f.stackId!==I.stackId)(I,Gn);Rr&&(st="back",en=void 0);const Wn=this.views.slice();let Or;const Bi=this.router;Bi.getCurrentNavigation?Or=Bi.getCurrentNavigation():!(null===(y=Bi.navigations)||void 0===y)&&y.value&&(Or=Bi.navigations.value),null!==(P=null==Or?void 0:Or.extras)&&void 0!==P&&P.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Gi=this.views.includes(I),ai=this.insertView(I,st);Gi||I.ref.changeDetectorRef.detectChanges();const lo=I.animationBuilder;return void 0===_n&&"back"===st&&!Rr&&void 0!==lo&&(_n=lo),Gn&&(Gn.animationBuilder=_n),this.zone.runOutsideAngular(()=>this.wait(()=>(Gn&&Gn.ref.changeDetectorRef.detach(),I.ref.changeDetectorRef.reattach(),this.transition(I,Gn,en,this.canGoBack(1),!1,_n).then(()=>js(I,ai,Wn,this.location,this.zone)).then(()=>({enteringView:I,direction:st,animation:en,tabSwitch:Rr})))))}canGoBack(I,y=this.getActiveStackId()){return this.getStack(y).length>I}pop(I,y=this.getActiveStackId()){return this.zone.run(()=>{var P,Q;const st=this.getStack(y);if(st.length<=I)return Promise.resolve(!1);const en=st[st.length-I-1];let _n=en.url;const Gn=en.savedData;if(Gn){const Wn=Gn.get("primary");null!==(Q=null===(P=null==Wn?void 0:Wn.route)||void 0===P?void 0:P._routerState)&&void 0!==Q&&Q.snapshot.url&&(_n=Wn.route._routerState.snapshot.url)}const{animationBuilder:Rr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(_n,Object.assign(Object.assign({},en.savedExtras),{animation:Rr})).then(()=>!0)})}startBackTransition(){const I=this.activeView;if(I){const y=this.getStack(I.stackId),P=y[y.length-2],Q=P.animationBuilder;return this.wait(()=>this.transition(P,I,"back",this.canGoBack(2),!0,Q))}return Promise.resolve()}endBackTransition(I){I?(this.skipTransition=!0,this.pop(1)):this.activeView&&Hi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(I){const y=this.getStack(I);return y.length>0?y[y.length-1]:void 0}getRootUrl(I){const y=this.getStack(I);return y.length>0?y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(oi),this.activeView=void 0,this.views=[]}getStack(I){return this.views.filter(y=>y.stackId===I)}insertView(I,y){return this.activeView=I,this.views=((f,I,y)=>"root"===y?br(f,I):"forward"===y?((f,I)=>(f.indexOf(I)>=0?f=f.filter(P=>P.stackId!==I.stackId||P.id<=I.id):f.push(I),f))(f,I):((f,I)=>f.indexOf(I)>=0?f.filter(P=>P.stackId!==I.stackId||P.id<=I.id):br(f,I))(f,I))(this.views,I,y),this.views.slice()}transition(I,y,P,Q,st,en){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(y===I)return Promise.resolve(!1);const _n=I?I.element:void 0,Gn=y?y.element:void 0,Rr=this.containerEl;return _n&&_n!==Gn&&(_n.classList.add("ion-page"),_n.classList.add("ion-page-invisible"),_n.parentElement!==Rr&&Rr.appendChild(_n),Rr.commit)?Rr.commit(_n,Gn,{deepWait:!0,duration:void 0===P?0:void 0,direction:P,showGoBack:Q,progressAnimation:st,animationBuilder:en}):Promise.resolve(!1)}wait(I){return(0,z.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const y=this.runningTask=I();return y.finally(()=>this.runningTask=void 0),y})}}const js=(f,I,y,P,Q)=>"function"==typeof requestAnimationFrame?new Promise(st=>{requestAnimationFrame(()=>{Hi(f,I,y,P,Q),st()})}):Promise.resolve(),Hi=(f,I,y,P,Q)=>{Q.run(()=>y.filter(st=>!I.includes(st)).forEach(oi)),I.forEach(st=>{const _n=P.path().split("?")[0].split("#")[0];if(st!==f&&st.url!==_n){const Gn=st.element;Gn.setAttribute("aria-hidden","true"),Gn.classList.add("ion-page-hidden"),st.ref.changeDetectorRef.detach()}})};let Ri=(()=>{class f{get(y,P){const Q=bo();return Q?Q.get(y,P):null}getBoolean(y,P){const Q=bo();return!!Q&&Q.getBoolean(y,P)}getNumber(y,P){const Q=bo();return Q?Q.getNumber(y,P):0}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const us=new a.OlP("USERCONFIG"),bo=()=>{if(typeof window<"u"){const f=window.Ionic;if(null!=f&&f.config)return f.config}return null};let ns=(()=>{class f{constructor(y,P){this.doc=y,this.backButton=new _e.x,this.keyboardDidShow=new _e.x,this.keyboardDidHide=new _e.x,this.pause=new _e.x,this.resume=new _e.x,this.resize=new _e.x,P.run(()=>{var Q;let st;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(en,_n){return this.subscribe(Gn=>Gn.register(en,Rr=>P.run(()=>_n(Rr))))},Wr(this.pause,y,"pause"),Wr(this.resume,y,"resume"),Wr(this.backButton,y,"ionBackButton"),Wr(this.resize,this.win,"resize"),Wr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Wr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(en=>{st=en}),null!==(Q=this.win)&&void 0!==Q&&Q.cordova?y.addEventListener("deviceready",()=>{st("cordova")},{once:!0}):st("dom")})}is(y){return(0,Oe.a)(this.win,y)}platforms(){return(0,Oe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return Cs(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,P;return null===(P=(y=this.win).matchMedia)||void 0===P?void 0:P.call(y,"(orientation: portrait)").matches}testUserAgent(y){const P=this.win.navigator;return!!(null!=P&&P.userAgent&&P.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(ze.K0),a.LFG(a.R0b))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Cs=(f,I)=>{I=I.replace(/[[\]\\]/g,"\\$&");const P=new RegExp("[\\?&]"+I+"=([^&#]*)").exec(f);return P?decodeURIComponent(P[1].replace(/\+/g," ")):null},Wr=(f,I,y)=>{I&&I.addEventListener(y,P=>{f.next(null!=P?P.detail:void 0)})};let Fi=(()=>{class f{constructor(y,P,Q,st){this.location=P,this.serializer=Q,this.router=st,this.direction=bs,this.animated=so,this.guessDirection="forward",this.lastNavId=-1,st&&st.events.subscribe(en=>{if(en instanceof at.OD){const _n=en.restoredState?en.restoredState.navigationId:en.id;this.guessDirection=_n<this.lastNavId?"back":"forward",this.guessAnimation=en.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?en.id:_n}}),y.backButton.subscribeWithPriority(0,en=>{this.pop(),en()})}navigateForward(y,P={}){return this.setDirection("forward",P.animated,P.animationDirection,P.animation),this.navigate(y,P)}navigateBack(y,P={}){return this.setDirection("back",P.animated,P.animationDirection,P.animation),this.navigate(y,P)}navigateRoot(y,P={}){return this.setDirection("root",P.animated,P.animationDirection,P.animation),this.navigate(y,P)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){return(0,z.mG)(this,void 0,void 0,function*(){let y=this.topOutlet;for(;y&&!(yield y.pop());)y=y.parentOutlet})}setDirection(y,P,Q,st){this.direction=y,this.animated=Js(y,P,Q),this.animationBuilder=st}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let P,y="root";const Q=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,P=this.guessAnimation):(P=this.animated,y=this.direction),this.direction=bs,this.animated=so,this.animationBuilder=void 0,{direction:y,animation:P,animationBuilder:Q}}navigate(y,P){if(Array.isArray(y))return this.router.navigate(y,P);{const Q=this.serializer.parse(y.toString());return void 0!==P.queryParams&&(Q.queryParams=Object.assign({},P.queryParams)),void 0!==P.fragment&&(Q.fragment=P.fragment),this.router.navigateByUrl(Q,P)}}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(ns),a.LFG(ze.Ye),a.LFG(at.Hx),a.LFG(at.F0,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Js=(f,I,y)=>{if(!1!==I){if(void 0!==y)return y;if("forward"===f||"back"===f)return f;if("root"===f&&!0===I)return"forward"}},bs="auto",so=void 0;let cs=(()=>{class f{constructor(y,P,Q,st,en,_n,Gn,Rr,Wn,Or,Bi,Gi,ai){this.parentContexts=y,this.location=P,this.config=en,this.navCtrl=_n,this.componentFactoryResolver=Gn,this.parentOutlet=ai,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new le.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=Wn.nativeElement,this.name=Q||at.eC,this.tabsPrefix="true"===st?ps(Or,Gi):void 0,this.stackCtrl=new ga(this.tabsPrefix,this.nativeEl,Or,_n,Bi,Rr),y.onChildOutletCreated(this.name,this)}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:P=>this.stackCtrl.endBackTransition(P)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const y=this.getContext();null!=y&&y.route&&this.activateWith(y.route,y.resolver||null)}new Promise(y=>(0,J.c)(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,P){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const P=this.getContext();this.activatedView.savedData=new Map(P.children.contexts);const Q=this.activatedView.savedData.get("primary");if(Q&&P.route&&(Q.route=Object.assign({},P.route)),this.activatedView.savedExtras={},P.route){const st=P.route.snapshot;this.activatedView.savedExtras.queryParams=st.queryParams,this.activatedView.savedExtras.fragment=st.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,P){var Q;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let st,en=this.stackCtrl.getExistingView(y);if(en){st=this.activated=en.ref;const _n=en.savedData;_n&&(this.getContext().children.contexts=_n),this.updateActivatedRouteProxy(st.instance,y)}else{const _n=y._futureSnapshot;if(null==_n.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Gn=this.parentContexts.getOrCreateContext(this.name).children,Rr=new le.X(null),Wn=this.createActivatedRouteProxy(Rr,y),Or=new Ds(Wn,Gn,this.location.injector),Bi=null!==(Q=_n.routeConfig.component)&&void 0!==Q?Q:_n.component;if((P=P||this.componentFactoryResolver)&&Sr(P)){const Gi=P.resolveComponentFactory(Bi);st=this.activated=this.location.createComponent(Gi,this.location.length,Or)}else st=this.activated=this.location.createComponent(Bi,{index:this.location.length,injector:Or,environmentInjector:null!=P?P:this.environmentInjector});Rr.next(st.instance),en=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(st.instance,Wn),this.currentActivatedRoute$.next({component:st.instance,activatedRoute:y})}this.activatedView=en,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(en).then(_n=>{this.activateEvents.emit(st.instance),this.stackEvents.emit(_n)})}canGoBack(y=1,P){return this.stackCtrl.canGoBack(y,P)}pop(y=1,P){return this.stackCtrl.pop(y,P)}getLastUrl(y){const P=this.stackCtrl.getLastUrl(y);return P?P.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,P){const Q=new at.gz;return Q._futureSnapshot=P._futureSnapshot,Q._routerState=P._routerState,Q.snapshot=P.snapshot,Q.outlet=P.outlet,Q.component=P.component,Q._paramMap=this.proxyObservable(y,"paramMap"),Q._queryParamMap=this.proxyObservable(y,"queryParamMap"),Q.url=this.proxyObservable(y,"url"),Q.params=this.proxyObservable(y,"params"),Q.queryParams=this.proxyObservable(y,"queryParams"),Q.fragment=this.proxyObservable(y,"fragment"),Q.data=this.proxyObservable(y,"data"),Q}proxyObservable(y,P){return y.pipe((0,Je.h)(Q=>!!Q),(0,W.w)(Q=>this.currentActivatedRoute$.pipe((0,Je.h)(st=>null!==st&&st.component===Q),(0,W.w)(st=>st&&st.activatedRoute[P]),(0,nt.x)())))}updateActivatedRouteProxy(y,P){const Q=this.proxyMap.get(y);if(!Q)throw new Error("Could not find activated route proxy for view");Q._futureSnapshot=P._futureSnapshot,Q._routerState=P._routerState,Q.snapshot=P.snapshot,Q.outlet=P.outlet,Q.component=P.component,this.currentActivatedRoute$.next({component:y,activatedRoute:P})}}return f.\u0275fac=function(y){return new(y||f)(a.Y36(at.y6),a.Y36(a.s_b),a.$8M("name"),a.$8M("tabs"),a.Y36(Ri),a.Y36(Fi),a.Y36(a._Vd,8),a.Y36(ze.Ye),a.Y36(a.SBq),a.Y36(at.F0),a.Y36(a.R0b),a.Y36(at.gz),a.Y36(f,12))},f.\u0275dir=a.lG2({type:f,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),f})();class Ds{constructor(I,y,P){this.route=I,this.childContexts=y,this.parent=P}get(I,y){return I===at.gz?this.route:I===at.y6?this.childContexts:this.parent.get(I,y)}}class Oi{constructor(I){this.ctrl=I}create(I){return this.ctrl.create(I||{})}dismiss(I,y,P){return this.ctrl.dismiss(I,y,P)}getTop(){return this.ctrl.getTop()}}let Ro=(()=>{class f extends Oi{constructor(){super(Ge.b)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class ds{}let nr=(()=>{class f extends Oi{constructor(y,P,Q,st){super(Ge.m),this.angularDelegate=y,this.resolver=P,this.injector=Q,this.environmentInjector=st}create(y){var P;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(P=this.resolver)&&void 0!==P?P:this.environmentInjector,this.injector,void 0,"modal")}))}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(Mi),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(ds,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),zo=(()=>{class f extends Oi{constructor(y,P,Q,st){super(Ge.c),this.angularDelegate=y,this.resolver=P,this.injector=Q,this.environmentInjector=st}create(y){var P;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(P=this.resolver)&&void 0!==P?P:this.environmentInjector,this.injector,void 0,"popover")}))}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(Mi),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(ds,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();class ao{shouldDetach(I){return!1}shouldAttach(I){return!1}store(I,y){}retrieve(I){return null}shouldReuseRoute(I,y){if(I.routeConfig!==y.routeConfig)return!1;const P=I.params,Q=y.params,st=Object.keys(P),en=Object.keys(Q);if(st.length!==en.length)return!1;for(const _n of st)if(Q[_n]!==P[_n])return!1;return!0}}const Po=(f,I,y)=>()=>{if(I.defaultView&&typeof window<"u"){(f=>{const I=window,y=I.Ionic;y&&y.config&&"Object"!==y.config.constructor.name||(I.Ionic=I.Ionic||{},I.Ionic.config=Object.assign(Object.assign({},I.Ionic.config),f))})(Object.assign(Object.assign({},f),{_zoneGate:st=>y.run(st)}));const Q="__zone_symbol__addEventListener"in I.body?"__zone_symbol__addEventListener":"addEventListener";return function Nt(){var f=[];if(typeof window<"u"){var I=window;(!I.customElements||I.Element&&(!I.Element.prototype.closest||!I.Element.prototype.matches||!I.Element.prototype.remove||!I.Element.prototype.getRootNode))&&f.push($.e(6748).then($.t.bind($,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||I.NodeList&&!I.NodeList.prototype.forEach||!I.fetch||!function(){try{var P=new URL("b","http://a");return P.pathname="c%20d","http://a/c%20d"===P.href&&P.searchParams}catch(Q){return!1}}()||typeof WeakMap>"u")&&f.push($.e(2214).then($.t.bind($,4144,23)))}return Promise.all(f)}().then(()=>((f,I)=>typeof window>"u"?Promise.resolve():(0,je.p)().then(()=>(xt(),(0,je.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),I))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:wr,jmp:st=>y.runOutsideAngular(st),ael(st,en,_n,Gn){st[Q](en,_n,Gn)},rel(st,en,_n,Gn){st.removeEventListener(en,_n,Gn)}}))}};let j=(()=>{class f{static forRoot(y){return{ngModule:f,providers:[{provide:us,useValue:y},{provide:a.ip1,useFactory:Po,multi:!0,deps:[us,ze.K0,a.R0b]}]}}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({providers:[Mi,nr,zo],imports:[[ze.ez]]}),f})()},181:(cn,gt,$)=>{"use strict";$.d(gt,{c:()=>St});var a=$(5730),te=$(3457);let z;const Me=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=Re=>(void 0===z&&(z=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),z),de=(Re,_e,le)=>{const at=_e.startsWith("animation")?Te(Re):"";Re.style.setProperty(at+_e,le)},Ae=(Re,_e)=>{const le=_e.startsWith("animation")?Te(Re):"";Re.style.removeProperty(le+_e)},fe=[],lt=(Re=[],_e)=>{if(void 0!==_e){const le=Array.isArray(_e)?_e:[_e];return[...Re,...le]}return Re},St=Re=>{let _e,le,at,ot,et,Qe,Fe,Ee,be,Je,W,xt,Pt,Pe=[],Oe=[],J=[],Xe=!1,Ge={},Ke=[],it=[],je={},pt=0,tt=!1,we=!1,nt=!0,ze=!1,Nt=!0,dn=!1;const Rt=Re,Tn=[],Sn=[],Fn=[],on=[],ar=[],wr=[],Sr=[],Cn=[],lr=[],Yt=[],dr="function"==typeof AnimationEffect||void 0!==te.w&&"function"==typeof te.w.AnimationEffect,Pr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&dr,Yr=()=>Yt,ri=(ce,Ye)=>((null!=Ye&&Ye.oneTimeCallback?Sn:Tn).push({c:ce,o:Ye}),Pt),Ar=()=>{if(Pr)Yt.forEach(ce=>{ce.cancel()}),Yt.length=0;else{const ce=Fn.slice();(0,a.r)(()=>{ce.forEach(Ye=>{Ae(Ye,"animation-name"),Ae(Ye,"animation-duration"),Ae(Ye,"animation-timing-function"),Ae(Ye,"animation-iteration-count"),Ae(Ye,"animation-delay"),Ae(Ye,"animation-play-state"),Ae(Ye,"animation-fill-mode"),Ae(Ye,"animation-direction")})})}},Gt=()=>{ar.forEach(ce=>{null!=ce&&ce.parentNode&&ce.parentNode.removeChild(ce)}),ar.length=0},Rn=()=>void 0!==et?et:Fe?Fe.getFill():"both",Vr=()=>void 0!==be?be:void 0!==Qe?Qe:Fe?Fe.getDirection():"normal",xe=()=>tt?"linear":void 0!==at?at:Fe?Fe.getEasing():"linear",Ie=()=>we?0:void 0!==Je?Je:void 0!==le?le:Fe?Fe.getDuration():0,We=()=>void 0!==ot?ot:Fe?Fe.getIterations():1,Mt=()=>void 0!==W?W:void 0!==_e?_e:Fe?Fe.getDelay():0,fi=()=>{0!==pt&&(pt--,0===pt&&((()=>{Jr(),Cn.forEach(Ft=>Ft()),lr.forEach(Ft=>Ft());const ce=nt?1:0,Ye=Ke,dt=it,wt=je;Fn.forEach(Ft=>{const nn=Ft.classList;Ye.forEach(Dn=>nn.add(Dn)),dt.forEach(Dn=>nn.remove(Dn));for(const Dn in wt)wt.hasOwnProperty(Dn)&&de(Ft,Dn,wt[Dn])}),Tn.forEach(Ft=>Ft.c(ce,Pt)),Sn.forEach(Ft=>Ft.c(ce,Pt)),Sn.length=0,Nt=!0,nt&&(ze=!0),nt=!0})(),Fe&&Fe.animationFinish()))},Ei=(ce=!0)=>{Gt();const Ye=(Re=>(Re.forEach(_e=>{for(const le in _e)if(_e.hasOwnProperty(le)){const at=_e[le];if("easing"===le)_e["animation-timing-function"]=at,delete _e[le];else{const ot=Me(le);ot!==le&&(_e[ot]=at,delete _e[le])}}}),Re))(Pe);Fn.forEach(dt=>{if(Ye.length>0){const wt=((Re=[])=>Re.map(_e=>{const le=_e.offset,at=[];for(const ot in _e)_e.hasOwnProperty(ot)&&"offset"!==ot&&at.push(`${ot}: ${_e[ot]};`);return`${100*le}% { ${at.join(" ")} }`}).join(" "))(Ye);xt=void 0!==Re?Re:(Re=>{let _e=fe.indexOf(Re);return _e<0&&(_e=fe.push(Re)-1),`ion-animation-${_e}`})(wt);const Ft=((Re,_e,le)=>{var at;const ot=(Re=>{const _e=void 0!==Re.getRootNode?Re.getRootNode():Re;return _e.head||_e})(le),et=Te(le),Qe=ot.querySelector("#"+Re);if(Qe)return Qe;const Pe=(null!==(at=le.ownerDocument)&&void 0!==at?at:document).createElement("style");return Pe.id=Re,Pe.textContent=`@${et}keyframes ${Re} { ${_e} } @${et}keyframes ${Re}-alt { ${_e} }`,ot.appendChild(Pe),Pe})(xt,wt,dt);ar.push(Ft),de(dt,"animation-duration",`${Ie()}ms`),de(dt,"animation-timing-function",xe()),de(dt,"animation-delay",`${Mt()}ms`),de(dt,"animation-fill-mode",Rn()),de(dt,"animation-direction",Vr());const nn=We()===1/0?"infinite":We().toString();de(dt,"animation-iteration-count",nn),de(dt,"animation-play-state","paused"),ce&&de(dt,"animation-name",`${Ft.id}-alt`),(0,a.r)(()=>{de(dt,"animation-name",Ft.id||null)})}})},is=(ce=!0)=>{(()=>{wr.forEach(wt=>wt()),Sr.forEach(wt=>wt());const ce=Oe,Ye=J,dt=Ge;Fn.forEach(wt=>{const Ft=wt.classList;ce.forEach(nn=>Ft.add(nn)),Ye.forEach(nn=>Ft.remove(nn));for(const nn in dt)dt.hasOwnProperty(nn)&&de(wt,nn,dt[nn])})})(),Pe.length>0&&(Pr?(Fn.forEach(ce=>{const Ye=ce.animate(Pe,{id:Rt,delay:Mt(),duration:Ie(),easing:xe(),iterations:We(),fill:Rn(),direction:Vr()});Ye.pause(),Yt.push(Ye)}),Yt.length>0&&(Yt[0].onfinish=()=>{fi()})):Ei(ce)),Xe=!0},Yi=ce=>{if(ce=Math.min(Math.max(ce,0),.9999),Pr)Yt.forEach(Ye=>{Ye.currentTime=Ye.effect.getComputedTiming().delay+Ie()*ce,Ye.pause()});else{const Ye=`-${Ie()*ce}ms`;Fn.forEach(dt=>{Pe.length>0&&(de(dt,"animation-delay",Ye),de(dt,"animation-play-state","paused"))})}},Zn=ce=>{Yt.forEach(Ye=>{Ye.effect.updateTiming({delay:Mt(),duration:Ie(),easing:xe(),iterations:We(),fill:Rn(),direction:Vr()})}),void 0!==ce&&Yi(ce)},Xr=(ce=!0,Ye)=>{(0,a.r)(()=>{Fn.forEach(dt=>{de(dt,"animation-name",xt||null),de(dt,"animation-duration",`${Ie()}ms`),de(dt,"animation-timing-function",xe()),de(dt,"animation-delay",void 0!==Ye?`-${Ye*Ie()}ms`:`${Mt()}ms`),de(dt,"animation-fill-mode",Rn()||null),de(dt,"animation-direction",Vr()||null);const wt=We()===1/0?"infinite":We().toString();de(dt,"animation-iteration-count",wt),ce&&de(dt,"animation-name",`${xt}-alt`),(0,a.r)(()=>{de(dt,"animation-name",xt||null)})})})},Nr=(ce=!1,Ye=!0,dt)=>(ce&&on.forEach(wt=>{wt.update(ce,Ye,dt)}),Pr?Zn(dt):Xr(Ye,dt),Pt),fn=()=>{Xe&&(Pr?Yt.forEach(ce=>{ce.pause()}):Fn.forEach(ce=>{de(ce,"animation-play-state","paused")}),dn=!0)},Hr=()=>{Ee=void 0,fi()},Jr=()=>{Ee&&clearTimeout(Ee)},ne=ce=>new Promise(Ye=>{null!=ce&&ce.sync&&(we=!0,ri(()=>we=!1,{oneTimeCallback:!0})),Xe||is(),ze&&(Pr?(Yi(0),Zn()):Xr(),ze=!1),Nt&&(pt=on.length+1,Nt=!1),ri(()=>Ye(),{oneTimeCallback:!0}),on.forEach(dt=>{dt.play()}),Pr?(Yt.forEach(ce=>{ce.play()}),(0===Pe.length||0===Fn.length)&&fi()):(()=>{if(Jr(),(0,a.r)(()=>{Fn.forEach(ce=>{Pe.length>0&&de(ce,"animation-play-state","running")})}),0===Pe.length||0===Fn.length)fi();else{const ce=Mt()||0,Ye=Ie()||0,dt=We()||1;isFinite(dt)&&(Ee=setTimeout(Hr,ce+Ye*dt+100)),((Re,_e)=>{let le;const at={passive:!0},et=Qe=>{Re===Qe.target&&(le&&le(),Jr(),(0,a.r)(()=>{Fn.forEach(ce=>{Ae(ce,"animation-duration"),Ae(ce,"animation-delay"),Ae(ce,"animation-play-state")}),(0,a.r)(fi)}))};Re&&(Re.addEventListener("webkitAnimationEnd",et,at),Re.addEventListener("animationend",et,at),le=()=>{Re.removeEventListener("webkitAnimationEnd",et,at),Re.removeEventListener("animationend",et,at)})})(Fn[0])}})(),dn=!1}),Ne=(ce,Ye)=>{const dt=Pe[0];return void 0===dt||void 0!==dt.offset&&0!==dt.offset?Pe=[{offset:0,[ce]:Ye},...Pe]:dt[ce]=Ye,Pt};return Pt={parentAnimation:Fe,elements:Fn,childAnimations:on,id:Rt,animationFinish:fi,from:Ne,to:(ce,Ye)=>{const dt=Pe[Pe.length-1];return void 0===dt||void 0!==dt.offset&&1!==dt.offset?Pe=[...Pe,{offset:1,[ce]:Ye}]:dt[ce]=Ye,Pt},fromTo:(ce,Ye,dt)=>Ne(ce,Ye).to(ce,dt),parent:ce=>(Fe=ce,Pt),play:ne,pause:()=>(on.forEach(ce=>{ce.pause()}),fn(),Pt),stop:()=>{on.forEach(ce=>{ce.stop()}),Xe&&(Ar(),Xe=!1),tt=!1,we=!1,Nt=!0,be=void 0,Je=void 0,W=void 0,pt=0,ze=!1,nt=!0,dn=!1},destroy:ce=>(on.forEach(Ye=>{Ye.destroy(ce)}),(ce=>{Ar(),ce&&Gt()})(ce),Fn.length=0,on.length=0,Pe.length=0,Tn.length=0,Sn.length=0,Xe=!1,Nt=!0,Pt),keyframes:ce=>{const Ye=Pe!==ce;return Pe=ce,Ye&&(ce=>{Pr?Yr().forEach(Ye=>{if(Ye.effect.setKeyframes)Ye.effect.setKeyframes(ce);else{const dt=new KeyframeEffect(Ye.effect.target,ce,Ye.effect.getTiming());Ye.effect=dt}}):Ei()})(Pe),Pt},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const Ye of ce)Ye.parent(Pt),on.push(Ye);else ce.parent(Pt),on.push(ce);return Pt},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)Fn.push(ce);else if(ce.length>=0)for(let Ye=0;Ye<ce.length;Ye++)Fn.push(ce[Ye]);else console.error("Invalid addElement value");return Pt},update:Nr,fill:ce=>(et=ce,Nr(!0),Pt),direction:ce=>(Qe=ce,Nr(!0),Pt),iterations:ce=>(ot=ce,Nr(!0),Pt),duration:ce=>(!Pr&&0===ce&&(ce=1),le=ce,Nr(!0),Pt),easing:ce=>(at=ce,Nr(!0),Pt),delay:ce=>(_e=ce,Nr(!0),Pt),getWebAnimations:Yr,getKeyframes:()=>Pe,getFill:Rn,getDirection:Vr,getDelay:Mt,getIterations:We,getEasing:xe,getDuration:Ie,afterAddRead:ce=>(Cn.push(ce),Pt),afterAddWrite:ce=>(lr.push(ce),Pt),afterClearStyles:(ce=[])=>{for(const Ye of ce)je[Ye]="";return Pt},afterStyles:(ce={})=>(je=ce,Pt),afterRemoveClass:ce=>(it=lt(it,ce),Pt),afterAddClass:ce=>(Ke=lt(Ke,ce),Pt),beforeAddRead:ce=>(wr.push(ce),Pt),beforeAddWrite:ce=>(Sr.push(ce),Pt),beforeClearStyles:(ce=[])=>{for(const Ye of ce)Ge[Ye]="";return Pt},beforeStyles:(ce={})=>(Ge=ce,Pt),beforeRemoveClass:ce=>(J=lt(J,ce),Pt),beforeAddClass:ce=>(Oe=lt(Oe,ce),Pt),onFinish:ri,isRunning:()=>0!==pt&&!dn,progressStart:(ce=!1,Ye)=>(on.forEach(dt=>{dt.progressStart(ce,Ye)}),fn(),tt=ce,Xe||is(),Nr(!1,!0,Ye),Pt),progressStep:ce=>(on.forEach(Ye=>{Ye.progressStep(ce)}),Yi(ce),Pt),progressEnd:(ce,Ye,dt)=>(tt=!1,on.forEach(wt=>{wt.progressEnd(ce,Ye,dt)}),void 0!==dt&&(Je=dt),ze=!1,nt=!0,0===ce?(be="reverse"===Vr()?"normal":"reverse","reverse"===be&&(nt=!1),Pr?(Nr(),Yi(1-Ye)):(W=(1-Ye)*Ie()*-1,Nr(!1,!1))):1===ce&&(Pr?(Nr(),Yi(Ye)):(W=Ye*Ie()*-1,Nr(!1,!1))),void 0!==ce&&(ri(()=>{Je=void 0,be=void 0,W=void 0},{oneTimeCallback:!0}),Fe||ne()),Pt)}}},4349:(cn,gt,$)=>{"use strict";$.d(gt,{G:()=>Me});class te{constructor(de,Ae,Ve,ge,fe){this.id=Ae,this.name=Ve,this.disableScroll=fe,this.priority=1e6*ge+Ae,this.ctrl=de}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const de=this.ctrl.capture(this.name,this.id,this.priority);return de&&this.disableScroll&&this.ctrl.disableScroll(this.id),de}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class z{constructor(de,Ae,Ve,ge){this.id=Ae,this.disable=Ve,this.disableScroll=ge,this.ctrl=de}block(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.disableGesture(de,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.enableGesture(de,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Se="backdrop-no-scroll",Me=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(de){var Ae;return new te(this,this.newID(),de.name,null!==(Ae=de.priority)&&void 0!==Ae?Ae:0,!!de.disableScroll)}createBlocker(de={}){return new z(this,this.newID(),de.disable,!!de.disableScroll)}start(de,Ae,Ve){return this.canStart(de)?(this.requestedStart.set(Ae,Ve),!0):(this.requestedStart.delete(Ae),!1)}capture(de,Ae,Ve){if(!this.start(de,Ae,Ve))return!1;const ge=this.requestedStart;let fe=-1e4;if(ge.forEach(pe=>{fe=Math.max(fe,pe)}),fe===Ve){this.capturedId=Ae,ge.clear();const pe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:de}});return document.dispatchEvent(pe),!0}return ge.delete(Ae),!1}release(de){this.requestedStart.delete(de),this.capturedId===de&&(this.capturedId=void 0)}disableGesture(de,Ae){let Ve=this.disabledGestures.get(de);void 0===Ve&&(Ve=new Set,this.disabledGestures.set(de,Ve)),Ve.add(Ae)}enableGesture(de,Ae){const Ve=this.disabledGestures.get(de);void 0!==Ve&&Ve.delete(Ae)}disableScroll(de){this.disabledScroll.add(de),1===this.disabledScroll.size&&document.body.classList.add(Se)}enableScroll(de){this.disabledScroll.delete(de),0===this.disabledScroll.size&&document.body.classList.remove(Se)}canStart(de){return!(void 0!==this.capturedId||this.isDisabled(de))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(de){const Ae=this.disabledGestures.get(de);return!!(Ae&&Ae.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(cn,gt,$)=>{"use strict";$.r(gt),$.d(gt,{MENU_BACK_BUTTON_PRIORITY:()=>Me,OVERLAY_BACK_BUTTON_PRIORITY:()=>Se,blockHardwareBackButton:()=>te,startHardwareBackButton:()=>z});var a=$(5861);const te=()=>{document.addEventListener("backbutton",()=>{})},z=()=>{const Te=document;let de=!1;Te.addEventListener("backbutton",()=>{if(de)return;let Ae=0,Ve=[];const ge=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ke,Ue){Ve.push({priority:ke,handler:Ue,id:Ae++})}}});Te.dispatchEvent(ge);const fe=function(){var ke=(0,a.Z)(function*(Ue){try{if(null!=Ue&&Ue.handler){const lt=Ue.handler(pe);null!=lt&&(yield lt)}}catch(lt){console.error(lt)}});return function(lt){return ke.apply(this,arguments)}}(),pe=()=>{if(Ve.length>0){let ke={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ve.forEach(Ue=>{Ue.priority>=ke.priority&&(ke=Ue)}),de=!0,Ve=Ve.filter(Ue=>Ue.id!==ke.id),fe(ke).then(()=>de=!1)}};pe()})},Se=100,Me=99},5730:(cn,gt,$)=>{"use strict";$.d(gt,{a:()=>de,b:()=>Ae,c:()=>z,d:()=>Ue,e:()=>lt,f:()=>ke,g:()=>Ve,h:()=>ot,i:()=>Te,j:()=>Se,k:()=>pe,l:()=>St,m:()=>fe,n:()=>Re,o:()=>at,p:()=>le,q:()=>et,r:()=>ge,s:()=>Qe,t:()=>a,u:()=>_e});const a=(Pe,Oe=0)=>new Promise(J=>{te(Pe,Oe,J)}),te=(Pe,Oe=0,J)=>{let Xe,Fe;const Ge={passive:!0},it=()=>{Xe&&Xe()},je=pt=>{(void 0===pt||Pe===pt.target)&&(it(),J(pt))};return Pe&&(Pe.addEventListener("webkitTransitionEnd",je,Ge),Pe.addEventListener("transitionend",je,Ge),Fe=setTimeout(je,Oe+500),Xe=()=>{Fe&&(clearTimeout(Fe),Fe=void 0),Pe.removeEventListener("webkitTransitionEnd",je,Ge),Pe.removeEventListener("transitionend",je,Ge)}),it},z=(Pe,Oe)=>{Pe.componentOnReady?Pe.componentOnReady().then(J=>Oe(J)):ge(()=>Oe(Pe))},Se=(Pe,Oe=[])=>{const J={};return Oe.forEach(Xe=>{Pe.hasAttribute(Xe)&&(null!==Pe.getAttribute(Xe)&&(J[Xe]=Pe.getAttribute(Xe)),Pe.removeAttribute(Xe))}),J},Me=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Te=(Pe,Oe)=>{let J=Me;return Oe&&Oe.length>0&&(J=J.filter(Xe=>!Oe.includes(Xe))),Se(Pe,J)},de=(Pe,Oe,J,Xe)=>{var Fe;if(typeof window<"u"){const Ge=window,Ke=null===(Fe=null==Ge?void 0:Ge.Ionic)||void 0===Fe?void 0:Fe.config;if(Ke){const it=Ke.get("_ael");if(it)return it(Pe,Oe,J,Xe);if(Ke._ael)return Ke._ael(Pe,Oe,J,Xe)}}return Pe.addEventListener(Oe,J,Xe)},Ae=(Pe,Oe,J,Xe)=>{var Fe;if(typeof window<"u"){const Ge=window,Ke=null===(Fe=null==Ge?void 0:Ge.Ionic)||void 0===Fe?void 0:Fe.config;if(Ke){const it=Ke.get("_rel");if(it)return it(Pe,Oe,J,Xe);if(Ke._rel)return Ke._rel(Pe,Oe,J,Xe)}}return Pe.removeEventListener(Oe,J,Xe)},Ve=(Pe,Oe=Pe)=>Pe.shadowRoot||Oe,ge=Pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Pe):setTimeout(Pe),fe=Pe=>!!Pe.shadowRoot&&!!Pe.attachShadow,pe=Pe=>{const Oe=Pe.closest("ion-item");return Oe?Oe.querySelector("ion-label"):null},ke=Pe=>{if(Pe.focus(),Pe.classList.contains("ion-focusable")){const Oe=Pe.closest("ion-app");Oe&&Oe.setFocus([Pe])}},Ue=(Pe,Oe)=>{let J;const Xe=Pe.getAttribute("aria-labelledby"),Fe=Pe.id;let Ge=null!==Xe&&""!==Xe.trim()?Xe:Oe+"-lbl",Ke=null!==Xe&&""!==Xe.trim()?document.getElementById(Xe):pe(Pe);return Ke?(null===Xe&&(Ke.id=Ge),J=Ke.textContent,Ke.setAttribute("aria-hidden","true")):""!==Fe.trim()&&(Ke=document.querySelector(`label[for="${Fe}"]`),Ke&&(""!==Ke.id?Ge=Ke.id:Ke.id=Ge=`${Fe}-lbl`,J=Ke.textContent)),{label:Ke,labelId:Ge,labelText:J}},lt=(Pe,Oe,J,Xe,Fe)=>{if(Pe||fe(Oe)){let Ge=Oe.querySelector("input.aux-input");Ge||(Ge=Oe.ownerDocument.createElement("input"),Ge.type="hidden",Ge.classList.add("aux-input"),Oe.appendChild(Ge)),Ge.disabled=Fe,Ge.name=J,Ge.value=Xe||""}},St=(Pe,Oe,J)=>Math.max(Pe,Math.min(Oe,J)),Re=(Pe,Oe)=>{if(!Pe){const J="ASSERT: "+Oe;throw console.error(J),new Error(J)}},_e=Pe=>Pe.timeStamp||Date.now(),le=Pe=>{if(Pe){const Oe=Pe.changedTouches;if(Oe&&Oe.length>0){const J=Oe[0];return{x:J.clientX,y:J.clientY}}if(void 0!==Pe.pageX)return{x:Pe.pageX,y:Pe.pageY}}return{x:0,y:0}},at=Pe=>{const Oe="rtl"===document.dir;switch(Pe){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${Pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ot=(Pe,Oe)=>{const J=Pe._original||Pe;return{_original:Pe,emit:et(J.emit.bind(J),Oe)}},et=(Pe,Oe=0)=>{let J;return(...Xe)=>{clearTimeout(J),J=setTimeout(Pe,Oe,...Xe)}},Qe=(Pe,Oe)=>{if(null!=Pe||(Pe={}),null!=Oe||(Oe={}),Pe===Oe)return!0;const J=Object.keys(Pe);if(J.length!==Object.keys(Oe).length)return!1;for(const Xe of J)if(!(Xe in Oe)||Pe[Xe]!==Oe[Xe])return!1;return!0}},1843:(cn,gt,$)=>{"use strict";$.d(gt,{L:()=>Se,a:()=>Me,b:()=>Te,c:()=>de,d:()=>Ae,e:()=>Oe,g:()=>Fe,l:()=>Qe,s:()=>J,t:()=>fe});var a=$(5861),te=$(1308),z=$(5730);const Se="ionViewWillEnter",Me="ionViewDidEnter",Te="ionViewWillLeave",de="ionViewDidLeave",Ae="ionViewWillUnload",fe=Ge=>new Promise((Ke,it)=>{(0,te.c)(()=>{pe(Ge),ke(Ge).then(je=>{je.animation&&je.animation.destroy(),Ue(Ge),Ke(je)},je=>{Ue(Ge),it(je)})})}),pe=Ge=>{const Ke=Ge.enteringEl,it=Ge.leavingEl;Xe(Ke,it,Ge.direction),Ge.showGoBack?Ke.classList.add("can-go-back"):Ke.classList.remove("can-go-back"),J(Ke,!1),Ke.style.setProperty("pointer-events","none"),it&&(J(it,!1),it.style.setProperty("pointer-events","none"))},ke=function(){var Ge=(0,a.Z)(function*(Ke){const it=yield lt(Ke);return it&&te.B.isBrowser?St(it,Ke):Re(Ke)});return function(it){return Ge.apply(this,arguments)}}(),Ue=Ge=>{const Ke=Ge.enteringEl,it=Ge.leavingEl;Ke.classList.remove("ion-page-invisible"),Ke.style.removeProperty("pointer-events"),void 0!==it&&(it.classList.remove("ion-page-invisible"),it.style.removeProperty("pointer-events"))},lt=function(){var Ge=(0,a.Z)(function*(Ke){return Ke.leavingEl&&Ke.animated&&0!==Ke.duration?Ke.animationBuilder?Ke.animationBuilder:"ios"===Ke.mode?(yield Promise.resolve().then($.bind($,6439))).iosTransitionAnimation:(yield Promise.resolve().then($.bind($,7838))).mdTransitionAnimation:void 0});return function(it){return Ge.apply(this,arguments)}}(),St=function(){var Ge=(0,a.Z)(function*(Ke,it){yield _e(it,!0);const je=Ke(it.baseEl,it);ot(it.enteringEl,it.leavingEl);const pt=yield at(je,it);return it.progressCallback&&it.progressCallback(void 0),pt&&et(it.enteringEl,it.leavingEl),{hasCompleted:pt,animation:je}});return function(it,je){return Ge.apply(this,arguments)}}(),Re=function(){var Ge=(0,a.Z)(function*(Ke){const it=Ke.enteringEl,je=Ke.leavingEl;return yield _e(Ke,!1),ot(it,je),et(it,je),{hasCompleted:!0}});return function(it){return Ge.apply(this,arguments)}}(),_e=function(){var Ge=(0,a.Z)(function*(Ke,it){const pt=(void 0!==Ke.deepWait?Ke.deepWait:it)?[Oe(Ke.enteringEl),Oe(Ke.leavingEl)]:[Pe(Ke.enteringEl),Pe(Ke.leavingEl)];yield Promise.all(pt),yield le(Ke.viewIsReady,Ke.enteringEl)});return function(it,je){return Ge.apply(this,arguments)}}(),le=function(){var Ge=(0,a.Z)(function*(Ke,it){Ke&&(yield Ke(it))});return function(it,je){return Ge.apply(this,arguments)}}(),at=(Ge,Ke)=>{const it=Ke.progressCallback,je=new Promise(pt=>{Ge.onFinish(tt=>pt(1===tt))});return it?(Ge.progressStart(!0),it(Ge)):Ge.play(),je},ot=(Ge,Ke)=>{Qe(Ke,Te),Qe(Ge,Se)},et=(Ge,Ke)=>{Qe(Ge,Me),Qe(Ke,de)},Qe=(Ge,Ke)=>{if(Ge){const it=new CustomEvent(Ke,{bubbles:!1,cancelable:!1});Ge.dispatchEvent(it)}},Pe=Ge=>Ge?new Promise(Ke=>(0,z.c)(Ge,Ke)):Promise.resolve(),Oe=function(){var Ge=(0,a.Z)(function*(Ke){const it=Ke;if(it){if(null!=it.componentOnReady){if(null!=(yield it.componentOnReady()))return}else if(null!=it.__registerHost)return void(yield new Promise(pt=>(0,z.r)(pt)));yield Promise.all(Array.from(it.children).map(Oe))}});return function(it){return Ge.apply(this,arguments)}}(),J=(Ge,Ke)=>{Ke?(Ge.setAttribute("aria-hidden","true"),Ge.classList.add("ion-page-hidden")):(Ge.hidden=!1,Ge.removeAttribute("aria-hidden"),Ge.classList.remove("ion-page-hidden"))},Xe=(Ge,Ke,it)=>{void 0!==Ge&&(Ge.style.zIndex="back"===it?"99":"101"),void 0!==Ke&&(Ke.style.zIndex="100")},Fe=Ge=>Ge.classList.contains("ion-page")?Ge:Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ge},6369:(cn,gt,$)=>{"use strict";$.d(gt,{m:()=>fe});var a=$(5861),te=$(7593),z=$(5730),Se=$(5179),Me=$(181);const Te=pe=>(0,Me.c)().duration(pe?400:300),de=pe=>{let ke,Ue;const lt=pe.width+8,St=(0,Me.c)(),Re=(0,Me.c)();pe.isEndSide?(ke=lt+"px",Ue="0px"):(ke=-lt+"px",Ue="0px"),St.addElement(pe.menuInnerEl).fromTo("transform",`translateX(${ke})`,`translateX(${Ue})`);const le="ios"===(0,Se.b)(pe),at=le?.2:.25;return Re.addElement(pe.backdropEl).fromTo("opacity",.01,at),Te(le).addAnimation([St,Re])},Ae=pe=>{let ke,Ue;const lt=(0,Se.b)(pe),St=pe.width;pe.isEndSide?(ke=-St+"px",Ue=St+"px"):(ke=St+"px",Ue=-St+"px");const Re=(0,Me.c)().addElement(pe.menuInnerEl).fromTo("transform",`translateX(${Ue})`,"translateX(0px)"),_e=(0,Me.c)().addElement(pe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`),le=(0,Me.c)().addElement(pe.backdropEl).fromTo("opacity",.01,.32);return Te("ios"===lt).addAnimation([Re,_e,le])},Ve=pe=>{const ke=(0,Se.b)(pe),Ue=pe.width*(pe.isEndSide?-1:1)+"px",lt=(0,Me.c)().addElement(pe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ue})`);return Te("ios"===ke).addAnimation(lt)},fe=(()=>{const pe=new Map,ke=[],Ue=function(){var Ee=(0,a.Z)(function*(be){const Je=yield ot(be);return!!Je&&Je.open()});return function(Je){return Ee.apply(this,arguments)}}(),lt=function(){var Ee=(0,a.Z)(function*(be){const Je=yield void 0!==be?ot(be):et();return void 0!==Je&&Je.close()});return function(Je){return Ee.apply(this,arguments)}}(),St=function(){var Ee=(0,a.Z)(function*(be){const Je=yield ot(be);return!!Je&&Je.toggle()});return function(Je){return Ee.apply(this,arguments)}}(),Re=function(){var Ee=(0,a.Z)(function*(be,Je){const W=yield ot(Je);return W&&(W.disabled=!be),W});return function(Je,W){return Ee.apply(this,arguments)}}(),_e=function(){var Ee=(0,a.Z)(function*(be,Je){const W=yield ot(Je);return W&&(W.swipeGesture=be),W});return function(Je,W){return Ee.apply(this,arguments)}}(),le=function(){var Ee=(0,a.Z)(function*(be){if(null!=be){const Je=yield ot(be);return void 0!==Je&&Je.isOpen()}return void 0!==(yield et())});return function(Je){return Ee.apply(this,arguments)}}(),at=function(){var Ee=(0,a.Z)(function*(be){const Je=yield ot(be);return!!Je&&!Je.disabled});return function(Je){return Ee.apply(this,arguments)}}(),ot=function(){var Ee=(0,a.Z)(function*(be){return yield we(),"start"===be||"end"===be?tt(nt=>nt.side===be&&!nt.disabled)||tt(nt=>nt.side===be):null!=be?tt(W=>W.menuId===be):tt(W=>!W.disabled)||(ke.length>0?ke[0].el:void 0)});return function(Je){return Ee.apply(this,arguments)}}(),et=function(){var Ee=(0,a.Z)(function*(){return yield we(),it()});return function(){return Ee.apply(this,arguments)}}(),Qe=function(){var Ee=(0,a.Z)(function*(){return yield we(),je()});return function(){return Ee.apply(this,arguments)}}(),Pe=function(){var Ee=(0,a.Z)(function*(){return yield we(),pt()});return function(){return Ee.apply(this,arguments)}}(),Oe=(Ee,be)=>{pe.set(Ee,be)},Fe=Ee=>{const be=Ee.side;ke.filter(Je=>Je.side===be&&Je!==Ee).forEach(Je=>Je.disabled=!0)},Ge=function(){var Ee=(0,a.Z)(function*(be,Je,W){if(pt())return!1;if(Je){const nt=yield et();nt&&be.el!==nt&&(yield nt.setOpen(!1,!1))}return be._setOpen(Je,W)});return function(Je,W,nt){return Ee.apply(this,arguments)}}(),it=()=>tt(Ee=>Ee._isOpen),je=()=>ke.map(Ee=>Ee.el),pt=()=>ke.some(Ee=>Ee.isAnimating),tt=Ee=>{const be=ke.find(Ee);if(void 0!==be)return be.el},we=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ee=>new Promise(be=>(0,z.c)(Ee,be))));return Oe("reveal",Ve),Oe("push",Ae),Oe("overlay",de),typeof document<"u"&&document.addEventListener("ionBackButton",Ee=>{const be=it();be&&Ee.detail.register(te.MENU_BACK_BUTTON_PRIORITY,()=>be.close())}),{registerAnimation:Oe,get:ot,getMenus:Qe,getOpen:et,isEnabled:at,swipeGesture:_e,isAnimating:Pe,isOpen:le,enable:Re,toggle:St,close:lt,open:Ue,_getOpenSync:it,_createAnimation:(Ee,be)=>{const Je=pe.get(Ee);if(!Je)throw new Error("animation not registered");return Je(be)},_register:Ee=>{ke.indexOf(Ee)<0&&(Ee.disabled||Fe(Ee),ke.push(Ee))},_unregister:Ee=>{const be=ke.indexOf(Ee);be>-1&&ke.splice(be,1)},_setOpen:Ge,_setActiveMenu:Fe}})()},3457:(cn,gt,$)=>{"use strict";$.d(gt,{w:()=>a});const a=typeof window<"u"?window:void 0},1898:(cn,gt,$)=>{"use strict";$.r(gt),$.d(gt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>Ve});var a=$(4349);const te=(ke,Ue,lt,St)=>{const Re=z(ke)?{capture:!!St.capture,passive:!!St.passive}:!!St.capture;let _e,le;return ke.__zone_symbol__addEventListener?(_e="__zone_symbol__addEventListener",le="__zone_symbol__removeEventListener"):(_e="addEventListener",le="removeEventListener"),ke[_e](Ue,lt,Re),()=>{ke[le](Ue,lt,Re)}},z=ke=>{if(void 0===Se)try{const Ue=Object.defineProperty({},"passive",{get:()=>{Se=!0}});ke.addEventListener("optsTest",()=>{},Ue)}catch(Ue){Se=!1}return!!Se};let Se;const de=ke=>ke instanceof Document?ke:ke.ownerDocument,Ve=ke=>{let Ue=!1,lt=!1,St=!0,Re=!1;const _e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ke),le=_e.canStart,at=_e.onWillStart,ot=_e.onStart,et=_e.onEnd,Qe=_e.notCaptured,Pe=_e.onMove,Oe=_e.threshold,J=_e.passive,Xe=_e.blurOnStart,Fe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ge=((ke,Ue,lt)=>{const St=lt*(Math.PI/180),Re="x"===ke,_e=Math.cos(St),le=Ue*Ue;let at=0,ot=0,et=!1,Qe=0;return{start(Pe,Oe){at=Pe,ot=Oe,Qe=0,et=!0},detect(Pe,Oe){if(!et)return!1;const J=Pe-at,Xe=Oe-ot,Fe=J*J+Xe*Xe;if(Fe<le)return!1;const Ge=Math.sqrt(Fe),Ke=(Re?J:Xe)/Ge;return Qe=Ke>_e?1:Ke<-_e?-1:0,et=!1,!0},isGesture:()=>0!==Qe,getDirection:()=>Qe}})(_e.direction,_e.threshold,_e.maxAngle),Ke=a.G.createGesture({name:ke.gestureName,priority:ke.gesturePriority,disableScroll:ke.disableScroll}),pt=()=>{Ue&&(Re=!1,Pe&&Pe(Fe))},tt=()=>!!Ke.capture()&&(Ue=!0,St=!1,Fe.startX=Fe.currentX,Fe.startY=Fe.currentY,Fe.startTime=Fe.currentTime,at?at(Fe).then(Ee):Ee(),!0),Ee=()=>{Xe&&(()=>{if(typeof document<"u"){const ze=document.activeElement;null!=ze&&ze.blur&&ze.blur()}})(),ot&&ot(Fe),St=!0},be=()=>{Ue=!1,lt=!1,Re=!1,St=!0,Ke.release()},Je=ze=>{const Nt=Ue,xt=St;if(be(),xt){if(ge(Fe,ze),Nt)return void(et&&et(Fe));Qe&&Qe(Fe)}},W=((ke,Ue,lt,St,Re)=>{let _e,le,at,ot,et,Qe,Pe,Oe=0;const J=we=>{Oe=Date.now()+2e3,Ue(we)&&(!le&&lt&&(le=te(ke,"touchmove",lt,Re)),at||(at=te(we.target,"touchend",Fe,Re)),ot||(ot=te(we.target,"touchcancel",Fe,Re)))},Xe=we=>{Oe>Date.now()||Ue(we)&&(!Qe&&lt&&(Qe=te(de(ke),"mousemove",lt,Re)),Pe||(Pe=te(de(ke),"mouseup",Ge,Re)))},Fe=we=>{Ke(),St&&St(we)},Ge=we=>{it(),St&&St(we)},Ke=()=>{le&&le(),at&&at(),ot&&ot(),le=at=ot=void 0},it=()=>{Qe&&Qe(),Pe&&Pe(),Qe=Pe=void 0},je=()=>{Ke(),it()},pt=(we=!0)=>{we?(_e||(_e=te(ke,"touchstart",J,Re)),et||(et=te(ke,"mousedown",Xe,Re))):(_e&&_e(),et&&et(),_e=et=void 0,je())};return{enable:pt,stop:je,destroy:()=>{pt(!1),St=lt=Ue=void 0}}})(_e.el,ze=>{const Nt=pe(ze);return!(lt||!St||(fe(ze,Fe),Fe.startX=Fe.currentX,Fe.startY=Fe.currentY,Fe.startTime=Fe.currentTime=Nt,Fe.velocityX=Fe.velocityY=Fe.deltaX=Fe.deltaY=0,Fe.event=ze,le&&!1===le(Fe))||(Ke.release(),!Ke.start()))&&(lt=!0,0===Oe?tt():(Ge.start(Fe.startX,Fe.startY),!0))},ze=>{Ue?!Re&&St&&(Re=!0,ge(Fe,ze),requestAnimationFrame(pt)):(ge(Fe,ze),Ge.detect(Fe.currentX,Fe.currentY)&&(!Ge.isGesture()||!tt())&&nt())},Je,{capture:!1,passive:J}),nt=()=>{be(),W.stop(),Qe&&Qe(Fe)};return{enable(ze=!0){ze||(Ue&&Je(void 0),be()),W.enable(ze)},destroy(){Ke.destroy(),W.destroy()}}},ge=(ke,Ue)=>{if(!Ue)return;const lt=ke.currentX,St=ke.currentY,Re=ke.currentTime;fe(Ue,ke);const _e=ke.currentX,le=ke.currentY,ot=(ke.currentTime=pe(Ue))-Re;if(ot>0&&ot<100){const Qe=(le-St)/ot;ke.velocityX=(_e-lt)/ot*.7+.3*ke.velocityX,ke.velocityY=.7*Qe+.3*ke.velocityY}ke.deltaX=_e-ke.startX,ke.deltaY=le-ke.startY,ke.event=Ue},fe=(ke,Ue)=>{let lt=0,St=0;if(ke){const Re=ke.changedTouches;if(Re&&Re.length>0){const _e=Re[0];lt=_e.clientX,St=_e.clientY}else void 0!==ke.pageX&&(lt=ke.pageX,St=ke.pageY)}Ue.currentX=lt,Ue.currentY=St},pe=ke=>ke.timeStamp||Date.now()},1308:(cn,gt,$)=>{"use strict";$.d(gt,{B:()=>zr,H:()=>Fn,a:()=>nt,b:()=>ki,c:()=>xi,e:()=>jn,f:()=>di,g:()=>ze,h:()=>Tn,i:()=>ir,j:()=>Vr,k:()=>Ki,p:()=>St,r:()=>xr,s:()=>Ue});var a=$(5861);let z,Se,Me,Te=!1,de=!1,Ae=!1,Ve=!1,ge=!1;const fe=typeof window<"u"?window:{},pe=fe.document||{head:{}},ke={$flags$:0,$resourcesUrl$:"",jmp:ne=>ne(),raf:ne=>requestAnimationFrame(ne),ael:(ne,he,Ne,ut)=>ne.addEventListener(he,Ne,ut),rel:(ne,he,Ne,ut)=>ne.removeEventListener(he,Ne,ut),ce:(ne,he)=>new CustomEvent(ne,he)},Ue=ne=>{Object.assign(ke,ne)},St=ne=>Promise.resolve(ne),Re=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(ne){}return!1})(),_e=(ne,he,Ne,ut)=>{Ne&&Ne.map(([bt,ce,Ye])=>{const dt=at(ne,bt),wt=le(he,Ye),Ft=ot(bt);ke.ael(dt,ce,wt,Ft),(he.$rmListeners$=he.$rmListeners$||[]).push(()=>ke.rel(dt,ce,wt,Ft))})},le=(ne,he)=>Ne=>{try{256&ne.$flags$?ne.$lazyInstance$[he](Ne):(ne.$queuedListeners$=ne.$queuedListeners$||[]).push([he,Ne])}catch(ut){Zn(ut)}},at=(ne,he)=>4&he?pe:8&he?fe:16&he?pe.body:ne,ot=ne=>0!=(2&ne),J="s-id",Xe="sty-id",Ke="http://www.w3.org/1999/xlink",pt=new WeakMap,tt=(ne,he,Ne)=>{let ut=mi.get(ne);Re&&Ne?(ut=ut||new CSSStyleSheet,"string"==typeof ut?ut=he:ut.replaceSync(he)):ut=he,mi.set(ne,ut)},we=(ne,he,Ne,ut)=>{let bt=be(he,Ne);const ce=mi.get(bt);if(ne=11===ne.nodeType?ne:pe,ce)if("string"==typeof ce){let dt,Ye=pt.get(ne=ne.head||ne);Ye||pt.set(ne,Ye=new Set),Ye.has(bt)||(ne.host&&(dt=ne.querySelector(`[${Xe}="${bt}"]`))?dt.innerHTML=ce:(dt=pe.createElement("style"),dt.innerHTML=ce,ne.insertBefore(dt,ne.querySelector("link"))),Ye&&Ye.add(bt))}else ne.adoptedStyleSheets.includes(ce)||(ne.adoptedStyleSheets=[...ne.adoptedStyleSheets,ce]);return bt},be=(ne,he)=>"sc-"+(he&&32&ne.$flags$?ne.$tagName$+"-"+he:ne.$tagName$),Je=ne=>ne.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nt=ne=>si.push(ne),ze=ne=>Ei(ne).$modeName$,Nt={},Rt=ne=>"object"==(ne=typeof ne)||"function"===ne,Tn=(ne,he,...Ne)=>{let ut=null,bt=null,ce=null,Ye=!1,dt=!1;const wt=[],Ft=Dn=>{for(let Bn=0;Bn<Dn.length;Bn++)ut=Dn[Bn],Array.isArray(ut)?Ft(ut):null!=ut&&"boolean"!=typeof ut&&((Ye="function"!=typeof ne&&!Rt(ut))&&(ut=String(ut)),Ye&&dt?wt[wt.length-1].$text$+=ut:wt.push(Ye?Sn(null,ut):ut),dt=Ye)};if(Ft(Ne),he){he.key&&(bt=he.key),he.name&&(ce=he.name);{const Dn=he.className||he.class;Dn&&(he.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(Bn=>Dn[Bn]).join(" "))}}if("function"==typeof ne)return ne(null===he?{}:he,wt,ar);const nn=Sn(ne,null);return nn.$attrs$=he,wt.length>0&&(nn.$children$=wt),nn.$key$=bt,nn.$name$=ce,nn},Sn=(ne,he)=>({$flags$:0,$tag$:ne,$text$:he,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Fn={},ar={forEach:(ne,he)=>ne.map(wr).forEach(he),map:(ne,he)=>ne.map(wr).map(he).map(Sr)},wr=ne=>({vattrs:ne.$attrs$,vchildren:ne.$children$,vkey:ne.$key$,vname:ne.$name$,vtag:ne.$tag$,vtext:ne.$text$}),Sr=ne=>{if("function"==typeof ne.vtag){const Ne=Object.assign({},ne.vattrs);return ne.vkey&&(Ne.key=ne.vkey),ne.vname&&(Ne.name=ne.vname),Tn(ne.vtag,Ne,...ne.vchildren||[])}const he=Sn(ne.vtag,ne.vtext);return he.$attrs$=ne.vattrs,he.$children$=ne.vchildren,he.$key$=ne.vkey,he.$name$=ne.vname,he},Cn=(ne,he,Ne,ut,bt,ce)=>{if(Ne!==ut){let Ye=Yi(ne,he),dt=he.toLowerCase();if("class"===he){const wt=ne.classList,Ft=Yt(Ne),nn=Yt(ut);wt.remove(...Ft.filter(Dn=>Dn&&!nn.includes(Dn))),wt.add(...nn.filter(Dn=>Dn&&!Ft.includes(Dn)))}else if("style"===he){for(const wt in Ne)(!ut||null==ut[wt])&&(wt.includes("-")?ne.style.removeProperty(wt):ne.style[wt]="");for(const wt in ut)(!Ne||ut[wt]!==Ne[wt])&&(wt.includes("-")?ne.style.setProperty(wt,ut[wt]):ne.style[wt]=ut[wt])}else if("key"!==he)if("ref"===he)ut&&ut(ne);else if(Ye||"o"!==he[0]||"n"!==he[1]){const wt=Rt(ut);if((Ye||wt&&null!==ut)&&!bt)try{if(ne.tagName.includes("-"))ne[he]=ut;else{const nn=null==ut?"":ut;"list"===he?Ye=!1:(null==Ne||ne[he]!=nn)&&(ne[he]=nn)}}catch(nn){}let Ft=!1;dt!==(dt=dt.replace(/^xlink\:?/,""))&&(he=dt,Ft=!0),null==ut||!1===ut?(!1!==ut||""===ne.getAttribute(he))&&(Ft?ne.removeAttributeNS(Ke,he):ne.removeAttribute(he)):(!Ye||4&ce||bt)&&!wt&&(ut=!0===ut?"":ut,Ft?ne.setAttributeNS(Ke,he,ut):ne.setAttribute(he,ut))}else he="-"===he[2]?he.slice(3):Yi(fe,dt)?dt.slice(2):dt[2]+he.slice(3),Ne&&ke.rel(ne,he,Ne,!1),ut&&ke.ael(ne,he,ut,!1)}},lr=/\s/,Yt=ne=>ne?ne.split(lr):[],dr=(ne,he,Ne,ut)=>{const bt=11===he.$elm$.nodeType&&he.$elm$.host?he.$elm$.host:he.$elm$,ce=ne&&ne.$attrs$||Nt,Ye=he.$attrs$||Nt;for(ut in ce)ut in Ye||Cn(bt,ut,ce[ut],void 0,Ne,he.$flags$);for(ut in Ye)Cn(bt,ut,ce[ut],Ye[ut],Ne,he.$flags$)},Pr=(ne,he,Ne,ut)=>{const bt=he.$children$[Ne];let Ye,dt,wt,ce=0;if(Te||(Ae=!0,"slot"===bt.$tag$&&(z&&ut.classList.add(z+"-s"),bt.$flags$|=bt.$children$?2:1)),null!==bt.$text$)Ye=bt.$elm$=pe.createTextNode(bt.$text$);else if(1&bt.$flags$)Ye=bt.$elm$=pe.createTextNode("");else{if(Ve||(Ve="svg"===bt.$tag$),Ye=bt.$elm$=pe.createElementNS(Ve?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&bt.$flags$?"slot-fb":bt.$tag$),Ve&&"foreignObject"===bt.$tag$&&(Ve=!1),dr(null,bt,Ve),(ne=>null!=ne)(z)&&Ye["s-si"]!==z&&Ye.classList.add(Ye["s-si"]=z),bt.$children$)for(ce=0;ce<bt.$children$.length;++ce)dt=Pr(ne,bt,ce,Ye),dt&&Ye.appendChild(dt);"svg"===bt.$tag$?Ve=!1:"foreignObject"===Ye.tagName&&(Ve=!0)}return Ye["s-hn"]=Me,3&bt.$flags$&&(Ye["s-sr"]=!0,Ye["s-cr"]=Se,Ye["s-sn"]=bt.$name$||"",wt=ne&&ne.$children$&&ne.$children$[Ne],wt&&wt.$tag$===bt.$tag$&&ne.$elm$&&$r(ne.$elm$,!1)),Ye},$r=(ne,he)=>{ke.$flags$|=1;const Ne=ne.childNodes;for(let ut=Ne.length-1;ut>=0;ut--){const bt=Ne[ut];bt["s-hn"]!==Me&&bt["s-ol"]&&(ri(bt).insertBefore(bt,bn(bt)),bt["s-ol"].remove(),bt["s-ol"]=void 0,Ae=!0),he&&$r(bt,he)}ke.$flags$&=-2},Yr=(ne,he,Ne,ut,bt,ce)=>{let dt,Ye=ne["s-cr"]&&ne["s-cr"].parentNode||ne;for(Ye.shadowRoot&&Ye.tagName===Me&&(Ye=Ye.shadowRoot);bt<=ce;++bt)ut[bt]&&(dt=Pr(null,Ne,bt,ne),dt&&(ut[bt].$elm$=dt,Ye.insertBefore(dt,bn(he))))},qn=(ne,he,Ne,ut,bt)=>{for(;he<=Ne;++he)(ut=ne[he])&&(bt=ut.$elm$,Cr(ut),de=!0,bt["s-ol"]?bt["s-ol"].remove():$r(bt,!0),bt.remove())},vn=(ne,he)=>ne.$tag$===he.$tag$&&("slot"===ne.$tag$?ne.$name$===he.$name$:ne.$key$===he.$key$),bn=ne=>ne&&ne["s-ol"]||ne,ri=ne=>(ne["s-ol"]?ne["s-ol"]:ne).parentNode,pn=(ne,he)=>{const Ne=he.$elm$=ne.$elm$,ut=ne.$children$,bt=he.$children$,ce=he.$tag$,Ye=he.$text$;let dt;null===Ye?(Ve="svg"===ce||"foreignObject"!==ce&&Ve,"slot"===ce||dr(ne,he,Ve),null!==ut&&null!==bt?((ne,he,Ne,ut)=>{let yi,rt,bt=0,ce=0,Ye=0,dt=0,wt=he.length-1,Ft=he[0],nn=he[wt],Dn=ut.length-1,Bn=ut[0],Kn=ut[Dn];for(;bt<=wt&&ce<=Dn;)if(null==Ft)Ft=he[++bt];else if(null==nn)nn=he[--wt];else if(null==Bn)Bn=ut[++ce];else if(null==Kn)Kn=ut[--Dn];else if(vn(Ft,Bn))pn(Ft,Bn),Ft=he[++bt],Bn=ut[++ce];else if(vn(nn,Kn))pn(nn,Kn),nn=he[--wt],Kn=ut[--Dn];else if(vn(Ft,Kn))("slot"===Ft.$tag$||"slot"===Kn.$tag$)&&$r(Ft.$elm$.parentNode,!1),pn(Ft,Kn),ne.insertBefore(Ft.$elm$,nn.$elm$.nextSibling),Ft=he[++bt],Kn=ut[--Dn];else if(vn(nn,Bn))("slot"===Ft.$tag$||"slot"===Kn.$tag$)&&$r(nn.$elm$.parentNode,!1),pn(nn,Bn),ne.insertBefore(nn.$elm$,Ft.$elm$),nn=he[--wt],Bn=ut[++ce];else{for(Ye=-1,dt=bt;dt<=wt;++dt)if(he[dt]&&null!==he[dt].$key$&&he[dt].$key$===Bn.$key$){Ye=dt;break}Ye>=0?(rt=he[Ye],rt.$tag$!==Bn.$tag$?yi=Pr(he&&he[ce],Ne,Ye,ne):(pn(rt,Bn),he[Ye]=void 0,yi=rt.$elm$),Bn=ut[++ce]):(yi=Pr(he&&he[ce],Ne,ce,ne),Bn=ut[++ce]),yi&&ri(Ft.$elm$).insertBefore(yi,bn(Ft.$elm$))}bt>wt?Yr(ne,null==ut[Dn+1]?null:ut[Dn+1].$elm$,Ne,ut,ce,Dn):ce>Dn&&qn(he,bt,wt)})(Ne,ut,he,bt):null!==bt?(null!==ne.$text$&&(Ne.textContent=""),Yr(Ne,null,he,bt,0,bt.length-1)):null!==ut&&qn(ut,0,ut.length-1),Ve&&"svg"===ce&&(Ve=!1)):(dt=Ne["s-cr"])?dt.parentNode.textContent=Ye:ne.$text$!==Ye&&(Ne.data=Ye)},Ar=ne=>{const he=ne.childNodes;let Ne,ut,bt,ce,Ye,dt;for(ut=0,bt=he.length;ut<bt;ut++)if(Ne=he[ut],1===Ne.nodeType){if(Ne["s-sr"])for(Ye=Ne["s-sn"],Ne.hidden=!1,ce=0;ce<bt;ce++)if(dt=he[ce].nodeType,he[ce]["s-hn"]!==Ne["s-hn"]||""!==Ye){if(1===dt&&Ye===he[ce].getAttribute("slot")){Ne.hidden=!0;break}}else if(1===dt||3===dt&&""!==he[ce].textContent.trim()){Ne.hidden=!0;break}Ar(Ne)}},Gt=[],ii=ne=>{let he,Ne,ut,bt,ce,Ye,dt=0;const wt=ne.childNodes,Ft=wt.length;for(;dt<Ft;dt++){if(he=wt[dt],he["s-sr"]&&(Ne=he["s-cr"])&&Ne.parentNode)for(ut=Ne.parentNode.childNodes,bt=he["s-sn"],Ye=ut.length-1;Ye>=0;Ye--)Ne=ut[Ye],!Ne["s-cn"]&&!Ne["s-nr"]&&Ne["s-hn"]!==he["s-hn"]&&(Ni(Ne,bt)?(ce=Gt.find(nn=>nn.$nodeToRelocate$===Ne),de=!0,Ne["s-sn"]=Ne["s-sn"]||bt,ce?ce.$slotRefNode$=he:Gt.push({$slotRefNode$:he,$nodeToRelocate$:Ne}),Ne["s-sr"]&&Gt.map(nn=>{Ni(nn.$nodeToRelocate$,Ne["s-sn"])&&(ce=Gt.find(Dn=>Dn.$nodeToRelocate$===Ne),ce&&!nn.$slotRefNode$&&(nn.$slotRefNode$=ce.$slotRefNode$))})):Gt.some(nn=>nn.$nodeToRelocate$===Ne)||Gt.push({$nodeToRelocate$:Ne}));1===he.nodeType&&ii(he)}},Ni=(ne,he)=>1===ne.nodeType?null===ne.getAttribute("slot")&&""===he||ne.getAttribute("slot")===he:ne["s-sn"]===he||""===he,Cr=ne=>{ne.$attrs$&&ne.$attrs$.ref&&ne.$attrs$.ref(null),ne.$children$&&ne.$children$.map(Cr)},ir=ne=>Ei(ne).$hostElement$,jn=(ne,he,Ne)=>{const ut=ir(ne);return{emit:bt=>hi(ut,he,{bubbles:!!(4&Ne),composed:!!(2&Ne),cancelable:!!(1&Ne),detail:bt})}},hi=(ne,he,Ne)=>{const ut=ke.ce(he,Ne);return ne.dispatchEvent(ut),ut},an=(ne,he)=>{he&&!ne.$onRenderResolve$&&he["s-p"]&&he["s-p"].push(new Promise(Ne=>ne.$onRenderResolve$=Ne))},$t=(ne,he)=>{if(ne.$flags$|=16,!(4&ne.$flags$))return an(ne,ne.$ancestorComponent$),xi(()=>yn(ne,he));ne.$flags$|=512},yn=(ne,he)=>{const ut=ne.$lazyInstance$;let bt;return he&&(ne.$flags$|=256,ne.$queuedListeners$&&(ne.$queuedListeners$.map(([ce,Ye])=>Ie(ut,ce,Ye)),ne.$queuedListeners$=null),bt=Ie(ut,"componentWillLoad")),bt=We(bt,()=>Ie(ut,"componentWillRender")),We(bt,()=>Nn(ne,ut,he))},Nn=function(){var ne=(0,a.Z)(function*(he,Ne,ut){const bt=he.$hostElement$,Ye=bt["s-rc"];ut&&(ne=>{const he=ne.$cmpMeta$,Ne=ne.$hostElement$,ut=he.$flags$,ce=we(Ne.shadowRoot?Ne.shadowRoot:Ne.getRootNode(),he,ne.$modeName$);10&ut&&(Ne["s-sc"]=ce,Ne.classList.add(ce+"-h"),2&ut&&Ne.classList.add(ce+"-s"))})(he);Ln(he,Ne),Ye&&(Ye.map(wt=>wt()),bt["s-rc"]=void 0);{const wt=bt["s-p"],Ft=()=>Rn(he);0===wt.length?Ft():(Promise.all(wt).then(Ft),he.$flags$|=4,wt.length=0)}});return function(Ne,ut,bt){return ne.apply(this,arguments)}}(),Ln=(ne,he,Ne)=>{try{he=he.render&&he.render(),ne.$flags$&=-17,ne.$flags$|=2,((ne,he)=>{const Ne=ne.$hostElement$,ut=ne.$cmpMeta$,bt=ne.$vnode$||Sn(null,null),ce=(ne=>ne&&ne.$tag$===Fn)(he)?he:Tn(null,null,he);if(Me=Ne.tagName,ut.$attrsToReflect$&&(ce.$attrs$=ce.$attrs$||{},ut.$attrsToReflect$.map(([Ye,dt])=>ce.$attrs$[dt]=Ne[Ye])),ce.$tag$=null,ce.$flags$|=4,ne.$vnode$=ce,ce.$elm$=bt.$elm$=Ne.shadowRoot||Ne,z=Ne["s-sc"],Se=Ne["s-cr"],Te=0!=(1&ut.$flags$),de=!1,pn(bt,ce),ke.$flags$|=1,Ae){ii(ce.$elm$);let Ye,dt,wt,Ft,nn,Dn,Bn=0;for(;Bn<Gt.length;Bn++)Ye=Gt[Bn],dt=Ye.$nodeToRelocate$,dt["s-ol"]||(wt=pe.createTextNode(""),wt["s-nr"]=dt,dt.parentNode.insertBefore(dt["s-ol"]=wt,dt));for(Bn=0;Bn<Gt.length;Bn++)if(Ye=Gt[Bn],dt=Ye.$nodeToRelocate$,Ye.$slotRefNode$){for(Ft=Ye.$slotRefNode$.parentNode,nn=Ye.$slotRefNode$.nextSibling,wt=dt["s-ol"];wt=wt.previousSibling;)if(Dn=wt["s-nr"],Dn&&Dn["s-sn"]===dt["s-sn"]&&Ft===Dn.parentNode&&(Dn=Dn.nextSibling,!Dn||!Dn["s-nr"])){nn=Dn;break}(!nn&&Ft!==dt.parentNode||dt.nextSibling!==nn)&&dt!==nn&&(!dt["s-hn"]&&dt["s-ol"]&&(dt["s-hn"]=dt["s-ol"].parentNode.nodeName),Ft.insertBefore(dt,nn))}else 1===dt.nodeType&&(dt.hidden=!0)}de&&Ar(ce.$elm$),ke.$flags$&=-2,Gt.length=0})(ne,he)}catch(ut){Zn(ut,ne.$hostElement$)}return null},Rn=ne=>{const Ne=ne.$hostElement$,bt=ne.$lazyInstance$,ce=ne.$ancestorComponent$;Ie(bt,"componentDidRender"),64&ne.$flags$?Ie(bt,"componentDidUpdate"):(ne.$flags$|=64,Mt(Ne),Ie(bt,"componentDidLoad"),ne.$onReadyResolve$(Ne),ce||xe()),ne.$onInstanceResolve$(Ne),ne.$onRenderResolve$&&(ne.$onRenderResolve$(),ne.$onRenderResolve$=void 0),512&ne.$flags$&&Ai(()=>$t(ne,!1)),ne.$flags$&=-517},Vr=ne=>{{const he=Ei(ne),Ne=he.$hostElement$.isConnected;return Ne&&2==(18&he.$flags$)&&$t(he,!1),Ne}},xe=ne=>{Mt(pe.documentElement),Ai(()=>hi(fe,"appload",{detail:{namespace:"ionic"}}))},Ie=(ne,he,Ne)=>{if(ne&&ne[he])try{return ne[he](Ne)}catch(ut){Zn(ut)}},We=(ne,he)=>ne&&ne.then?ne.then(he):he(),Mt=ne=>ne.classList.add("hydrated"),hn=(ne,he,Ne,ut,bt,ce,Ye)=>{let dt,wt,Ft,nn;if(1===ce.nodeType){for(dt=ce.getAttribute("c-id"),dt&&(wt=dt.split("."),(wt[0]===Ye||"0"===wt[0])&&(Ft={$flags$:0,$hostId$:wt[0],$nodeId$:wt[1],$depth$:wt[2],$index$:wt[3],$tag$:ce.tagName.toLowerCase(),$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},he.push(Ft),ce.removeAttribute("c-id"),ne.$children$||(ne.$children$=[]),ne.$children$[Ft.$index$]=Ft,ne=Ft,ut&&"0"===Ft.$depth$&&(ut[Ft.$index$]=Ft.$elm$))),nn=ce.childNodes.length-1;nn>=0;nn--)hn(ne,he,Ne,ut,bt,ce.childNodes[nn],Ye);if(ce.shadowRoot)for(nn=ce.shadowRoot.childNodes.length-1;nn>=0;nn--)hn(ne,he,Ne,ut,bt,ce.shadowRoot.childNodes[nn],Ye)}else if(8===ce.nodeType)wt=ce.nodeValue.split("."),(wt[1]===Ye||"0"===wt[1])&&(dt=wt[0],Ft={$flags$:0,$hostId$:wt[1],$nodeId$:wt[2],$depth$:wt[3],$index$:wt[4],$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===dt?(Ft.$elm$=ce.nextSibling,Ft.$elm$&&3===Ft.$elm$.nodeType&&(Ft.$text$=Ft.$elm$.textContent,he.push(Ft),ce.remove(),ne.$children$||(ne.$children$=[]),ne.$children$[Ft.$index$]=Ft,ut&&"0"===Ft.$depth$&&(ut[Ft.$index$]=Ft.$elm$))):Ft.$hostId$===Ye&&("s"===dt?(Ft.$tag$="slot",ce["s-sn"]=wt[5]?Ft.$name$=wt[5]:"",ce["s-sr"]=!0,ut&&(Ft.$elm$=pe.createElement(Ft.$tag$),Ft.$name$&&Ft.$elm$.setAttribute("name",Ft.$name$),ce.parentNode.insertBefore(Ft.$elm$,ce),ce.remove(),"0"===Ft.$depth$&&(ut[Ft.$index$]=Ft.$elm$)),Ne.push(Ft),ne.$children$||(ne.$children$=[]),ne.$children$[Ft.$index$]=Ft):"r"===dt&&(ut?ce.remove():(bt["s-cr"]=ce,ce["s-cn"]=!0))));else if(ne&&"style"===ne.$tag$){const Dn=Sn(null,ce.textContent);Dn.$elm$=ce,Dn.$index$="0",ne.$children$=[Dn]}},Le=(ne,he)=>{if(1===ne.nodeType){let Ne=0;for(;Ne<ne.childNodes.length;Ne++)Le(ne.childNodes[Ne],he);if(ne.shadowRoot)for(Ne=0;Ne<ne.shadowRoot.childNodes.length;Ne++)Le(ne.shadowRoot.childNodes[Ne],he)}else if(8===ne.nodeType){const Ne=ne.nodeValue.split(".");"o"===Ne[0]&&(he.set(Ne[1]+"."+Ne[2],ne),ne.nodeValue="",ne["s-en"]=Ne[3])}},Ot=(ne,he,Ne)=>{if(he.$members$){ne.watchers&&(he.$watchers$=ne.watchers);const ut=Object.entries(he.$members$),bt=ne.prototype;if(ut.map(([ce,[Ye]])=>{31&Ye||2&Ne&&32&Ye?Object.defineProperty(bt,ce,{get(){return((ne,he)=>Ei(this).$instanceValues$.get(he))(0,ce)},set(dt){((ne,he,Ne,ut)=>{const bt=Ei(ne),ce=bt.$hostElement$,Ye=bt.$instanceValues$.get(he),dt=bt.$flags$,wt=bt.$lazyInstance$;Ne=((ne,he)=>null==ne||Rt(ne)?ne:4&he?"false"!==ne&&(""===ne||!!ne):2&he?parseFloat(ne):1&he?String(ne):ne)(Ne,ut.$members$[he][0]);const Ft=Number.isNaN(Ye)&&Number.isNaN(Ne);if((!(8&dt)||void 0===Ye)&&Ne!==Ye&&!Ft&&(bt.$instanceValues$.set(he,Ne),wt)){if(ut.$watchers$&&128&dt){const Dn=ut.$watchers$[he];Dn&&Dn.map(Bn=>{try{wt[Bn](Ne,Ye,he)}catch(Kn){Zn(Kn,ce)}})}2==(18&dt)&&$t(bt,!1)}})(this,ce,dt,he)},configurable:!0,enumerable:!0}):1&Ne&&64&Ye&&Object.defineProperty(bt,ce,{value(...dt){const wt=Ei(this);return wt.$onInstancePromise$.then(()=>wt.$lazyInstance$[ce](...dt))}})}),1&Ne){const ce=new Map;bt.attributeChangedCallback=function(Ye,dt,wt){ke.jmp(()=>{const Ft=ce.get(Ye);if(this.hasOwnProperty(Ft))wt=this[Ft],delete this[Ft];else if(bt.hasOwnProperty(Ft)&&"number"==typeof this[Ft]&&this[Ft]==wt)return;this[Ft]=(null!==wt||"boolean"!=typeof this[Ft])&&wt})},ne.observedAttributes=ut.filter(([Ye,dt])=>15&dt[0]).map(([Ye,dt])=>{const wt=dt[1]||Ye;return ce.set(wt,Ye),512&dt[0]&&he.$attrsToReflect$.push([Ye,wt]),wt})}}return ne},Ht=function(){var ne=(0,a.Z)(function*(he,Ne,ut,bt,ce){if(!(32&Ne.$flags$)){{if(Ne.$flags$|=32,(ce=Nr(ut)).then){const Ft=()=>{};ce=yield ce,Ft()}ce.isProxied||(ut.$watchers$=ce.watchers,Ot(ce,ut,2),ce.isProxied=!0);const wt=()=>{};Ne.$flags$|=8;try{new ce(Ne)}catch(Ft){Zn(Ft)}Ne.$flags$&=-9,Ne.$flags$|=128,wt(),xn(Ne.$lazyInstance$)}if(ce.style){let wt=ce.style;"string"!=typeof wt&&(wt=wt[Ne.$modeName$=(ne=>si.map(he=>he(ne)).find(he=>!!he))(he)]);const Ft=be(ut,Ne.$modeName$);if(!mi.has(Ft)){const nn=()=>{};tt(Ft,wt,!!(1&ut.$flags$)),nn()}}}const Ye=Ne.$ancestorComponent$,dt=()=>$t(Ne,!0);Ye&&Ye["s-rc"]?Ye["s-rc"].push(dt):dt()});return function(Ne,ut,bt,ce,Ye){return ne.apply(this,arguments)}}(),xn=ne=>{Ie(ne,"connectedCallback")},pr=ne=>{const he=ne["s-cr"]=pe.createComment("");he["s-cn"]=!0,ne.insertBefore(he,ne.firstChild)},ki=(ne,he={})=>{const ut=[],bt=he.exclude||[],ce=fe.customElements,Ye=pe.head,dt=Ye.querySelector("meta[charset]"),wt=pe.createElement("style"),Ft=[],nn=pe.querySelectorAll(`[${Xe}]`);let Dn,Bn=!0,Kn=0;for(Object.assign(ke,he),ke.$resourcesUrl$=new URL(he.resourcesUrl||"./",pe.baseURI).href,ke.$flags$|=2;Kn<nn.length;Kn++)tt(nn[Kn].getAttribute(Xe),Je(nn[Kn].innerHTML),!0);ne.map(yi=>{yi[1].map(rt=>{const qe={$flags$:rt[0],$tagName$:rt[1],$members$:rt[2],$listeners$:rt[3]};qe.$members$=rt[2],qe.$listeners$=rt[3],qe.$attrsToReflect$=[],qe.$watchers$={};const mt=qe.$tagName$,Ut=class extends HTMLElement{constructor(rn){super(rn),is(rn=this,qe),1&qe.$flags$&&rn.attachShadow({mode:"open",delegatesFocus:!!(16&qe.$flags$)})}connectedCallback(){Dn&&(clearTimeout(Dn),Dn=null),Bn?Ft.push(this):ke.jmp(()=>(ne=>{if(!(1&ke.$flags$)){const he=Ei(ne),Ne=he.$cmpMeta$,ut=()=>{};if(1&he.$flags$)_e(ne,he,Ne.$listeners$),xn(he.$lazyInstance$);else{let bt;if(he.$flags$|=1,bt=ne.getAttribute(J),bt){if(1&Ne.$flags$){const ce=we(ne.shadowRoot,Ne,ne.getAttribute("s-mode"));ne.classList.remove(ce+"-h",ce+"-s")}((ne,he,Ne,ut)=>{const ce=ne.shadowRoot,Ye=[],wt=ce?[]:null,Ft=ut.$vnode$=Sn(he,null);ke.$orgLocNodes$||Le(pe.body,ke.$orgLocNodes$=new Map),ne[J]=Ne,ne.removeAttribute(J),hn(Ft,Ye,[],wt,ne,ne,Ne),Ye.map(nn=>{const Dn=nn.$hostId$+"."+nn.$nodeId$,Bn=ke.$orgLocNodes$.get(Dn),Kn=nn.$elm$;Bn&&""===Bn["s-en"]&&Bn.parentNode.insertBefore(Kn,Bn.nextSibling),ce||(Kn["s-hn"]=he,Bn&&(Kn["s-ol"]=Bn,Kn["s-ol"]["s-nr"]=Kn)),ke.$orgLocNodes$.delete(Dn)}),ce&&wt.map(nn=>{nn&&ce.appendChild(nn)})})(ne,Ne.$tagName$,bt,he)}bt||12&Ne.$flags$&&pr(ne);{let ce=ne;for(;ce=ce.parentNode||ce.host;)if(1===ce.nodeType&&ce.hasAttribute("s-id")&&ce["s-p"]||ce["s-p"]){an(he,he.$ancestorComponent$=ce);break}}Ne.$members$&&Object.entries(Ne.$members$).map(([ce,[Ye]])=>{if(31&Ye&&ne.hasOwnProperty(ce)){const dt=ne[ce];delete ne[ce],ne[ce]=dt}}),Ai(()=>Ht(ne,he,Ne))}ut()}})(this))}disconnectedCallback(){ke.jmp(()=>(ne=>{if(!(1&ke.$flags$)){const he=Ei(this),Ne=he.$lazyInstance$;he.$rmListeners$&&(he.$rmListeners$.map(ut=>ut()),he.$rmListeners$=void 0),Ie(Ne,"disconnectedCallback")}})())}componentOnReady(){return Ei(this).$onReadyPromise$}};qe.$lazyBundleId$=yi[0],!bt.includes(mt)&&!ce.get(mt)&&(ut.push(mt),ce.define(mt,Ot(Ut,qe,1)))})}),wt.innerHTML=ut+"{visibility:hidden}.hydrated{visibility:inherit}",wt.setAttribute("data-styles",""),Ye.insertBefore(wt,dt?dt.nextSibling:Ye.firstChild),Bn=!1,Ft.length?Ft.map(yi=>yi.connectedCallback()):ke.jmp(()=>Dn=setTimeout(xe,30))},Ki=ne=>{const he=new URL(ne,ke.$resourcesUrl$);return he.origin!==fe.location.origin?he.href:he.pathname},fi=new WeakMap,Ei=ne=>fi.get(ne),xr=(ne,he)=>fi.set(he.$lazyInstance$=ne,he),is=(ne,he)=>{const Ne={$flags$:0,$hostElement$:ne,$cmpMeta$:he,$instanceValues$:new Map};return Ne.$onInstancePromise$=new Promise(ut=>Ne.$onInstanceResolve$=ut),Ne.$onReadyPromise$=new Promise(ut=>Ne.$onReadyResolve$=ut),ne["s-p"]=[],ne["s-rc"]=[],_e(ne,Ne,he.$listeners$),fi.set(ne,Ne)},Yi=(ne,he)=>he in ne,Zn=(ne,he)=>(0,console.error)(ne,he),Xr=new Map,Nr=(ne,he,Ne)=>{const ut=ne.$tagName$.replace(/-/g,"_"),bt=ne.$lazyBundleId$,ce=Xr.get(bt);return ce?ce[ut]:$(863)(`./${bt}.entry.js`).then(Ye=>(Xr.set(bt,Ye),Ye[ut]),Zn)},mi=new Map,si=[],Mr=[],fn=[],Qn=(ne,he)=>Ne=>{ne.push(Ne),ge||(ge=!0,he&&4&ke.$flags$?Ai(Jr):ke.raf(Jr))},Hr=ne=>{for(let he=0;he<ne.length;he++)try{ne[he](performance.now())}catch(Ne){Zn(Ne)}ne.length=0},Jr=()=>{Hr(Mr),Hr(fn),(ge=Mr.length>0)&&ke.raf(Jr)},Ai=ne=>St().then(ne),di=Qn(Mr,!1),xi=Qn(fn,!0),zr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(cn,gt,$)=>{"use strict";$.d(gt,{a:()=>fe,b:()=>pt,c:()=>z,g:()=>ge,i:()=>tt});var a=$(1308);class te{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,be){const Je=this.m.get(Ee);return void 0!==Je?Je:be}getBoolean(Ee,be=!1){const Je=this.m.get(Ee);return void 0===Je?be:"string"==typeof Je?"true"===Je:!!Je}getNumber(Ee,be){const Je=parseFloat(this.m.get(Ee));return isNaN(Je)?void 0!==be?be:NaN:Je}set(Ee,be){this.m.set(Ee,be)}}const z=new te,Ve="ionic-persist-config",ge=we=>pe(we),fe=(we,Ee)=>("string"==typeof we&&(Ee=we,we=void 0),ge(we).includes(Ee)),pe=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let Ee=we.Ionic.platforms;return null==Ee&&(Ee=we.Ionic.platforms=ke(we),Ee.forEach(be=>we.document.documentElement.classList.add(`plt-${be}`))),Ee},ke=we=>{const Ee=z.get("platform");return Object.keys(it).filter(be=>{const Je=null==Ee?void 0:Ee[be];return"function"==typeof Je?Je(we):it[be](we)})},lt=we=>!!(Ge(we,/iPad/i)||Ge(we,/Macintosh/i)&&et(we)),_e=we=>Ge(we,/android|sink/i),et=we=>Ke(we,"(any-pointer:coarse)"),Pe=we=>Oe(we)||J(we),Oe=we=>!!(we.cordova||we.phonegap||we.PhoneGap),J=we=>{const Ee=we.Capacitor;return!(null==Ee||!Ee.isNative)},Ge=(we,Ee)=>Ee.test(we.navigator.userAgent),Ke=(we,Ee)=>{var be;return null===(be=we.matchMedia)||void 0===be?void 0:be.call(we,Ee).matches},it={ipad:lt,iphone:we=>Ge(we,/iPhone/i),ios:we=>Ge(we,/iPhone|iPod/i)||lt(we),android:_e,phablet:we=>{const Ee=we.innerWidth,be=we.innerHeight,Je=Math.min(Ee,be),W=Math.max(Ee,be);return Je>390&&Je<520&&W>620&&W<800},tablet:we=>{const Ee=we.innerWidth,be=we.innerHeight,Je=Math.min(Ee,be),W=Math.max(Ee,be);return lt(we)||(we=>_e(we)&&!Ge(we,/mobile/i))(we)||Je>460&&Je<820&&W>780&&W<1400},cordova:Oe,capacitor:J,electron:we=>Ge(we,/electron/i),pwa:we=>{var Ee;return!!(null!==(Ee=we.matchMedia)&&void 0!==Ee&&Ee.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:et,mobileweb:we=>et(we)&&!Pe(we),desktop:we=>!et(we),hybrid:Pe};let je;const pt=we=>we&&(0,a.g)(we)||je,tt=(we={})=>{if(typeof window>"u")return;const Ee=window.document,be=window,Je=be.Ionic=be.Ionic||{},W={};we._ael&&(W.ael=we._ael),we._rel&&(W.rel=we._rel),we._ce&&(W.ce=we._ce),(0,a.s)(W);const nt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(we=>{try{const Ee=we.sessionStorage.getItem(Ve);return null!==Ee?JSON.parse(Ee):{}}catch(Ee){return{}}})(be)),{persistConfig:!1}),Je.config),(we=>{const Ee={};return we.location.search.slice(1).split("&").map(be=>be.split("=")).map(([be,Je])=>[decodeURIComponent(be),decodeURIComponent(Je)]).filter(([be])=>((we,Ee)=>we.substr(0,Ee.length)===Ee)(be,"ionic:")).map(([be,Je])=>[be.slice("ionic:".length),Je]).forEach(([be,Je])=>{Ee[be]=Je}),Ee})(be)),we);z.reset(nt),z.getBoolean("persistConfig")&&((we,Ee)=>{try{we.sessionStorage.setItem(Ve,JSON.stringify(Ee))}catch(be){return}})(be,nt),pe(be),Je.config=z,Je.mode=je=z.get("mode",Ee.documentElement.getAttribute("mode")||(fe(be,"ios")?"ios":"md")),z.set("mode",je),Ee.documentElement.setAttribute("mode",je),Ee.documentElement.classList.add(je),z.getBoolean("_testing")&&z.set("animated",!1);const ze=xt=>{var Pt;return null===(Pt=xt.tagName)||void 0===Pt?void 0:Pt.startsWith("ION-")},Nt=xt=>["ios","md"].includes(xt);(0,a.a)(xt=>{for(;xt;){const Pt=xt.mode||xt.getAttribute("mode");if(Pt){if(Nt(Pt))return Pt;ze(xt)&&console.warn('Invalid ionic mode: "'+Pt+'", expected: "ios" or "md"')}xt=xt.parentElement}return je})}},6439:(cn,gt,$)=>{"use strict";$.r(gt),$.d(gt,{iosTransitionAnimation:()=>ke,shadow:()=>de});var a=$(181),te=$(1843);$(3457),$(1308);const Te=Ue=>document.querySelector(`${Ue}.ion-cloned-element`),de=Ue=>Ue.shadowRoot||Ue,Ae=Ue=>{const lt="ION-TABS"===Ue.tagName?Ue:Ue.querySelector("ion-tabs"),St="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=lt){const Re=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(St):null}return Ue.querySelector(St)},Ve=(Ue,lt)=>{const St="ION-TABS"===Ue.tagName?Ue:Ue.querySelector("ion-tabs");let Re=[];if(null!=St){const _e=St.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=_e&&(Re=_e.querySelectorAll("ion-buttons"))}else Re=Ue.querySelectorAll("ion-buttons");for(const _e of Re){const le=_e.closest("ion-header"),at=le&&!le.classList.contains("header-collapse-condense-inactive"),ot=_e.querySelector("ion-back-button"),et=_e.classList.contains("buttons-collapse");if(null!==ot&&("start"===_e.slot||""===_e.slot)&&(et&&at&&lt||!et))return ot}return null},fe=(Ue,lt,St,Re,_e,le)=>{const at=lt?`calc(100% - ${le.right+4}px)`:le.left-4+"px",ot=lt?"7px":"-7px",et=lt?"-4px":"4px",Qe=lt?"-4px":"4px",Pe=lt?"right":"left",Oe=lt?"left":"right",Fe=St?[{offset:0,opacity:1,transform:`translate3d(${et}, ${le.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ot}, ${_e.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ot}, ${_e.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${et}, ${le.top-46}px, 0) scale(1)`}],it=St?[{offset:0,opacity:1,transform:`translate3d(${Qe}, ${le.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Qe}, ${le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${le.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Qe}, ${le.top-46}px, 0) scale(1)`}],je=(0,a.c)(),pt=(0,a.c)(),tt=Te("ion-back-button"),we=de(tt).querySelector(".button-text"),Ee=de(tt).querySelector("ion-icon");tt.text=Re.text,tt.mode=Re.mode,tt.icon=Re.icon,tt.color=Re.color,tt.disabled=Re.disabled,tt.style.setProperty("display","block"),tt.style.setProperty("position","fixed"),pt.addElement(Ee),je.addElement(we),je.beforeStyles({"transform-origin":`${Pe} center`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),tt.style.setProperty(Pe,at)}).afterAddWrite(()=>{Re.style.setProperty("display",""),tt.style.setProperty("display","none"),tt.style.removeProperty(Pe)}).keyframes(Fe),pt.beforeStyles({"transform-origin":`${Oe} center`}).keyframes(it),Ue.addAnimation([je,pt])},pe=(Ue,lt,St,Re,_e,le)=>{const at=lt?`calc(100% - ${_e.right}px)`:`${_e.left}px`,ot=lt?"-18px":"18px",et=lt?"right":"left",Oe=St?[{offset:0,opacity:0,transform:`translate3d(${ot}, ${le.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${_e.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${_e.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ot}, ${le.top-4}px, 0) scale(0.5)`}],J=Te("ion-title"),Xe=(0,a.c)();J.innerText=Re.innerText,J.size=Re.size,J.color=Re.color,Xe.addElement(J),Xe.beforeStyles({"transform-origin":`${et} center`,height:"46px",display:"",position:"relative",[et]:at}).beforeAddWrite(()=>{Re.style.setProperty("display","none")}).afterAddWrite(()=>{Re.style.setProperty("display",""),J.style.setProperty("display","none")}).keyframes(Oe),Ue.addAnimation(Xe)},ke=(Ue,lt)=>{var St;try{const Re="cubic-bezier(0.32,0.72,0,1)",_e="opacity",le="transform",at="0%",et="rtl"===Ue.ownerDocument.dir,Qe=et?"-99.5%":"99.5%",Pe=et?"33%":"-33%",Oe=lt.enteringEl,J=lt.leavingEl,Xe="back"===lt.direction,Fe=Oe.querySelector(":scope > ion-content"),Ge=Oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ke=Oe.querySelectorAll(":scope > ion-header > ion-toolbar"),it=(0,a.c)(),je=(0,a.c)();if(it.addElement(Oe).duration((null!==(St=lt.duration)&&void 0!==St?St:0)||540).easing(lt.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),J&&null!=Ue){const Ee=(0,a.c)();Ee.addElement(Ue),it.addAnimation(Ee)}if(Fe||0!==Ke.length||0!==Ge.length?(je.addElement(Fe),je.addElement(Ge)):je.addElement(Oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),it.addAnimation(je),Xe?je.beforeClearStyles([_e]).fromTo("transform",`translateX(${Pe})`,`translateX(${at})`).fromTo(_e,.8,1):je.beforeClearStyles([_e]).fromTo("transform",`translateX(${Qe})`,`translateX(${at})`),Fe){const Ee=de(Fe).querySelector(".transition-effect");if(Ee){const be=Ee.querySelector(".transition-cover"),Je=Ee.querySelector(".transition-shadow"),W=(0,a.c)(),nt=(0,a.c)(),ze=(0,a.c)();W.addElement(Ee).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),nt.addElement(be).beforeClearStyles([_e]).fromTo(_e,0,.1),ze.addElement(Je).beforeClearStyles([_e]).fromTo(_e,.03,.7),W.addAnimation([nt,ze]),je.addAnimation([W])}}const pt=Oe.querySelector("ion-header.header-collapse-condense"),{forward:tt,backward:we}=((Ue,lt,St,Re,_e)=>{const le=Ve(Re,St),at=Ae(_e),ot=Ae(Re),et=Ve(_e,St),Qe=null!==le&&null!==at&&!St,Pe=null!==ot&&null!==et&&St;if(Qe){const Oe=at.getBoundingClientRect(),J=le.getBoundingClientRect();pe(Ue,lt,St,at,Oe,J),fe(Ue,lt,St,le,Oe,J)}else if(Pe){const Oe=ot.getBoundingClientRect(),J=et.getBoundingClientRect();pe(Ue,lt,St,ot,Oe,J),fe(Ue,lt,St,et,Oe,J)}return{forward:Qe,backward:Pe}})(it,et,Xe,Oe,J);if(Ke.forEach(Ee=>{const be=(0,a.c)();be.addElement(Ee),it.addAnimation(be);const Je=(0,a.c)();Je.addElement(Ee.querySelector("ion-title"));const W=(0,a.c)(),nt=Array.from(Ee.querySelectorAll("ion-buttons,[menuToggle]")),ze=Ee.closest("ion-header"),Nt=null==ze?void 0:ze.classList.contains("header-collapse-condense-inactive");let xt;xt=nt.filter(Xe?Sn=>{const Fn=Sn.classList.contains("buttons-collapse");return Fn&&!Nt||!Fn}:Sn=>!Sn.classList.contains("buttons-collapse")),W.addElement(xt);const Pt=(0,a.c)();Pt.addElement(Ee.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dn=(0,a.c)();dn.addElement(de(Ee).querySelector(".toolbar-background"));const Rt=(0,a.c)(),Tn=Ee.querySelector("ion-back-button");if(Tn&&Rt.addElement(Tn),be.addAnimation([Je,W,Pt,dn,Rt]),W.fromTo(_e,.01,1),Pt.fromTo(_e,.01,1),Xe)Nt||Je.fromTo("transform",`translateX(${Pe})`,`translateX(${at})`).fromTo(_e,.01,1),Pt.fromTo("transform",`translateX(${Pe})`,`translateX(${at})`),Rt.fromTo(_e,.01,1);else if(pt||Je.fromTo("transform",`translateX(${Qe})`,`translateX(${at})`).fromTo(_e,.01,1),Pt.fromTo("transform",`translateX(${Qe})`,`translateX(${at})`),dn.beforeClearStyles([_e,"transform"]),(null==ze?void 0:ze.translucent)?dn.fromTo("transform",et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dn.fromTo(_e,.01,"var(--opacity)"),tt||Rt.fromTo(_e,.01,1),Tn&&!tt){const Fn=(0,a.c)();Fn.addElement(de(Tn).querySelector(".button-text")).fromTo("transform",et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),be.addAnimation(Fn)}}),J){const Ee=(0,a.c)(),be=J.querySelector(":scope > ion-content"),Je=J.querySelectorAll(":scope > ion-header > ion-toolbar"),W=J.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(be||0!==Je.length||0!==W.length?(Ee.addElement(be),Ee.addElement(W)):Ee.addElement(J.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),it.addAnimation(Ee),Xe){Ee.beforeClearStyles([_e]).fromTo("transform",`translateX(${at})`,et?"translateX(-100%)":"translateX(100%)");const nt=(0,te.g)(J);it.afterAddWrite(()=>{"normal"===it.getDirection()&&nt.style.setProperty("display","none")})}else Ee.fromTo("transform",`translateX(${at})`,`translateX(${Pe})`).fromTo(_e,1,.8);if(be){const nt=de(be).querySelector(".transition-effect");if(nt){const ze=nt.querySelector(".transition-cover"),Nt=nt.querySelector(".transition-shadow"),xt=(0,a.c)(),Pt=(0,a.c)(),dn=(0,a.c)();xt.addElement(nt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pt.addElement(ze).beforeClearStyles([_e]).fromTo(_e,.1,0),dn.addElement(Nt).beforeClearStyles([_e]).fromTo(_e,.7,.03),xt.addAnimation([Pt,dn]),Ee.addAnimation([xt])}}Je.forEach(nt=>{const ze=(0,a.c)();ze.addElement(nt);const Nt=(0,a.c)();Nt.addElement(nt.querySelector("ion-title"));const xt=(0,a.c)(),Pt=nt.querySelectorAll("ion-buttons,[menuToggle]"),dn=nt.closest("ion-header"),Rt=null==dn?void 0:dn.classList.contains("header-collapse-condense-inactive"),Tn=Array.from(Pt).filter(Sr=>{const Cn=Sr.classList.contains("buttons-collapse");return Cn&&!Rt||!Cn});xt.addElement(Tn);const Sn=(0,a.c)(),Fn=nt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Fn.length>0&&Sn.addElement(Fn);const on=(0,a.c)();on.addElement(de(nt).querySelector(".toolbar-background"));const ar=(0,a.c)(),wr=nt.querySelector("ion-back-button");if(wr&&ar.addElement(wr),ze.addAnimation([Nt,xt,Sn,ar,on]),it.addAnimation(ze),ar.fromTo(_e,.99,0),xt.fromTo(_e,.99,0),Sn.fromTo(_e,.99,0),Xe){if(Rt||Nt.fromTo("transform",`translateX(${at})`,et?"translateX(-100%)":"translateX(100%)").fromTo(_e,.99,0),Sn.fromTo("transform",`translateX(${at})`,et?"translateX(-100%)":"translateX(100%)"),on.beforeClearStyles([_e,"transform"]),(null==dn?void 0:dn.translucent)?on.fromTo("transform","translateX(0px)",et?"translateX(-100%)":"translateX(100%)"):on.fromTo(_e,"var(--opacity)",0),wr&&!we){const Cn=(0,a.c)();Cn.addElement(de(wr).querySelector(".button-text")).fromTo("transform",`translateX(${at})`,`translateX(${(et?-124:124)+"px"})`),ze.addAnimation(Cn)}}else Rt||Nt.fromTo("transform",`translateX(${at})`,`translateX(${Pe})`).fromTo(_e,.99,0).afterClearStyles([le,_e]),Sn.fromTo("transform",`translateX(${at})`,`translateX(${Pe})`).afterClearStyles([le,_e]),ar.afterClearStyles([_e]),Nt.afterClearStyles([_e]),xt.afterClearStyles([_e])})}return it}catch(Re){throw Re}}},7838:(cn,gt,$)=>{"use strict";$.r(gt),$.d(gt,{mdTransitionAnimation:()=>Me});var a=$(181),te=$(1843);$(3457),$(1308);const Me=(Te,de)=>{var Ae,Ve,ge;const ke="back"===de.direction,lt=de.leavingEl,St=(0,te.g)(de.enteringEl),Re=St.querySelector("ion-toolbar"),_e=(0,a.c)();if(_e.addElement(St).fill("both").beforeRemoveClass("ion-page-invisible"),ke?_e.duration((null!==(Ae=de.duration)&&void 0!==Ae?Ae:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):_e.duration((null!==(Ve=de.duration)&&void 0!==Ve?Ve:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Re){const le=(0,a.c)();le.addElement(Re),_e.addAnimation(le)}if(lt&&ke){_e.duration((null!==(ge=de.duration)&&void 0!==ge?ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const le=(0,a.c)();le.addElement((0,te.g)(lt)).onFinish(at=>{1===at&&le.elements.length>0&&le.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),_e.addAnimation(le)}return _e}},3539:(cn,gt,$)=>{"use strict";$.d(gt,{B:()=>be,G:()=>Je,a:()=>Ae,b:()=>Ve,c:()=>ke,d:()=>Xe,e:()=>lt,f:()=>Ge,g:()=>je,h:()=>Te,i:()=>tt,j:()=>_e,k:()=>Oe,m:()=>fe,s:()=>Ee});var a=$(5861),te=$(5179),z=$(7593),Se=$(5730);let Me=0;const Te=new WeakMap,de=W=>({create:nt=>St(W,nt),dismiss:(nt,ze,Nt)=>Qe(document,nt,ze,W,Nt),getTop:()=>(0,a.Z)(function*(){return Oe(document,W)})()}),Ae=de("ion-alert"),Ve=de("ion-action-sheet"),fe=de("ion-modal"),ke=de("ion-popover"),lt=W=>{typeof document<"u"&&et(document);const nt=Me++;W.overlayIndex=nt,W.hasAttribute("id")||(W.id=`ion-overlay-${nt}`)},St=(W,nt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(W).then(()=>{const ze=document.createElement(W);return ze.classList.add("overlay-hidden"),Object.assign(ze,Object.assign(Object.assign({},nt),{hasController:!0})),Ke(document).appendChild(ze),new Promise(Nt=>(0,Se.c)(ze,Nt))}):Promise.resolve(),Re='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',_e=(W,nt)=>{let ze=W.querySelector(Re);const Nt=null==ze?void 0:ze.shadowRoot;Nt&&(ze=Nt.querySelector(Re)||ze),ze?(0,Se.f)(ze):nt.focus()},at=(W,nt)=>{const ze=Array.from(W.querySelectorAll(Re));let Nt=ze.length>0?ze[ze.length-1]:null;const xt=null==Nt?void 0:Nt.shadowRoot;xt&&(Nt=xt.querySelector(Re)||Nt),Nt?Nt.focus():nt.focus()},et=W=>{0===Me&&(Me=1,W.addEventListener("focus",nt=>{((W,nt)=>{const ze=Oe(nt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Nt=W.target;ze&&Nt&&!ze.classList.contains("ion-disable-focus-trap")&&(ze.shadowRoot?(()=>{if(ze.contains(Nt))ze.lastFocus=Nt;else{const dn=ze.lastFocus;_e(ze,ze),dn===nt.activeElement&&at(ze,ze),ze.lastFocus=nt.activeElement}})():(()=>{if(ze===Nt)ze.lastFocus=void 0;else{const dn=(0,Se.g)(ze);if(!dn.contains(Nt))return;const Rt=dn.querySelector(".ion-overlay-wrapper");if(!Rt)return;if(Rt.contains(Nt))ze.lastFocus=Nt;else{const Tn=ze.lastFocus;_e(Rt,ze),Tn===nt.activeElement&&at(Rt,ze),ze.lastFocus=nt.activeElement}}})())})(nt,W)},!0),W.addEventListener("ionBackButton",nt=>{const ze=Oe(W);null!=ze&&ze.backdropDismiss&&nt.detail.register(z.OVERLAY_BACK_BUTTON_PRIORITY,()=>ze.dismiss(void 0,be))}),W.addEventListener("keyup",nt=>{if("Escape"===nt.key){const ze=Oe(W);null!=ze&&ze.backdropDismiss&&ze.dismiss(void 0,be)}}))},Qe=(W,nt,ze,Nt,xt)=>{const Pt=Oe(W,Nt,xt);return Pt?Pt.dismiss(nt,ze):Promise.reject("overlay does not exist")},Oe=(W,nt,ze)=>{const Nt=((W,nt)=>(void 0===nt&&(nt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(W.querySelectorAll(nt)).filter(ze=>ze.overlayIndex>0)))(W,nt).filter(xt=>!(W=>W.classList.contains("overlay-hidden"))(xt));return void 0===ze?Nt[Nt.length-1]:Nt.find(xt=>xt.id===ze)},J=(W=!1)=>{const ze=Ke(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ze&&(W?ze.setAttribute("aria-hidden","true"):ze.removeAttribute("aria-hidden"))},Xe=function(){var W=(0,a.Z)(function*(nt,ze,Nt,xt,Pt){var dn,Rt;if(nt.presented)return;J(!0),nt.presented=!0,nt.willPresent.emit(),null===(dn=nt.willPresentShorthand)||void 0===dn||dn.emit();const Tn=(0,te.b)(nt),Sn=nt.enterAnimation?nt.enterAnimation:te.c.get(ze,"ios"===Tn?Nt:xt);(yield it(nt,Sn,nt.el,Pt))&&(nt.didPresent.emit(),null===(Rt=nt.didPresentShorthand)||void 0===Rt||Rt.emit()),"ION-TOAST"!==nt.el.tagName&&Fe(nt.el),nt.keyboardClose&&(null===document.activeElement||!nt.el.contains(document.activeElement))&&nt.el.focus()});return function(ze,Nt,xt,Pt,dn){return W.apply(this,arguments)}}(),Fe=function(){var W=(0,a.Z)(function*(nt){let ze=document.activeElement;if(!ze)return;const Nt=null==ze?void 0:ze.shadowRoot;Nt&&(ze=Nt.querySelector(Re)||ze),yield nt.onDidDismiss(),ze.focus()});return function(ze){return W.apply(this,arguments)}}(),Ge=function(){var W=(0,a.Z)(function*(nt,ze,Nt,xt,Pt,dn,Rt){var Tn,Sn;if(!nt.presented)return!1;J(!1),nt.presented=!1;try{nt.el.style.setProperty("pointer-events","none"),nt.willDismiss.emit({data:ze,role:Nt}),null===(Tn=nt.willDismissShorthand)||void 0===Tn||Tn.emit({data:ze,role:Nt});const Fn=(0,te.b)(nt),on=nt.leaveAnimation?nt.leaveAnimation:te.c.get(xt,"ios"===Fn?Pt:dn);Nt!==Je&&(yield it(nt,on,nt.el,Rt)),nt.didDismiss.emit({data:ze,role:Nt}),null===(Sn=nt.didDismissShorthand)||void 0===Sn||Sn.emit({data:ze,role:Nt}),Te.delete(nt),nt.el.classList.add("overlay-hidden"),nt.el.style.removeProperty("pointer-events"),void 0!==nt.el.lastFocus&&(nt.el.lastFocus=void 0)}catch(Fn){console.error(Fn)}return nt.el.remove(),!0});return function(ze,Nt,xt,Pt,dn,Rt,Tn){return W.apply(this,arguments)}}(),Ke=W=>W.querySelector("ion-app")||W.body,it=function(){var W=(0,a.Z)(function*(nt,ze,Nt,xt){Nt.classList.remove("overlay-hidden");const dn=ze(nt.el,xt);(!nt.animated||!te.c.getBoolean("animated",!0))&&dn.duration(0),nt.keyboardClose&&dn.beforeAddWrite(()=>{const Tn=Nt.ownerDocument.activeElement;null!=Tn&&Tn.matches("input,ion-input, ion-textarea")&&Tn.blur()});const Rt=Te.get(nt)||[];return Te.set(nt,[...Rt,dn]),yield dn.play(),!0});return function(ze,Nt,xt,Pt){return W.apply(this,arguments)}}(),je=(W,nt)=>{let ze;const Nt=new Promise(xt=>ze=xt);return pt(W,nt,xt=>{ze(xt.detail)}),Nt},pt=(W,nt,ze)=>{const Nt=xt=>{(0,Se.b)(W,nt,Nt),ze(xt)};(0,Se.a)(W,nt,Nt)},tt=W=>"cancel"===W||W===be,we=W=>W(),Ee=(W,nt)=>{if("function"==typeof W)return te.c.get("_zoneGate",we)(()=>{try{return W(nt)}catch(Nt){throw Nt}})},be="backdrop",Je="gesture"},6893:(cn,gt,$)=>{"use strict";$.d(gt,{e:()=>Me});var a=$(4650),te=$(1205),z=$(3101),Se=$(2435);let Me=(()=>{class Te{constructor(Ae,Ve,ge){this.afauth=Ae,this.db=Ve,this.router=ge,this.nombre=""}login(Ae,Ve){return new Promise((ge,fe)=>{this.afauth.signInWithEmailAndPassword(Ae,Ve).then(pe=>{const ke=pe.user.uid;this.db.collection("users").doc(ke).valueChanges().subscribe(Ue=>{this.user=Ue,this.nombre=this.user.name,localStorage.setItem("usuario",JSON.stringify(this.nombre))}),ge(pe)}).catch(pe=>fe(pe))})}logout(){this.afauth.signOut().then(()=>{this.nombre="",this.user=null,localStorage.setItem("usuario",JSON.stringify("")),this.router.navigate(["/login"])})}registrar(Ae,Ve,ge){return new Promise((fe,pe)=>{this.afauth.createUserWithEmailAndPassword(Ve,ge).then(ke=>{const Ue=ke.user.uid;this.db.collection("users").doc(ke.user.uid).set({name:Ae,uid:Ue}).then(lt=>{this.user=lt,this.nombre=this.user.name,localStorage.setItem("usuario",JSON.stringify(this.nombre))}),fe(ke)}).catch(ke=>pe(ke))})}}return Te.\u0275fac=function(Ae){return new(Ae||Te)(a.LFG(te.zQ),a.LFG(z.ST),a.LFG(Se.F0))},Te.\u0275prov=a.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},6237:(cn,gt,$)=>{"use strict";$.d(gt,{a:()=>Se});var a=$(9260),te=$(4650),z=$(3101);let Se=(()=>{class Me{constructor(de){this.db=de}getChatRooms(){return this.db.collection("chatRooms").valueChanges({idField:"id"})}getChat(de){return this.db.collection("chatRooms").doc(de).valueChanges()}enviarABD(de,Ae){this.db.collection("chatRooms").doc(Ae).update({Messages:a.Z.firestore.FieldValue.arrayUnion(de)})}}return Me.\u0275fac=function(de){return new(de||Me)(te.LFG(z.ST))},Me.\u0275prov=te.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})()},5061:(cn,gt,$)=>{"use strict";var a=$(1481),te=$(4650),z=$(2435),Se=$(2078);let Me=(()=>{class h{constructor(){}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275cmp=te.Xpm({type:h,selectors:[["app-root"]],decls:2,vars:0,template:function(d,v){1&d&&(te.TgZ(0,"ion-app"),te._UZ(1,"ion-router-outlet"),te.qZA())},dependencies:[Se.dr,Se.jP]}),h})();var Te=$(4004),de=$(1205);let Ae=(()=>{class h{constructor(d,v){this.aFaut=d,this.router=v}canActivate(d,v){return this.aFaut.authState.pipe((0,Te.U)(S=>null!=S||(this.router.navigate(["/login"]),!1)))}}return h.\u0275fac=function(d){return new(d||h)(te.LFG(de.zQ),te.LFG(z.F0))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ve=(()=>{class h{constructor(d,v){this.aFaut=d,this.router=v}canActivate(d,v){return this.aFaut.authState.pipe((0,Te.U)(S=>null==S||(this.router.navigate(["/home"]),!1)))}}return h.\u0275fac=function(d){return new(d||h)(te.LFG(de.zQ),te.LFG(z.F0))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const ge=[{path:"home",canActivate:[Ae],loadChildren:()=>$.e(781).then($.bind($,781)).then(h=>h.HomePageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",canActivate:[Ve],loadChildren:()=>$.e(4515).then($.bind($,4515)).then(h=>h.LoginPageModule)},{path:"registro",canActivate:[Ve],loadChildren:()=>$.e(9056).then($.bind($,9056)).then(h=>h.RegistroPageModule)}];let fe=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275mod=te.oAB({type:h}),h.\u0275inj=te.cJS({imports:[z.Bz.forRoot(ge,{preloadingStrategy:z.wm}),z.Bz]}),h})();var pe=$(433),ke=$(6893);const lt={apiKey:"AIzaSyDnxmsh3C3J5Yj4tPg0QyUU82yf-eTa9zw",authDomain:"chat2023-cfa65.firebaseapp.com",projectId:"chat2023-cfa65",storageBucket:"chat2023-cfa65.appspot.com",messagingSenderId:"421499402614",appId:"1:421499402614:web:40b815d03940b86bfa2257"};var St=$(4986),Re=$(9751),_e=$(9646),le=$(6451),at=$(3099),ot=$(3900),et=$(5026),Qe=$(1884),Pe=$(4482),Oe=$(5403),J=$(8421),Xe=$(4671),Fe=$(5032),Ge=$(7669),je=$(2122),pt=$(2011),we=($(4217),$(3942)),Ee=$(4859),be=$(5861),Je=$(9681),W=$(2090),nt=$(1877);const ze="@firebase/database";let xt="";function Pt(h){xt=h}class dn{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,d){null==d?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,W.Wl)(d))}get(u){const d=this.domStorage_.getItem(this.prefixedName_(u));return null==d?null:(0,W.cI)(d)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class Rt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,d){null==d?delete this.cache_[u]:this.cache_[u]=d}get(u){return(0,W.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const Tn=function(h){try{if(typeof window<"u"&&typeof window[h]<"u"){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new dn(u)}}catch(u){}return new Rt},Sn=Tn("localStorage"),Fn=Tn("sessionStorage"),on=new nt.Yd("@firebase/database"),ar=function(){let h=1;return function(){return h++}}(),wr=function(h){const u=(0,W.dS)(h),d=new W.gQ;d.update(u);const v=d.digest();return W.US.encodeByteArray(v)},Sr=function(...h){let u="";for(let d=0;d<h.length;d++){const v=h[d];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?u+=Sr.apply(null,v):u+="object"==typeof v?(0,W.Wl)(v):v,u+=" "}return u};let Cn=null,lr=!0;const Yt=function(h,u){(0,W.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(on.logLevel=nt.in.VERBOSE,Cn=on.log.bind(on),u&&Fn.set("logging_enabled",!0)):"function"==typeof h?Cn=h:(Cn=null,Fn.remove("logging_enabled"))},dr=function(...h){if(!0===lr&&(lr=!1,null===Cn&&!0===Fn.get("logging_enabled")&&Yt(!0)),Cn){const u=Sr.apply(null,h);Cn(u)}},Pr=function(h){return function(...u){dr(h,...u)}},$r=function(...h){const u="FIREBASE INTERNAL ERROR: "+Sr(...h);on.error(u)},Yr=function(...h){const u=`FIREBASE FATAL ERROR: ${Sr(...h)}`;throw on.error(u),new Error(u)},qn=function(...h){const u="FIREBASE WARNING: "+Sr(...h);on.warn(u)},vn=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},ri="[MIN_NAME]",pn="[MAX_NAME]",Ar=function(h,u){if(h===u)return 0;if(h===ri||u===pn)return-1;if(u===ri||h===pn)return 1;{const d=Ln(h),v=Ln(u);return null!==d?null!==v?d-v==0?h.length-u.length:d-v:-1:null!==v?1:h<u?-1:1}},Gt=function(h,u){return h===u?0:h<u?-1:1},ii=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,W.Wl)(u))},Ni=function(h){if("object"!=typeof h||null===h)return(0,W.Wl)(h);const u=[];for(const v in h)u.push(v);u.sort();let d="{";for(let v=0;v<u.length;v++)0!==v&&(d+=","),d+=(0,W.Wl)(u[v]),d+=":",d+=Ni(h[u[v]]);return d+="}",d},Cr=function(h,u){const d=h.length;if(d<=u)return[h];const v=[];for(let S=0;S<d;S+=u)v.push(h.substring(S,S+u>d?d:S+u));return v};function _r(h,u){for(const d in h)h.hasOwnProperty(d)&&u(d,h[d])}const ir=function(h){(0,W.hu)(!vn(h),"Invalid JSON number");const v=1023;let S,k,G,ie,ve;0===h?(k=0,G=0,S=1/h==-1/0?1:0):(S=h<0,(h=Math.abs(h))>=Math.pow(2,1-v)?(ie=Math.min(Math.floor(Math.log(h)/Math.LN2),v),k=ie+v,G=Math.round(h*Math.pow(2,52-ie)-Math.pow(2,52))):(k=0,G=Math.round(h/Math.pow(2,-1074))));const $e=[];for(ve=52;ve;ve-=1)$e.push(G%2?1:0),G=Math.floor(G/2);for(ve=11;ve;ve-=1)$e.push(k%2?1:0),k=Math.floor(k/2);$e.push(S?1:0),$e.reverse();const Lt=$e.join("");let kt="";for(ve=0;ve<64;ve+=8){let Zt=parseInt(Lt.substr(ve,8),2).toString(16);1===Zt.length&&(Zt="0"+Zt),kt+=Zt}return kt.toLowerCase()},$t=new RegExp("^-?(0*)\\d{1,10}$"),Ln=function(h){if($t.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},Rn=function(h){try{h()}catch(u){setTimeout(()=>{throw qn("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Vr=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xe=function(h,u){const d=setTimeout(h,u);return"number"==typeof d&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(d):"object"==typeof d&&d.unref&&d.unref(),d};class Ie{constructor(u,d){this.appName_=u,this.appCheckProvider=d,this.appCheck=null==d?void 0:d.getImmediate({optional:!0}),this.appCheck||null==d||d.get().then(v=>this.appCheck=v)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((d,v)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(d,v):d(null)},0)})}addTokenChangeListener(u){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(v=>v.addTokenListener(u))}notifyForInvalidToken(){qn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class We{constructor(u,d,v){this.appName_=u,this.firebaseOptions_=d,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(S=>this.auth_=S)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(d=>d&&"auth/token-not-initialized"===d.code?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,v)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(d,v):d(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(d=>d.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(d=>d.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qn(u)}}let Mt=(()=>{class h{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const vt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zn="websocket",pr="long_polling";class Ci{constructor(u,d,v,S,k=!1,G="",ie=!1,ve=!1){this.secure=d,this.namespace=v,this.webSocketOnly=S,this.nodeAdmin=k,this.persistenceKey=G,this.includeNamespaceInQueryParams=ie,this.isUsingEmulator=ve,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sn.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Sn.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ki(h,u,d){let v;if((0,W.hu)("string"==typeof u,"typeof type must == string"),(0,W.hu)("object"==typeof d,"typeof params must == object"),u===zn)v=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==pr)throw new Error("Unknown connection type: "+u);v=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function ki(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(d.ns=h.namespace);const S=[];return _r(d,(k,G)=>{S.push(k+"="+G)}),v+S.join("&")}class fi{constructor(){this.counters_={}}incrementCounter(u,d=1){(0,W.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=d}get(){return(0,W.p$)(this.counters_)}}const Ei={},xr={};function is(h){const u=h.toString();return Ei[u]||(Ei[u]=new fi),Ei[u]}class Zn{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,d){this.closeAfterResponse=u,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,d){for(this.pendingResponses[u]=d;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let S=0;S<v.length;++S)v[S]&&Rn(()=>{this.onMessage_(v[S])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bt{constructor(u,d,v,S,k,G,ie){this.connId=u,this.repoInfo=d,this.applicationId=v,this.appCheckToken=S,this.authToken=k,this.transportSessionId=G,this.lastSessionId=ie,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pr(u),this.stats_=is(d),this.urlFn=ve=>(this.appCheckToken&&(ve.ac=this.appCheckToken),Ki(d,pr,ve))}open(u,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new Zn(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,W.Yr)()||"complete"===document.readyState)h();else{let u=!1;const d=function(){document.body?u||(u=!0,h()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ce((...k)=>{const[G,ie,ve,$e,Lt]=k;if(this.incrementIncomingBytes_(k),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===G)this.id=ie,this.password=ve;else{if("close"!==G)throw new Error("Unrecognized command received: "+G);ie?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ie,()=>{this.onClosed_()})):this.onClosed_()}},(...k)=>{const[G,ie]=k;this.incrementIncomingBytes_(k),this.myPacketOrderer.handleResponse(G,ie)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vt.test(location.hostname)&&(v.r="f");const S=this.urlFn(v);this.log_("Connecting via long-poll to "+S),this.scriptTagHolder.addTag(S,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bt.forceAllow_=!0}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!bt.forceAllow_&&(bt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const d=(0,W.Wl)(u);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const v=(0,W.h$)(d),S=Cr(v,1840);for(let k=0;k<S.length;k++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,S.length,S[k]),this.curSegmentNum++}addDisconnectPingFrame(u,d){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=u,v.pw=d,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const d=(0,W.Wl)(u).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class ce{constructor(u,d,v,S){if(this.onDisconnect=v,this.urlFn=S,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=u,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=ar(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=ce.createIFrame_();let k="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(k='<script>document.domain="'+document.domain+'";<\/script>');const G="<html><body>"+k+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(G),this.myIFrame.doc.close()}catch(ie){dr("frame writing exception"),ie.stack&&dr(ie.stack),dr(ie)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||dr("No IE domain setting required")}catch(d){const v=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,d){for(this.myID=u,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let d=this.urlFn(u),v="",S=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const G=this.pendingSegs.shift();v=v+"&seg"+S+"="+G.seg+"&ts"+S+"="+G.ts+"&d"+S+"="+G.d,S++}return d+=v,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(u,d,v){this.pendingSegs.push({seg:u,ts:d,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(u,d){this.outstandingRequests.add(d);const v=()=>{this.outstandingRequests.delete(d),this.newRequest_()},S=setTimeout(v,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(S),v()})}addTag(u,d){(0,W.Yr)()?this.doNodeLongPoll(u,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=u,v.onload=v.onreadystatechange=function(){const S=v.readyState;(!S||"loaded"===S||"complete"===S)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),d())},v.onerror=()=>{dr("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch(v){}},Math.floor(1))}}let wt=null;typeof MozWebSocket<"u"?wt=MozWebSocket:typeof WebSocket<"u"&&(wt=WebSocket);let Ft=(()=>{class h{constructor(d,v,S,k,G,ie,ve){this.connId=d,this.applicationId=S,this.appCheckToken=k,this.authToken=G,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pr(this.connId),this.stats_=is(v),this.connURL=h.connectionURL_(v,ie,ve,k,S),this.nodeAdmin=v.nodeAdmin}static connectionURL_(d,v,S,k,G){const ie={v:"5"};return!(0,W.Yr)()&&typeof location<"u"&&location.hostname&&vt.test(location.hostname)&&(ie.r="f"),v&&(ie.s=v),S&&(ie.ls=S),k&&(ie.ac=k),G&&(ie.p=G),Ki(d,zn,ie)}open(d,v){this.onDisconnect=v,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sn.set("previous_websocket_failure",!0);try{let S;if((0,W.Yr)()){S={headers:{"User-Agent":`Firebase/5/${xt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(S.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(S.headers["X-Firebase-AppCheck"]=this.appCheckToken);const G=process.env,ie=0===this.connURL.indexOf("wss://")?G.HTTPS_PROXY||G.https_proxy:G.HTTP_PROXY||G.http_proxy;ie&&(S.proxy={origin:ie})}this.mySock=new wt(this.connURL,[],S)}catch(S){this.log_("Error instantiating WebSocket.");const k=S.message||S.data;return k&&this.log_(k),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=S=>{this.handleIncomingFrame(S)},this.mySock.onerror=S=>{this.log_("WebSocket error.  Closing connection.");const k=S.message||S.data;k&&this.log_(k),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let d=!1;if(typeof navigator<"u"&&navigator.userAgent){const S=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);S&&S.length>1&&parseFloat(S[1])<4.4&&(d=!0)}return!d&&null!==wt&&!h.forceDisallow_}static previouslyFailed(){return Sn.isInMemoryStorage||!0===Sn.get("previous_websocket_failure")}markConnectionHealthy(){Sn.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const v=this.frames.join("");this.frames=null;const S=(0,W.cI)(v);this.onMessage(S)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){const v=Number(d);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const v=d.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{const S=this.extractFrameCount_(v);null!==S&&this.appendFrame_(S)}}send(d){this.resetKeepAlive();const v=(0,W.Wl)(d);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);const S=Cr(v,16384);S.length>1&&this.sendString_(String(S.length));for(let k=0;k<S.length;k++)this.sendString_(S[k])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),nn=(()=>{class h{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[bt,Ft]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(d){const v=Ft&&Ft.isAvailable();let S=v&&!Ft.previouslyFailed();if(d.webSocketOnly&&(v||qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),S=!0),S)this.transports_=[Ft];else{const k=this.transports_=[];for(const G of h.ALL_TRANSPORTS)G&&G.isAvailable()&&k.push(G);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class ts{constructor(u,d,v,S,k,G,ie,ve,$e,Lt){this.id=u,this.repoInfo_=d,this.applicationId_=v,this.appCheckToken_=S,this.authToken_=k,this.onMessage_=G,this.onReady_=ie,this.onDisconnect_=ve,this.onKill_=$e,this.lastSessionId=Lt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pr("c:"+this.id+":"),this.transportManager_=new nn(d),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,v)},Math.floor(0));const S=u.healthyTimeout||0;S>0&&(this.healthyTimeout_=xe(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(S)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return d=>{u===this.conn_?this.onConnectionLost_(d):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return d=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(d):u===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const d=u.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const d=ii("t",u),v=ii("d",u);if("c"===d)this.onSecondaryControl_(v);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const d=ii("t",u),v=ii("d",u);"c"===d?this.onControl_(v):"d"===d&&this.onDataMessage_(v)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const d=ii("t",u);if("d"in u){const v=u.d;if("h"===d){const S=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(S.h=this.repoInfo_.host),this.onHandshake_(S)}else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let S=0;S<this.pendingDataMessages.length;++S)this.onDataMessage_(this.pendingDataMessages[S]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(v):"r"===d?this.onReset_(v):"e"===d?$r("Server Error: "+v):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$r("Unknown control packet command: "+d)}}onHandshake_(u){const d=u.ts,v=u.v,S=u.h;this.sessionId=u.s,this.repoInfo_.host=S,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==v&&qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,v),xe(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,d){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xe(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mi{put(u,d,v,S){}merge(u,d,v,S){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,d,v){}onDisconnectMerge(u,d,v){}onDisconnectCancel(u,d){}reportStats(u){}}class ji{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,W.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...d){if(Array.isArray(this.listeners_[u])){const v=[...this.listeners_[u]];for(let S=0;S<v.length;S++)v[S].callback.apply(v[S].context,d)}}on(u,d,v){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:d,context:v});const S=this.getInitialEvent(u);S&&d.apply(v,S)}off(u,d,v){this.validateEventType_(u);const S=this.listeners_[u]||[];for(let k=0;k<S.length;k++)if(S[k].callback===d&&(!v||v===S[k].context))return void S.splice(k,1)}validateEventType_(u){(0,W.hu)(this.allowedEvents_.find(d=>d===u),"Unknown event: "+u)}}class Ho extends ji{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ho}getInitialEvent(u){return(0,W.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}const Co=32,Qs=768;class Ur{constructor(u,d){if(void 0===d){this.pieces_=u.split("/");let v=0;for(let S=0;S<this.pieces_.length;S++)this.pieces_[S].length>0&&(this.pieces_[v]=this.pieces_[S],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=d}toString(){let u="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(u+="/"+this.pieces_[d]);return u||"/"}}function Fr(){return new Ur("")}function or(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function bi(h){return h.pieces_.length-h.pieceNum_}function br(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new Ur(h.pieces_,u)}function Xs(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function ps(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function gs(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let d=h.pieceNum_;d<h.pieces_.length-1;d++)u.push(h.pieces_[d]);return new Ur(u,0)}function Gr(h,u){const d=[];for(let v=h.pieceNum_;v<h.pieces_.length;v++)d.push(h.pieces_[v]);if(u instanceof Ur)for(let v=u.pieceNum_;v<u.pieces_.length;v++)d.push(u.pieces_[v]);else{const v=u.split("/");for(let S=0;S<v.length;S++)v[S].length>0&&d.push(v[S])}return new Ur(d,0)}function hr(h){return h.pieceNum_>=h.pieces_.length}function oi(h,u){const d=or(h),v=or(u);if(null===d)return u;if(d===v)return oi(br(h),br(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function ga(h,u){const d=ps(h,0),v=ps(u,0);for(let S=0;S<d.length&&S<v.length;S++){const k=Ar(d[S],v[S]);if(0!==k)return k}return d.length===v.length?0:d.length<v.length?-1:1}function js(h,u){if(bi(h)!==bi(u))return!1;for(let d=h.pieceNum_,v=u.pieceNum_;d<=h.pieces_.length;d++,v++)if(h.pieces_[d]!==u.pieces_[v])return!1;return!0}function Hi(h,u){let d=h.pieceNum_,v=u.pieceNum_;if(bi(h)>bi(u))return!1;for(;d<h.pieces_.length;){if(h.pieces_[d]!==u.pieces_[v])return!1;++d,++v}return!0}class Ri{constructor(u,d){this.errorPrefix_=d,this.parts_=ps(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,W.ug)(this.parts_[v]);ns(this)}}function ns(h){if(h.byteLength_>Qs)throw new Error(h.errorPrefix_+"has a key path longer than "+Qs+" bytes ("+h.byteLength_+").");if(h.parts_.length>Co)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Co+") or object contains a cycle "+Cs(h))}function Cs(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class Wr extends ji{constructor(){let u,d;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const v=!document[u];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new Wr}getInitialEvent(u){return(0,W.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Fi=1e3;let ms,Ss=(()=>{class h extends Mi{constructor(d,v,S,k,G,ie,ve,$e){if(super(),this.repoInfo_=d,this.applicationId_=v,this.onDataUpdate_=S,this.onConnectStatus_=k,this.onServerInfoUpdate_=G,this.authTokenProvider_=ie,this.appCheckTokenProvider_=ve,this.authOverride_=$e,this.id=h.nextPersistentConnectionId_++,this.log_=Pr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,$e&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wr.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(d,v,S){const k=++this.requestNumber_,G={r:k,a:d,b:v};this.log_((0,W.Wl)(G)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(G),S&&(this.requestCBHash_[k]=S)}get(d){this.initConnection_();const v=new W.BH,k={action:"g",request:{p:d._path.toString(),q:d._queryObject},onComplete:ie=>{const ve=ie.d;"ok"===ie.s?v.resolve(ve):v.reject(ve)}};return this.outstandingGets_.push(k),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),v.promise}listen(d,v,S,k){this.initConnection_();const G=d._queryIdentifier,ie=d._path.toString();this.log_("Listen called for "+ie+" "+G),this.listens.has(ie)||this.listens.set(ie,new Map),(0,W.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(ie).has(G),"listen() called twice for same path/queryId.");const ve={onComplete:k,hashFn:v,query:d,tag:S};this.listens.get(ie).set(G,ve),this.connected_&&this.sendListen_(ve)}sendGet_(d){const v=this.outstandingGets_[d];this.sendRequest("g",v.request,S=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),v.onComplete&&v.onComplete(S)})}sendListen_(d){const v=d.query,S=v._path.toString(),k=v._queryIdentifier;this.log_("Listen on "+S+" for "+k);const G={p:S};d.tag&&(G.q=v._queryObject,G.t=d.tag),G.h=d.hashFn(),this.sendRequest("q",G,ve=>{const $e=ve.d,Lt=ve.s;h.warnOnListenWarnings_($e,v),(this.listens.get(S)&&this.listens.get(S).get(k))===d&&(this.log_("listen response",ve),"ok"!==Lt&&this.removeListen_(S,k),d.onComplete&&d.onComplete(Lt,$e))})}static warnOnListenWarnings_(d,v){if(d&&"object"==typeof d&&(0,W.r3)(d,"w")){const S=(0,W.DV)(d,"w");if(Array.isArray(S)&&~S.indexOf("no_index")){const k='".indexOn": "'+v._queryParams.getIndex().toString()+'"',G=v._path.toString();qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${k} at ${G} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,W.GJ)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,v=(0,W.w9)(d)?"auth":"gauth",S={cred:d};null===this.authOverride_?S.noauth=!0:"object"==typeof this.authOverride_&&(S.authvar=this.authOverride_),this.sendRequest(v,S,k=>{const G=k.s,ie=k.d||"error";this.authToken_===d&&("ok"===G?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(G,ie))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const v=d.s,S=d.d||"error";"ok"===v?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(v,S)})}unlisten(d,v){const S=d._path.toString(),k=d._queryIdentifier;this.log_("Unlisten called for "+S+" "+k),(0,W.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(S,k)&&this.connected_&&this.sendUnlisten_(S,k,d._queryObject,v)}sendUnlisten_(d,v,S,k){this.log_("Unlisten on "+d+" for "+v);const G={p:d};k&&(G.q=S,G.t=k),this.sendRequest("n",G)}onDisconnectPut(d,v,S){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,v,S):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:v,onComplete:S})}onDisconnectMerge(d,v,S){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,v,S):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:v,onComplete:S})}onDisconnectCancel(d,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,v):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:v})}sendOnDisconnect_(d,v,S,k){const G={p:v,d:S};this.log_("onDisconnect "+d,G),this.sendRequest(d,G,ie=>{k&&setTimeout(()=>{k(ie.s,ie.d)},Math.floor(0))})}put(d,v,S,k){this.putInternal("p",d,v,S,k)}merge(d,v,S,k){this.putInternal("m",d,v,S,k)}putInternal(d,v,S,k,G){this.initConnection_();const ie={p:v,d:S};void 0!==G&&(ie.h=G),this.outstandingPuts_.push({action:d,request:ie,onComplete:k}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)}sendPut_(d){const v=this.outstandingPuts_[d].action,S=this.outstandingPuts_[d].request,k=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(v,S,G=>{this.log_(v+" response",G),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),k&&k(G.s,G.d)})}reportStats(d){if(this.connected_){const v={c:d};this.log_("reportStats",v),this.sendRequest("s",v,S=>{"ok"!==S.s&&this.log_("reportStats","Error sending stats: "+S.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,W.Wl)(d));const v=d.r,S=this.requestCBHash_[v];S&&(delete this.requestCBHash_[v],S(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,v){this.log_("handleServerMessage",d,v),"d"===d?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===d?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===d?this.onListenRevoked_(v.p,v.q):"ac"===d?this.onAuthRevoked_(v.s,v.d):"apc"===d?this.onAppCheckRevoked_(v.s,v.d):"sd"===d?this.onSecurityDebugPacket_(v):$r("Unrecognized action received from server: "+(0,W.Wl)(d)+"\nAre you using the latest client?")}onReady_(d,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let v=Math.max(0,this.reconnectDelay_-d);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,be.Z)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const v=d.onDataMessage_.bind(d),S=d.onReady_.bind(d),k=d.onRealtimeDisconnect_.bind(d),G=d.id+":"+h.nextConnectionId_++,ie=d.lastSessionId;let ve=!1,$e=null;const Lt=function(){$e?$e.close():(ve=!0,k())};d.realtime_={close:Lt,sendRequest:function(Vn){(0,W.hu)($e,"sendRequest call when we're not connected not allowed."),$e.sendRequest(Vn)}};const Zt=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[Vn,ur]=yield Promise.all([d.authTokenProvider_.getToken(Zt),d.appCheckTokenProvider_.getToken(Zt)]);ve?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),d.authToken_=Vn&&Vn.accessToken,d.appCheckToken_=ur&&ur.token,$e=new ts(G,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,v,S,k,Ti=>{qn(Ti+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},ie))}catch(Vn){d.log_("Failed to get token: "+Vn),ve||(d.repoInfo_.nodeAdmin&&qn(Vn),Lt())}}})()}interrupt(d){dr("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){dr("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const v=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const v=this.outstandingPuts_[d];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,v){let S;S=v?v.map(G=>Ni(G)).join("$"):"default";const k=this.removeListen_(d,S);k&&k.onComplete&&k.onComplete("permission_denied")}removeListen_(d,v){const S=new Ur(d).toString();let k;if(this.listens.has(S)){const G=this.listens.get(S);k=G.get(v),G.delete(v),0===G.size&&this.listens.delete(S)}else k=void 0;return k}onAuthRevoked_(d,v){dr("Auth token revoked: "+d+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,v){dr("App check token revoked: "+d+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const v of d.values())this.sendListen_(v);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let v="js";(0,W.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+v+"."+xt.replace(/\./g,"-")]=1,(0,W.uI)()?d["framework.cordova"]=1:(0,W.b$)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=Ho.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&d}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Xn{constructor(u,d){this.name=u,this.node=d}static Wrap(u,d){return new Xn(u,d)}}class ss{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,d){const v=new Xn(ri,u),S=new Xn(ri,d);return 0!==this.compare(v,S)}minPost(){return Xn.MIN}}class Dr extends ss{static get __EMPTY_NODE(){return ms}static set __EMPTY_NODE(u){ms=u}compare(u,d){return Ar(u.name,d.name)}isDefinedOn(u){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,d){return!1}minPost(){return Xn.MIN}maxPost(){return new Xn(pn,ms)}makePost(u,d){return(0,W.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Xn(u,ms)}toString(){return".key"}}const qi=new Dr;class As{constructor(u,d,v,S,k=null){this.isReverse_=S,this.resultGenerator_=k,this.nodeStack_=[];let G=1;for(;!u.isEmpty();)if(G=d?v(u.key,d):1,S&&(G*=-1),G<0)u=this.isReverse_?u.left:u.right;else{if(0===G){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,u=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let Ro,qr=(()=>{class h{constructor(d,v,S,k,G){this.key=d,this.value=v,this.color=null!=S?S:h.RED,this.left=null!=k?k:Li.EMPTY_NODE,this.right=null!=G?G:Li.EMPTY_NODE}copy(d,v,S,k,G){return new h(null!=d?d:this.key,null!=v?v:this.value,null!=S?S:this.color,null!=k?k:this.left,null!=G?G:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,v,S){let k=this;const G=S(d,k.key);return k=G<0?k.copy(null,null,null,k.left.insert(d,v,S),null):0===G?k.copy(null,v,null,null,null):k.copy(null,null,null,null,k.right.insert(d,v,S)),k.fixUp_()}removeMin_(){if(this.left.isEmpty())return Li.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,v){let S,k;if(S=this,v(d,S.key)<0)!S.left.isEmpty()&&!S.left.isRed_()&&!S.left.left.isRed_()&&(S=S.moveRedLeft_()),S=S.copy(null,null,null,S.left.remove(d,v),null);else{if(S.left.isRed_()&&(S=S.rotateRight_()),!S.right.isEmpty()&&!S.right.isRed_()&&!S.right.left.isRed_()&&(S=S.moveRedRight_()),0===v(d,S.key)){if(S.right.isEmpty())return Li.EMPTY_NODE;k=S.right.min_(),S=S.copy(k.key,k.value,null,null,S.right.removeMin_())}S=S.copy(null,null,null,null,S.right.remove(d,v))}return S.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,v)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class Li{constructor(u,d=Li.EMPTY_NODE){this.comparator_=u,this.root_=d}insert(u,d){return new Li(this.comparator_,this.root_.insert(u,d,this.comparator_).copy(null,null,qr.BLACK,null,null))}remove(u){return new Li(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,qr.BLACK,null,null))}get(u){let d,v=this.root_;for(;!v.isEmpty();){if(d=this.comparator_(u,v.key),0===d)return v.value;d<0?v=v.left:d>0&&(v=v.right)}return null}getPredecessorKey(u){let d,v=this.root_,S=null;for(;!v.isEmpty();){if(d=this.comparator_(u,v.key),0===d){if(v.left.isEmpty())return S?S.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}d<0?v=v.left:d>0&&(S=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new As(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,d){return new As(this.root_,u,this.comparator_,!1,d)}getReverseIteratorFrom(u,d){return new As(this.root_,u,this.comparator_,!0,d)}getReverseIterator(u){return new As(this.root_,null,this.comparator_,!0,u)}}function xs(h,u){return Ar(h.name,u.name)}function Oi(h,u){return Ar(h,u)}Li.EMPTY_NODE=new class Jo{copy(u,d,v,S,k){return this}insert(u,d,v){return new qr(u,d,null)}remove(u,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Hs=function(h){return"number"==typeof h?"number:"+ir(h):"string:"+h},Di=function(h){if(h.isLeafNode()){const u=h.val();(0,W.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,W.r3)(u,".sv"),"Priority must be a string or number.")}else(0,W.hu)(h===Ro||h.isEmpty(),"priority of unexpected type.");(0,W.hu)(h===Ro||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Oo,nr,zo,ds=(()=>{class h{constructor(d,v=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=v,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Di(this.priorityNode_)}static set __childrenNodeConstructor(d){Oo=d}static get __childrenNodeConstructor(){return Oo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new h(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return hr(d)?this:".priority"===or(d)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,v){return null}updateImmediateChild(d,v){return".priority"===d?this.updatePriority(v):v.isEmpty()&&".priority"!==d?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,v).updatePriority(this.priorityNode_)}updateChild(d,v){const S=or(d);return null===S?v:v.isEmpty()&&".priority"!==S?this:((0,W.hu)(".priority"!==S||1===bi(d),".priority must be the last token in a path"),this.updateImmediateChild(S,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(br(d),v)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,v){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+Hs(this.priorityNode_.val())+":");const v=typeof this.value_;d+=v+":",d+="number"===v?ir(this.value_):this.value_,this.lazyHash_=wr(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===h.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof h.__childrenNodeConstructor?-1:((0,W.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const v=typeof d.value_,S=typeof this.value_,k=h.VALUE_TYPE_ORDER.indexOf(v),G=h.VALUE_TYPE_ORDER.indexOf(S);return(0,W.hu)(k>=0,"Unknown leaf type: "+v),(0,W.hu)(G>=0,"Unknown leaf type: "+S),k===G?"object"===S?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:G-k}withIndex(){return this}isIndexed(){return!0}equals(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Zr=new class ta extends ss{compare(u,d){const v=u.node.getPriority(),S=d.node.getPriority(),k=v.compareTo(S);return 0===k?Ar(u.name,d.name):k}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,d){return!u.getPriority().equals(d.getPriority())}minPost(){return Xn.MIN}maxPost(){return new Xn(pn,new ds("[PRIORITY-POST]",zo))}makePost(u,d){const v=nr(u);return new Xn(d,new ds("[PRIORITY-POST]",v))}toString(){return".priority"}},Gs=Math.log(2);class ao{constructor(u){this.count=parseInt(Math.log(u+1)/Gs,10),this.current_=this.count-1;const S=(k=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&S}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Po=function(h,u,d,v){h.sort(u);const S=function(ve,$e){const Lt=$e-ve;let kt,Zt;if(0===Lt)return null;if(1===Lt)return kt=h[ve],Zt=d?d(kt):kt,new qr(Zt,kt.node,qr.BLACK,null,null);{const Vn=parseInt(Lt/2,10)+ve,ur=S(ve,Vn),Ti=S(Vn+1,$e);return kt=h[Vn],Zt=d?d(kt):kt,new qr(Zt,kt.node,qr.BLACK,ur,Ti)}},ie=function(ve){let $e=null,Lt=null,kt=h.length;const Zt=function(ur,Ti){const ws=kt-ur,Eo=kt;kt-=ur;const Vo=S(ws+1,Eo),ml=h[ws],Gp=d?d(ml):ml;Vn(new qr(Gp,ml.node,Ti,null,Vo))},Vn=function(ur){$e?($e.left=ur,$e=ur):(Lt=ur,$e=ur)};for(let ur=0;ur<ve.count;++ur){const Ti=ve.nextBitIsOne(),ws=Math.pow(2,ve.count-(ur+1));Ti?Zt(ws,qr.BLACK):(Zt(ws,qr.BLACK),Zt(ws,qr.RED))}return Lt}(new ao(h.length));return new Li(v||u,ie)};let Wt;const fr={};class j{constructor(u,d){this.indexes_=u,this.indexSet_=d}static get Default(){return(0,W.hu)(fr&&Zr,"ChildrenNode.ts has not been loaded"),Wt=Wt||new j({".priority":fr},{".priority":Zr}),Wt}get(u){const d=(0,W.DV)(this.indexes_,u);if(!d)throw new Error("No index defined for "+u);return d instanceof Li?d:null}hasIndex(u){return(0,W.r3)(this.indexSet_,u.toString())}addIndex(u,d){(0,W.hu)(u!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let S=!1;const k=d.getIterator(Xn.Wrap);let ie,G=k.getNext();for(;G;)S=S||u.isDefinedOn(G.node),v.push(G),G=k.getNext();ie=S?Po(v,u.getCompare()):fr;const ve=u.toString(),$e=Object.assign({},this.indexSet_);$e[ve]=u;const Lt=Object.assign({},this.indexes_);return Lt[ve]=ie,new j(Lt,$e)}addToIndexes(u,d){const v=(0,W.UI)(this.indexes_,(S,k)=>{const G=(0,W.DV)(this.indexSet_,k);if((0,W.hu)(G,"Missing index implementation for "+k),S===fr){if(G.isDefinedOn(u.node)){const ie=[],ve=d.getIterator(Xn.Wrap);let $e=ve.getNext();for(;$e;)$e.name!==u.name&&ie.push($e),$e=ve.getNext();return ie.push(u),Po(ie,G.getCompare())}return fr}{const ie=d.get(u.name);let ve=S;return ie&&(ve=ve.remove(new Xn(u.name,ie))),ve.insert(u,u.node)}});return new j(v,this.indexSet_)}removeFromIndexes(u,d){const v=(0,W.UI)(this.indexes_,S=>{if(S===fr)return S;{const k=d.get(u.name);return k?S.remove(new Xn(u.name,k)):S}});return new j(v,this.indexSet_)}}let f,I=(()=>{class h{constructor(d,v,S){this.children_=d,this.priorityNode_=v,this.indexMap_=S,this.lazyHash_=null,this.priorityNode_&&Di(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return f||(f=new h(new Li(Oi),null,j.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||f}updatePriority(d){return this.children_.isEmpty()?this:new h(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const v=this.children_.get(d);return null===v?f:v}}getChild(d){const v=or(d);return null===v?this:this.getImmediateChild(v).getChild(br(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,v){if((0,W.hu)(v,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(v);{const S=new Xn(d,v);let k,G;v.isEmpty()?(k=this.children_.remove(d),G=this.indexMap_.removeFromIndexes(S,this.children_)):(k=this.children_.insert(d,v),G=this.indexMap_.addToIndexes(S,this.children_));const ie=k.isEmpty()?f:this.priorityNode_;return new h(k,ie,G)}}updateChild(d,v){const S=or(d);if(null===S)return v;{(0,W.hu)(".priority"!==or(d)||1===bi(d),".priority must be the last token in a path");const k=this.getImmediateChild(S).updateChild(br(d),v);return this.updateImmediateChild(S,k)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const v={};let S=0,k=0,G=!0;if(this.forEachChild(Zr,(ie,ve)=>{v[ie]=ve.val(d),S++,G&&h.INTEGER_REGEXP_.test(ie)?k=Math.max(k,Number(ie)):G=!1}),!d&&G&&k<2*S){const ie=[];for(const ve in v)ie[ve]=v[ve];return ie}return d&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+Hs(this.getPriority().val())+":"),this.forEachChild(Zr,(v,S)=>{const k=S.hash();""!==k&&(d+=":"+v+":"+k)}),this.lazyHash_=""===d?"":wr(d)}return this.lazyHash_}getPredecessorChildName(d,v,S){const k=this.resolveIndex_(S);if(k){const G=k.getPredecessorKey(new Xn(d,v));return G?G.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const v=this.resolveIndex_(d);if(v){const S=v.minKey();return S&&S.name}return this.children_.minKey()}getFirstChild(d){const v=this.getFirstChildName(d);return v?new Xn(v,this.children_.get(v)):null}getLastChildName(d){const v=this.resolveIndex_(d);if(v){const S=v.maxKey();return S&&S.name}return this.children_.maxKey()}getLastChild(d){const v=this.getLastChildName(d);return v?new Xn(v,this.children_.get(v)):null}forEachChild(d,v){const S=this.resolveIndex_(d);return S?S.inorderTraversal(k=>v(k.name,k.node)):this.children_.inorderTraversal(v)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,v){const S=this.resolveIndex_(v);if(S)return S.getIteratorFrom(d,k=>k);{const k=this.children_.getIteratorFrom(d.name,Xn.Wrap);let G=k.peek();for(;null!=G&&v.compare(G,d)<0;)k.getNext(),G=k.peek();return k}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,v){const S=this.resolveIndex_(v);if(S)return S.getReverseIteratorFrom(d,k=>k);{const k=this.children_.getReverseIteratorFrom(d.name,Xn.Wrap);let G=k.peek();for(;null!=G&&v.compare(G,d)>0;)k.getNext(),G=k.peek();return k}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===P?-1:0}withIndex(d){if(d===qi||this.indexMap_.hasIndex(d))return this;{const v=this.indexMap_.addIndex(d,this.children_);return new h(this.children_,this.priorityNode_,v)}}isIndexed(d){return d===qi||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const v=d;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){const S=this.getIterator(Zr),k=v.getIterator(Zr);let G=S.getNext(),ie=k.getNext();for(;G&&ie;){if(G.name!==ie.name||!G.node.equals(ie.node))return!1;G=S.getNext(),ie=k.getNext()}return null===G&&null===ie}return!1}return!1}}resolveIndex_(d){return d===qi?null:this.indexMap_.get(d.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const P=new class y extends I{constructor(){super(new Li(Oi),I.EMPTY_NODE,j.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return I.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Xn,{MIN:{value:new Xn(ri,I.EMPTY_NODE)},MAX:{value:new Xn(pn,P)}}),Dr.__EMPTY_NODE=I.EMPTY_NODE,ds.__childrenNodeConstructor=I,function oo(h){Ro=h}(P),function ea(h){zo=h}(P);const Q=!0;function st(h,u=null){if(null===h)return I.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,W.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new ds(h,st(u));if(h instanceof Array||!Q){let d=I.EMPTY_NODE;return _r(h,(v,S)=>{if((0,W.r3)(h,v)&&"."!==v.substring(0,1)){const k=st(S);(k.isLeafNode()||!k.isEmpty())&&(d=d.updateImmediateChild(v,k))}}),d.updatePriority(st(u))}{const d=[];let v=!1;if(_r(h,(G,ie)=>{if("."!==G.substring(0,1)){const ve=st(ie);ve.isEmpty()||(v=v||!ve.getPriority().isEmpty(),d.push(new Xn(G,ve)))}}),0===d.length)return I.EMPTY_NODE;const k=Po(d,xs,G=>G.name,Oi);if(v){const G=Po(d,Zr.getCompare());return new I(k,st(u),new j({".priority":G},{".priority":Zr}))}return new I(k,st(u),j.Default)}}!function $a(h){nr=h}(st);class en extends ss{constructor(u){super(),this.indexPath_=u,(0,W.hu)(!hr(u)&&".priority"!==or(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,d){const v=this.extractChild(u.node),S=this.extractChild(d.node),k=v.compareTo(S);return 0===k?Ar(u.name,d.name):k}makePost(u,d){const v=st(u),S=I.EMPTY_NODE.updateChild(this.indexPath_,v);return new Xn(d,S)}maxPost(){const u=I.EMPTY_NODE.updateChild(this.indexPath_,P);return new Xn(pn,u)}toString(){return ps(this.indexPath_,0).join("/")}}const Gn=new class _n extends ss{compare(u,d){const v=u.node.compareTo(d.node);return 0===v?Ar(u.name,d.name):v}isDefinedOn(u){return!0}indexedValueChanged(u,d){return!u.equals(d)}minPost(){return Xn.MIN}maxPost(){return Xn.MAX}makePost(u,d){const v=st(u);return new Xn(d,v)}toString(){return".value"}};function Rr(h){return{type:"value",snapshotNode:h}}function Wn(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function Or(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function Bi(h,u,d){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:d}}class ai{constructor(u){this.index_=u}updateChild(u,d,v,S,k,G){(0,W.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ie=u.getImmediateChild(d);return ie.getChild(S).equals(v.getChild(S))&&ie.isEmpty()===v.isEmpty()||(null!=G&&(v.isEmpty()?u.hasChild(d)?G.trackChildChange(Or(d,ie)):(0,W.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ie.isEmpty()?G.trackChildChange(Wn(d,v)):G.trackChildChange(Bi(d,v,ie))),u.isLeafNode()&&v.isEmpty())?u:u.updateImmediateChild(d,v).withIndex(this.index_)}updateFullNode(u,d,v){return null!=v&&(u.isLeafNode()||u.forEachChild(Zr,(S,k)=>{d.hasChild(S)||v.trackChildChange(Or(S,k))}),d.isLeafNode()||d.forEachChild(Zr,(S,k)=>{if(u.hasChild(S)){const G=u.getImmediateChild(S);G.equals(k)||v.trackChildChange(Bi(S,k,G))}else v.trackChildChange(Wn(S,k))})),d.withIndex(this.index_)}updatePriority(u,d){return u.isEmpty()?I.EMPTY_NODE:u.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lo{constructor(u){this.indexedFilter_=new ai(u.getIndex()),this.index_=u.getIndex(),this.startPost_=lo.getStartPost_(u),this.endPost_=lo.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const d=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,v=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return d&&v}updateChild(u,d,v,S,k,G){return this.matches(new Xn(d,v))||(v=I.EMPTY_NODE),this.indexedFilter_.updateChild(u,d,v,S,k,G)}updateFullNode(u,d,v){d.isLeafNode()&&(d=I.EMPTY_NODE);let S=d.withIndex(this.index_);S=S.updatePriority(I.EMPTY_NODE);const k=this;return d.forEachChild(Zr,(G,ie)=>{k.matches(new Xn(G,ie))||(S=S.updateImmediateChild(G,I.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,S,v)}updatePriority(u,d){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const d=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),d)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const d=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),d)}return u.getIndex().maxPost()}}class uo{constructor(u){this.withinDirectionalStart=d=>this.reverse_?this.withinEndPost(d):this.withinStartPost(d),this.withinDirectionalEnd=d=>this.reverse_?this.withinStartPost(d):this.withinEndPost(d),this.withinStartPost=d=>{const v=this.index_.compare(this.rangedFilter_.getStartPost(),d);return this.startIsInclusive_?v<=0:v<0},this.withinEndPost=d=>{const v=this.index_.compare(d,this.rangedFilter_.getEndPost());return this.endIsInclusive_?v<=0:v<0},this.rangedFilter_=new lo(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,d,v,S,k,G){return this.rangedFilter_.matches(new Xn(d,v))||(v=I.EMPTY_NODE),u.getImmediateChild(d).equals(v)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,d,v,S,k,G):this.fullLimitUpdateChild_(u,d,v,k,G)}updateFullNode(u,d,v){let S;if(d.isLeafNode()||d.isEmpty())S=I.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let k;S=I.EMPTY_NODE.withIndex(this.index_),k=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let G=0;for(;k.hasNext()&&G<this.limit_;){const ie=k.getNext();if(this.withinDirectionalStart(ie)){if(!this.withinDirectionalEnd(ie))break;S=S.updateImmediateChild(ie.name,ie.node),G++}}}else{let k;S=d.withIndex(this.index_),S=S.updatePriority(I.EMPTY_NODE),k=this.reverse_?S.getReverseIterator(this.index_):S.getIterator(this.index_);let G=0;for(;k.hasNext();){const ie=k.getNext();G<this.limit_&&this.withinDirectionalStart(ie)&&this.withinDirectionalEnd(ie)?G++:S=S.updateImmediateChild(ie.name,I.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,S,v)}updatePriority(u,d){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,d,v,S,k){let G;if(this.reverse_){const kt=this.index_.getCompare();G=(Zt,Vn)=>kt(Vn,Zt)}else G=this.index_.getCompare();const ie=u;(0,W.hu)(ie.numChildren()===this.limit_,"");const ve=new Xn(d,v),$e=this.reverse_?ie.getFirstChild(this.index_):ie.getLastChild(this.index_),Lt=this.rangedFilter_.matches(ve);if(ie.hasChild(d)){const kt=ie.getImmediateChild(d);let Zt=S.getChildAfterChild(this.index_,$e,this.reverse_);for(;null!=Zt&&(Zt.name===d||ie.hasChild(Zt.name));)Zt=S.getChildAfterChild(this.index_,Zt,this.reverse_);const Vn=null==Zt?1:G(Zt,ve);if(Lt&&!v.isEmpty()&&Vn>=0)return null!=k&&k.trackChildChange(Bi(d,v,kt)),ie.updateImmediateChild(d,v);{null!=k&&k.trackChildChange(Or(d,kt));const Ti=ie.updateImmediateChild(d,I.EMPTY_NODE);return null!=Zt&&this.rangedFilter_.matches(Zt)?(null!=k&&k.trackChildChange(Wn(Zt.name,Zt.node)),Ti.updateImmediateChild(Zt.name,Zt.node)):Ti}}return v.isEmpty()?u:Lt&&G($e,ve)>=0?(null!=k&&(k.trackChildChange(Or($e.name,$e.node)),k.trackChildChange(Wn(d,v))),ie.updateImmediateChild(d,v).updateImmediateChild($e.name,I.EMPTY_NODE)):u}}class na{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zr}copy(){const u=new na;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function Ua(h,u,d){const v=h.copy();return v.startSet_=!0,void 0===u&&(u=null),v.indexStartValue_=u,null!=d?(v.startNameSet_=!0,v.indexStartName_=d):(v.startNameSet_=!1,v.indexStartName_=""),v}function ja(h,u,d){const v=h.copy();return v.endSet_=!0,void 0===u&&(u=null),v.indexEndValue_=u,void 0!==d?(v.endNameSet_=!0,v.indexEndName_=d):(v.endNameSet_=!1,v.indexEndName_=""),v}function co(h,u){const d=h.copy();return d.index_=u,d}function tl(h){const u={};if(h.isDefault())return u;let d;if(h.index_===Zr?d="$priority":h.index_===Gn?d="$value":h.index_===qi?d="$key":((0,W.hu)(h.index_ instanceof en,"Unrecognized index type!"),d=h.index_.toString()),u.orderBy=(0,W.Wl)(d),h.startSet_){const v=h.startAfterSet_?"startAfter":"startAt";u[v]=(0,W.Wl)(h.indexStartValue_),h.startNameSet_&&(u[v]+=","+(0,W.Wl)(h.indexStartName_))}if(h.endSet_){const v=h.endBeforeSet_?"endBefore":"endAt";u[v]=(0,W.Wl)(h.indexEndValue_),h.endNameSet_&&(u[v]+=","+(0,W.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function Ga(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let d=h.viewFrom_;""===d&&(d=h.isViewFromLeft()?"l":"r"),u.vf=d}return h.index_!==Zr&&(u.i=h.index_.toString()),u}class ya extends Mi{constructor(u,d,v,S){super(),this.repoInfo_=u,this.onDataUpdate_=d,this.authTokenProvider_=v,this.appCheckTokenProvider_=S,this.log_=Pr("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,d){return void 0!==d?"tag$"+d:((0,W.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,d,v,S){const k=u._path.toString();this.log_("Listen called for "+k+" "+u._queryIdentifier);const G=ya.getListenId_(u,v),ie={};this.listens_[G]=ie;const ve=tl(u._queryParams);this.restRequest_(k+".json",ve,($e,Lt)=>{let kt=Lt;if(404===$e&&(kt=null,$e=null),null===$e&&this.onDataUpdate_(k,kt,!1,v),(0,W.DV)(this.listens_,G)===ie){let Zt;Zt=$e?401===$e?"permission_denied":"rest_error:"+$e:"ok",S(Zt,null)}})}unlisten(u,d){const v=ya.getListenId_(u,d);delete this.listens_[v]}get(u){const d=tl(u._queryParams),v=u._path.toString(),S=new W.BH;return this.restRequest_(v+".json",d,(k,G)=>{let ie=G;404===k&&(ie=null,k=null),null===k?(this.onDataUpdate_(v,ie,!1,null),S.resolve(ie)):S.reject(new Error(ie))}),S.promise}refreshAuthToken(u){}restRequest_(u,d={},v){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([S,k])=>{S&&S.accessToken&&(d.auth=S.accessToken),k&&k.token&&(d.ac=k.token);const G=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,W.xO)(d);this.log_("Sending REST request for "+G);const ie=new XMLHttpRequest;ie.onreadystatechange=()=>{if(v&&4===ie.readyState){this.log_("REST Response for "+G+" received. status:",ie.status,"response:",ie.responseText);let ve=null;if(ie.status>=200&&ie.status<300){try{ve=(0,W.cI)(ie.responseText)}catch($e){qn("Failed to parse JSON response for "+G+": "+ie.responseText)}v(null,ve)}else 401!==ie.status&&404!==ie.status&&qn("Got unsuccessful REST response for "+G+" Status: "+ie.status),v(ie.status);v=null}},ie.open("GET",G,!0),ie.send()})}}class Iu{constructor(){this.rootNode_=I.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,d){this.rootNode_=this.rootNode_.updateChild(u,d)}}function ra(){return{value:null,children:new Map}}function zs(h,u,d){if(hr(u))h.value=d,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,d);else{const v=or(u);h.children.has(v)||h.children.set(v,ra()),zs(h.children.get(v),u=br(u),d)}}function Pl(h,u){if(hr(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const d=h.value;return h.value=null,d.forEachChild(Zr,(v,S)=>{zs(h,new Ur(v),S)}),Pl(h,u)}}if(h.children.size>0){const d=or(u);return u=br(u),h.children.has(d)&&Pl(h.children.get(d),u)&&h.children.delete(d),0===h.children.size}return!0}function os(h,u,d){null!==h.value?d(u,h.value):function ho(h,u){h.children.forEach((d,v)=>{u(v,d)})}(h,(v,S)=>{os(S,new Ur(u.toString()+"/"+v),d)})}class $i{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),d=Object.assign({},u);return this.last_&&_r(this.last_,(v,S)=>{d[v]=d[v]-S}),this.last_=u,d}}class nl{constructor(u,d){this.server_=d,this.statsToReport_={},this.statsListener_=new $i(u);const v=1e4+2e4*Math.random();xe(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const u=this.statsListener_.get(),d={};let v=!1;_r(u,(S,k)=>{k>0&&(0,W.r3)(this.statsToReport_,S)&&(d[S]=k,v=!0)}),v&&this.server_.reportStats(d),xe(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var li=(()=>{return(h=li||(li={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",li;var h})();function sa(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class oa{constructor(u,d,v){this.path=u,this.affectedTree=d,this.revert=v,this.type=li.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(hr(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new Ur(u));return new oa(Fr(),d,this.revert)}}return(0,W.hu)(or(this.path)===u,"operationForChild called for unrelated child."),new oa(br(this.path),this.affectedTree,this.revert)}}class No{constructor(u,d){this.source=u,this.path=d,this.type=li.LISTEN_COMPLETE}operationForChild(u){return hr(this.path)?new No(this.source,Fr()):new No(this.source,br(this.path))}}class aa{constructor(u,d,v){this.source=u,this.path=d,this.snap=v,this.type=li.OVERWRITE}operationForChild(u){return hr(this.path)?new aa(this.source,Fr(),this.snap.getImmediateChild(u)):new aa(this.source,br(this.path),this.snap)}}class N{constructor(u,d,v){this.source=u,this.path=d,this.children=v,this.type=li.MERGE}operationForChild(u){if(hr(this.path)){const d=this.children.subtree(new Ur(u));return d.isEmpty()?null:d.value?new aa(this.source,Fr(),d.value):new N(this.source,Fr(),d)}return(0,W.hu)(or(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new N(this.source,br(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class K{constructor(u,d,v){this.node_=u,this.fullyInitialized_=d,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(hr(u))return this.isFullyInitialized()&&!this.filtered_;const d=or(u);return this.isCompleteForChild(d)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class B{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function ye(h,u,d,v,S,k){const G=v.filter(ie=>ie.type===d);G.sort((ie,ve)=>function Vt(h,u,d){if(null==u.childName||null==d.childName)throw(0,W.g5)("Should only compare child_ events.");const v=new Xn(u.childName,u.snapshotNode),S=new Xn(d.childName,d.snapshotNode);return h.index_.compare(v,S)}(h,ie,ve)),G.forEach(ie=>{const ve=function Et(h,u,d){return"value"===u.type||"child_removed"===u.type||(u.prevName=d.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,ie,k);S.forEach($e=>{$e.respondsTo(ie.type)&&u.push($e.createEvent(ve,h.query_))})})}function On(h,u){return{eventCache:h,serverCache:u}}function Tr(h,u,d,v){return On(new K(u,d,v),h.serverCache)}function Bt(h,u,d,v){return On(h.eventCache,new K(u,d,v))}function tr(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function Jn(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let vi;class Jt{constructor(u,d=(()=>(vi||(vi=new Li(Gt)),vi))()){this.value=u,this.children=d}static fromObject(u){let d=new Jt(null);return _r(u,(v,S)=>{d=d.set(new Ur(v),S)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,d){if(null!=this.value&&d(this.value))return{path:Fr(),value:this.value};if(hr(u))return null;{const v=or(u),S=this.children.get(v);if(null!==S){const k=S.findRootMostMatchingPathAndValue(br(u),d);return null!=k?{path:Gr(new Ur(v),k.path),value:k.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(hr(u))return this;{const d=or(u),v=this.children.get(d);return null!==v?v.subtree(br(u)):new Jt(null)}}set(u,d){if(hr(u))return new Jt(d,this.children);{const v=or(u),k=(this.children.get(v)||new Jt(null)).set(br(u),d),G=this.children.insert(v,k);return new Jt(this.value,G)}}remove(u){if(hr(u))return this.children.isEmpty()?new Jt(null):new Jt(null,this.children);{const d=or(u),v=this.children.get(d);if(v){const S=v.remove(br(u));let k;return k=S.isEmpty()?this.children.remove(d):this.children.insert(d,S),null===this.value&&k.isEmpty()?new Jt(null):new Jt(this.value,k)}return this}}get(u){if(hr(u))return this.value;{const d=or(u),v=this.children.get(d);return v?v.get(br(u)):null}}setTree(u,d){if(hr(u))return d;{const v=or(u),k=(this.children.get(v)||new Jt(null)).setTree(br(u),d);let G;return G=k.isEmpty()?this.children.remove(v):this.children.insert(v,k),new Jt(this.value,G)}}fold(u){return this.fold_(Fr(),u)}fold_(u,d){const v={};return this.children.inorderTraversal((S,k)=>{v[S]=k.fold_(Gr(u,S),d)}),d(u,this.value,v)}findOnPath(u,d){return this.findOnPath_(u,Fr(),d)}findOnPath_(u,d,v){const S=!!this.value&&v(d,this.value);if(S)return S;if(hr(u))return null;{const k=or(u),G=this.children.get(k);return G?G.findOnPath_(br(u),Gr(d,k),v):null}}foreachOnPath(u,d){return this.foreachOnPath_(u,Fr(),d)}foreachOnPath_(u,d,v){if(hr(u))return this;{this.value&&v(d,this.value);const S=or(u),k=this.children.get(S);return k?k.foreachOnPath_(br(u),Gr(d,S),v):new Jt(null)}}foreach(u){this.foreach_(Fr(),u)}foreach_(u,d){this.children.inorderTraversal((v,S)=>{S.foreach_(Gr(u,v),d)}),this.value&&d(u,this.value)}foreachChild(u){this.children.inorderTraversal((d,v)=>{v.value&&u(d,v.value)})}}class Zi{constructor(u){this.writeTree_=u}static empty(){return new Zi(new Jt(null))}}function un(h,u,d){if(hr(u))return new Zi(new Jt(d));{const v=h.writeTree_.findRootMostValueAndPath(u);if(null!=v){const S=v.path;let k=v.value;const G=oi(S,u);return k=k.updateChild(G,d),new Zi(h.writeTree_.set(S,k))}{const S=new Jt(d),k=h.writeTree_.setTree(u,S);return new Zi(k)}}}function Ct(h,u,d){let v=h;return _r(d,(S,k)=>{v=un(v,Gr(u,S),k)}),v}function zt(h,u){if(hr(u))return Zi.empty();{const d=h.writeTree_.setTree(u,new Jt(null));return new Zi(d)}}function Ii(h,u){return null!=Ms(h,u)}function Ms(h,u){const d=h.writeTree_.findRootMostValueAndPath(u);return null!=d?h.writeTree_.get(d.path).getChild(oi(d.path,u)):null}function Do(h){const u=[],d=h.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(Zr,(v,S)=>{u.push(new Xn(v,S))}):h.writeTree_.children.inorderTraversal((v,S)=>{null!=S.value&&u.push(new Xn(v,S.value))}),u}function fo(h,u){if(hr(u))return h;{const d=Ms(h,u);return new Zi(null!=d?new Jt(d):h.writeTree_.subtree(u))}}function vl(h){return h.writeTree_.isEmpty()}function po(h,u){return Ma(Fr(),h.writeTree_,u)}function Ma(h,u,d){if(null!=u.value)return d.updateChild(h,u.value);{let v=null;return u.children.inorderTraversal((S,k)=>{".priority"===S?((0,W.hu)(null!==k.value,"Priority writes must always be leaf nodes"),v=k.value):d=Ma(Gr(h,S),k,d)}),!d.getChild(h).isEmpty()&&null!==v&&(d=d.updateChild(Gr(h,".priority"),v)),d}}function ys(h,u){return Ql(u,h)}function gr(h,u){if(h.snap)return Hi(h.path,u);for(const d in h.children)if(h.children.hasOwnProperty(d)&&Hi(Gr(h.path,d),u))return!0;return!1}function ql(h){return h.visible}function wi(h,u,d){let v=Zi.empty();for(let S=0;S<h.length;++S){const k=h[S];if(u(k)){const G=k.path;let ie;if(k.snap)Hi(d,G)?(ie=oi(d,G),v=un(v,ie,k.snap)):Hi(G,d)&&(ie=oi(G,d),v=un(v,Fr(),k.snap.getChild(ie)));else{if(!k.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(Hi(d,G))ie=oi(d,G),v=Ct(v,ie,k.children);else if(Hi(G,d))if(ie=oi(G,d),hr(ie))v=Ct(v,Fr(),k.children);else{const ve=(0,W.DV)(k.children,or(ie));if(ve){const $e=ve.getChild(br(ie));v=un(v,Fr(),$e)}}}}}return v}function Yn(h,u,d,v,S){if(v||S){const k=fo(h.visibleWrites,u);return!S&&vl(k)?d:S||null!=d||Ii(k,Fr())?po(wi(h.allWrites,function($e){return($e.visible||S)&&(!v||!~v.indexOf($e.writeId))&&(Hi($e.path,u)||Hi(u,$e.path))},u),d||I.EMPTY_NODE):null}{const k=Ms(h.visibleWrites,u);if(null!=k)return k;{const G=fo(h.visibleWrites,u);return vl(G)?d:null!=d||Ii(G,Fr())?po(G,d||I.EMPTY_NODE):null}}}function Wi(h,u,d,v){return Yn(h.writeTree,h.treePath,u,d,v)}function ko(h,u){return function Wo(h,u,d){let v=I.EMPTY_NODE;const S=Ms(h.visibleWrites,u);if(S)return S.isLeafNode()||S.forEachChild(Zr,(k,G)=>{v=v.updateImmediateChild(k,G)}),v;if(d){const k=fo(h.visibleWrites,u);return d.forEachChild(Zr,(G,ie)=>{const ve=po(fo(k,new Ur(G)),ie);v=v.updateImmediateChild(G,ve)}),Do(k).forEach(G=>{v=v.updateImmediateChild(G.name,G.node)}),v}return Do(fo(h.visibleWrites,u)).forEach(G=>{v=v.updateImmediateChild(G.name,G.node)}),v}(h.writeTree,h.treePath,u)}function Ko(h,u,d,v){return function Kr(h,u,d,v,S){(0,W.hu)(v||S,"Either existingEventSnap or existingServerSnap must exist");const k=Gr(u,d);if(Ii(h.visibleWrites,k))return null;{const G=fo(h.visibleWrites,k);return vl(G)?S.getChild(d):po(G,S.getChild(d))}}(h.writeTree,h.treePath,u,d,v)}function eo(h,u){return function ci(h,u){return Ms(h.visibleWrites,u)}(h.writeTree,Gr(h.treePath,u))}function _a(h,u,d){return function qu(h,u,d,v){const S=Gr(u,d),k=Ms(h.visibleWrites,S);return null!=k?k:v.isCompleteForChild(d)?po(fo(h.visibleWrites,S),v.getNode().getImmediateChild(d)):null}(h.writeTree,h.treePath,u,d)}function Zl(h,u){return Ql(Gr(h.treePath,u),h.writeTree)}function Ql(h,u){return{treePath:h,writeTree:u}}class Ws{constructor(){this.changeMap=new Map}trackChildChange(u){const d=u.type,v=u.childName;(0,W.hu)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const S=this.changeMap.get(v);if(S){const k=S.type;if("child_added"===d&&"child_removed"===k)this.changeMap.set(v,Bi(v,u.snapshotNode,S.snapshotNode));else if("child_removed"===d&&"child_added"===k)this.changeMap.delete(v);else if("child_removed"===d&&"child_changed"===k)this.changeMap.set(v,Or(v,S.oldSnap));else if("child_changed"===d&&"child_added"===k)this.changeMap.set(v,Wn(v,u.snapshotNode));else{if("child_changed"!==d||"child_changed"!==k)throw(0,W.g5)("Illegal combination of changes: "+u+" occurred after "+S);this.changeMap.set(v,Bi(v,u.snapshotNode,S.oldSnap))}}else this.changeMap.set(v,u)}getChanges(){return Array.from(this.changeMap.values())}}const Ea=new class ua{getCompleteChild(u){return null}getChildAfterChild(u,d,v){return null}};class Qi{constructor(u,d,v=null){this.writes_=u,this.viewCache_=d,this.optCompleteServerCache_=v}getCompleteChild(u){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(u))return d.getNode().getImmediateChild(u);{const v=null!=this.optCompleteServerCache_?new K(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _a(this.writes_,u,v)}}getChildAfterChild(u,d,v){const S=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jn(this.viewCache_),k=function Ka(h,u,d,v,S,k){return function gn(h,u,d,v,S,k,G){let ie;const ve=fo(h.visibleWrites,u),$e=Ms(ve,Fr());if(null!=$e)ie=$e;else{if(null==d)return[];ie=po(ve,d)}if(ie=ie.withIndex(G),ie.isEmpty()||ie.isLeafNode())return[];{const Lt=[],kt=G.getCompare(),Zt=k?ie.getReverseIteratorFrom(v,G):ie.getIteratorFrom(v,G);let Vn=Zt.getNext();for(;Vn&&Lt.length<S;)0!==kt(Vn,v)&&Lt.push(Vn),Vn=Zt.getNext();return Lt}}(h.writeTree,h.treePath,u,d,v,S,k)}(this.writes_,S,d,1,v,u);return 0===k.length?null:k[0]}}function Rs(h,u,d,v,S,k){const G=u.eventCache;if(null!=eo(v,d))return u;{let ie,ve;if(hr(d))if((0,W.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const $e=Jn(u),kt=ko(v,$e instanceof I?$e:I.EMPTY_NODE);ie=h.filter.updateFullNode(u.eventCache.getNode(),kt,k)}else{const $e=Wi(v,Jn(u));ie=h.filter.updateFullNode(u.eventCache.getNode(),$e,k)}else{const $e=or(d);if(".priority"===$e){(0,W.hu)(1===bi(d),"Can't have a priority with additional path components");const Lt=G.getNode();ve=u.serverCache.getNode();const kt=Ko(v,d,Lt,ve);ie=null!=kt?h.filter.updatePriority(Lt,kt):G.getNode()}else{const Lt=br(d);let kt;if(G.isCompleteForChild($e)){ve=u.serverCache.getNode();const Zt=Ko(v,d,G.getNode(),ve);kt=null!=Zt?G.getNode().getImmediateChild($e).updateChild(Lt,Zt):G.getNode().getImmediateChild($e)}else kt=_a(v,$e,u.serverCache);ie=null!=kt?h.filter.updateChild(G.getNode(),$e,kt,Lt,S,k):G.getNode()}}return Tr(u,ie,G.isFullyInitialized()||hr(d),h.filter.filtersNodes())}}function pi(h,u,d,v,S,k,G,ie){const ve=u.serverCache;let $e;const Lt=G?h.filter:h.filter.getIndexedFilter();if(hr(d))$e=Lt.updateFullNode(ve.getNode(),v,null);else if(Lt.filtersNodes()&&!ve.isFiltered()){const Vn=ve.getNode().updateChild(d,v);$e=Lt.updateFullNode(ve.getNode(),Vn,null)}else{const Vn=or(d);if(!ve.isCompleteForPath(d)&&bi(d)>1)return u;const ur=br(d),ws=ve.getNode().getImmediateChild(Vn).updateChild(ur,v);$e=".priority"===Vn?Lt.updatePriority(ve.getNode(),ws):Lt.updateChild(ve.getNode(),Vn,ws,ur,Ea,null)}const kt=Bt(u,$e,ve.isFullyInitialized()||hr(d),Lt.filtersNodes());return Rs(h,kt,d,S,new Qi(S,kt,k),ie)}function Ya(h,u,d,v,S,k,G){const ie=u.eventCache;let ve,$e;const Lt=new Qi(S,u,k);if(hr(d))$e=h.filter.updateFullNode(u.eventCache.getNode(),v,G),ve=Tr(u,$e,!0,h.filter.filtersNodes());else{const kt=or(d);if(".priority"===kt)$e=h.filter.updatePriority(u.eventCache.getNode(),v),ve=Tr(u,$e,ie.isFullyInitialized(),ie.isFiltered());else{const Zt=br(d),Vn=ie.getNode().getImmediateChild(kt);let ur;if(hr(Zt))ur=v;else{const Ti=Lt.getCompleteChild(kt);ur=null!=Ti?".priority"===Xs(Zt)&&Ti.getChild(gs(Zt)).isEmpty()?Ti:Ti.updateChild(Zt,v):I.EMPTY_NODE}ve=Vn.equals(ur)?u:Tr(u,h.filter.updateChild(ie.getNode(),kt,ur,Zt,Lt,G),ie.isFullyInitialized(),h.filter.filtersNodes())}}return ve}function Oa(h,u){return h.eventCache.isCompleteForChild(u)}function Pa(h,u,d){return d.foreach((v,S)=>{u=u.updateChild(v,S)}),u}function il(h,u,d,v,S,k,G,ie){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let $e,ve=u;$e=hr(d)?v:new Jt(null).setTree(d,v);const Lt=u.serverCache.getNode();return $e.children.inorderTraversal((kt,Zt)=>{if(Lt.hasChild(kt)){const ur=Pa(0,u.serverCache.getNode().getImmediateChild(kt),Zt);ve=pi(h,ve,new Ur(kt),ur,S,k,G,ie)}}),$e.children.inorderTraversal((kt,Zt)=>{const Vn=!u.serverCache.isCompleteForChild(kt)&&null===Zt.value;if(!Lt.hasChild(kt)&&!Vn){const Ti=Pa(0,u.serverCache.getNode().getImmediateChild(kt),Zt);ve=pi(h,ve,new Ur(kt),Ti,S,k,G,ie)}}),ve}class go{constructor(u,d){this.query_=u,this.eventRegistrations_=[];const v=this.query_._queryParams,S=new ai(v.getIndex()),k=function Va(h){return h.loadsAllData()?new ai(h.getIndex()):h.hasLimit()?new uo(h):new lo(h)}(v);this.processor_=function Ra(h){return{filter:h}}(k);const G=d.serverCache,ie=d.eventCache,ve=S.updateFullNode(I.EMPTY_NODE,G.getNode(),null),$e=k.updateFullNode(I.EMPTY_NODE,ie.getNode(),null),Lt=new K(ve,G.isFullyInitialized(),S.filtersNodes()),kt=new K($e,ie.isFullyInitialized(),k.filtersNodes());this.viewCache_=On(kt,Lt),this.eventGenerator_=new B(this.query_)}get query(){return this.query_}}function sl(h,u){const d=Jn(h.viewCache_);return d&&(h.query._queryParams.loadsAllData()||!hr(u)&&!d.getImmediateChild(or(u)).isEmpty())?d.getChild(u):null}function Yo(h){return 0===h.eventRegistrations_.length}function Os(h,u,d){const v=[];if(d){(0,W.hu)(null==u,"A cancel should cancel all event registrations.");const S=h.query._path;h.eventRegistrations_.forEach(k=>{const G=k.createCancelEvent(d,S);G&&v.push(G)})}if(u){let S=[];for(let k=0;k<h.eventRegistrations_.length;++k){const G=h.eventRegistrations_[k];if(G.matches(u)){if(u.hasAnyCallback()){S=S.concat(h.eventRegistrations_.slice(k+1));break}}else S.push(G)}h.eventRegistrations_=S}else h.eventRegistrations_=[];return v}function to(h,u,d,v){u.type===li.MERGE&&null!==u.source.queryId&&((0,W.hu)(Jn(h.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(tr(h.viewCache_),"Missing event cache, even though we have a server cache"));const S=h.viewCache_,k=function Dt(h,u,d,v,S){const k=new Ws;let G,ie;if(d.type===li.OVERWRITE){const $e=d;$e.source.fromUser?G=Ya(h,u,$e.path,$e.snap,v,S,k):((0,W.hu)($e.source.fromServer,"Unknown source."),ie=$e.source.tagged||u.serverCache.isFiltered()&&!hr($e.path),G=pi(h,u,$e.path,$e.snap,v,S,ie,k))}else if(d.type===li.MERGE){const $e=d;$e.source.fromUser?G=function wu(h,u,d,v,S,k,G){let ie=u;return v.foreach((ve,$e)=>{const Lt=Gr(d,ve);Oa(u,or(Lt))&&(ie=Ya(h,ie,Lt,$e,S,k,G))}),v.foreach((ve,$e)=>{const Lt=Gr(d,ve);Oa(u,or(Lt))||(ie=Ya(h,ie,Lt,$e,S,k,G))}),ie}(h,u,$e.path,$e.children,v,S,k):((0,W.hu)($e.source.fromServer,"Unknown source."),ie=$e.source.tagged||u.serverCache.isFiltered(),G=il(h,u,$e.path,$e.children,v,S,ie,k))}else if(d.type===li.ACK_USER_WRITE){const $e=d;G=$e.revert?function Na(h,u,d,v,S,k){let G;if(null!=eo(v,d))return u;{const ie=new Qi(v,u,S),ve=u.eventCache.getNode();let $e;if(hr(d)||".priority"===or(d)){let Lt;if(u.serverCache.isFullyInitialized())Lt=Wi(v,Jn(u));else{const kt=u.serverCache.getNode();(0,W.hu)(kt instanceof I,"serverChildren would be complete if leaf node"),Lt=ko(v,kt)}$e=h.filter.updateFullNode(ve,Lt,k)}else{const Lt=or(d);let kt=_a(v,Lt,u.serverCache);null==kt&&u.serverCache.isCompleteForChild(Lt)&&(kt=ve.getImmediateChild(Lt)),$e=null!=kt?h.filter.updateChild(ve,Lt,kt,br(d),ie,k):u.eventCache.getNode().hasChild(Lt)?h.filter.updateChild(ve,Lt,I.EMPTY_NODE,br(d),ie,k):ve,$e.isEmpty()&&u.serverCache.isFullyInitialized()&&(G=Wi(v,Jn(u)),G.isLeafNode()&&($e=h.filter.updateFullNode($e,G,k)))}return G=u.serverCache.isFullyInitialized()||null!=eo(v,Fr()),Tr(u,$e,G,h.filter.filtersNodes())}}(h,u,$e.path,v,S,k):function kl(h,u,d,v,S,k,G){if(null!=eo(S,d))return u;const ie=u.serverCache.isFiltered(),ve=u.serverCache;if(null!=v.value){if(hr(d)&&ve.isFullyInitialized()||ve.isCompleteForPath(d))return pi(h,u,d,ve.getNode().getChild(d),S,k,ie,G);if(hr(d)){let $e=new Jt(null);return ve.getNode().forEachChild(qi,(Lt,kt)=>{$e=$e.set(new Ur(Lt),kt)}),il(h,u,d,$e,S,k,ie,G)}return u}{let $e=new Jt(null);return v.foreach((Lt,kt)=>{const Zt=Gr(d,Lt);ve.isCompleteForPath(Zt)&&($e=$e.set(Lt,ve.getNode().getChild(Zt)))}),il(h,u,d,$e,S,k,ie,G)}}(h,u,$e.path,$e.affectedTree,v,S,k)}else{if(d.type!==li.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+d.type);G=function Cu(h,u,d,v,S){const k=u.serverCache;return Rs(h,Bt(u,k.getNode(),k.isFullyInitialized()||hr(d),k.isFiltered()),d,v,Ea,S)}(h,u,d.path,v,k)}const ve=k.getChanges();return function Xl(h,u,d){const v=u.eventCache;if(v.isFullyInitialized()){const S=v.getNode().isLeafNode()||v.getNode().isEmpty(),k=tr(h);(d.length>0||!h.eventCache.isFullyInitialized()||S&&!v.getNode().equals(k)||!v.getNode().getPriority().equals(k.getPriority()))&&d.push(Rr(tr(u)))}}(u,G,ve),{viewCache:G,changes:ve}}(h.processor_,S,u,d,v);return function Ia(h,u){(0,W.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,k.viewCache),(0,W.hu)(k.viewCache.serverCache.isFullyInitialized()||!S.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=k.viewCache,To(h,k.changes,k.viewCache.eventCache.getNode(),null)}function To(h,u,d,v){return function re(h,u,d,v){const S=[],k=[];return u.forEach(G=>{"child_changed"===G.type&&h.index_.indexedValueChanged(G.oldSnap,G.snapshotNode)&&k.push(function Gi(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(G.childName,G.snapshotNode))}),ye(h,S,"child_removed",u,v,d),ye(h,S,"child_added",u,v,d),ye(h,S,"child_moved",k,v,d),ye(h,S,"child_changed",u,v,d),ye(h,S,"value",u,v,d),S}(h.eventGenerator_,u,d,v?[v]:h.eventRegistrations_)}let no,X;class Il{constructor(){this.views=new Map}}function Ks(h,u,d,v){const S=u.source.queryId;if(null!==S){const k=h.views.get(S);return(0,W.hu)(null!=k,"SyncTree gave us an op for an invalid query."),to(k,u,d,v)}{let k=[];for(const G of h.views.values())k=k.concat(to(G,u,d,v));return k}}function ca(h,u,d,v,S){const G=h.views.get(u._queryIdentifier);if(!G){let ie=Wi(d,S?v:null),ve=!1;ie?ve=!0:v instanceof I?(ie=ko(d,v),ve=!1):(ie=I.EMPTY_NODE,ve=!1);const $e=On(new K(ie,ve,!1),new K(v,S,!1));return new go(u,$e)}return G}function Ca(h){const u=[];for(const d of h.views.values())d.query._queryParams.loadsAllData()||u.push(d);return u}function T(h,u){let d=null;for(const v of h.views.values())d=d||sl(v,u);return d}function x(h,u){return u._queryParams.loadsAllData()?V(h):h.views.get(u._queryIdentifier)}function w(h,u){return null!=x(h,u)}function M(h){return null!=V(h)}function V(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let At=1;class sn{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Jt(null),this.pendingWriteTree_=function El(){return{visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mn(h,u,d,v,S){return function Nl(h,u,d,v,S){(0,W.hu)(v>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===S&&(S=!0),h.allWrites.push({path:u,snap:d,writeId:v,visible:S}),S&&(h.visibleWrites=un(h.visibleWrites,u,d)),h.lastWriteId=v}(h.pendingWriteTree_,u,d,v,S),S?rr(h,new aa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,d)):[]}function F(h,u,d=!1){const v=function _l(h,u){for(let d=0;d<h.allWrites.length;d++){const v=h.allWrites[d];if(v.writeId===u)return v}return null}(h.pendingWriteTree_,u);if(function rl(h,u){const d=h.allWrites.findIndex(ie=>ie.writeId===u);(0,W.hu)(d>=0,"removeWrite called with nonexistent writeId.");const v=h.allWrites[d];h.allWrites.splice(d,1);let S=v.visible,k=!1,G=h.allWrites.length-1;for(;S&&G>=0;){const ie=h.allWrites[G];ie.visible&&(G>=d&&gr(ie,v.path)?S=!1:Hi(v.path,ie.path)&&(k=!0)),G--}return!!S&&(k?(function la(h){h.visibleWrites=wi(h.allWrites,ql,Fr()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(v.snap?h.visibleWrites=zt(h.visibleWrites,v.path):_r(v.children,ve=>{h.visibleWrites=zt(h.visibleWrites,Gr(v.path,ve))}),!0))}(h.pendingWriteTree_,u)){let k=new Jt(null);return null!=v.snap?k=k.set(Fr(),!0):_r(v.children,G=>{k=k.set(new Ur(G),!0)}),rr(h,new oa(v.path,k,d))}return[]}function U(h,u,d){return rr(h,new aa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,d))}function _t(h,u,d,v,S=!1){const k=u._path,G=h.syncPointTree_.get(k);let ie=[];if(G&&("default"===u._queryIdentifier||w(G,u))){const ve=function ka(h,u,d,v){const S=u._queryIdentifier,k=[];let G=[];const ie=M(h);if("default"===S)for(const[ve,$e]of h.views.entries())G=G.concat(Os($e,d,v)),Yo($e)&&(h.views.delete(ve),$e.query._queryParams.loadsAllData()||k.push($e.query));else{const ve=h.views.get(S);ve&&(G=G.concat(Os(ve,d,v)),Yo(ve)&&(h.views.delete(S),ve.query._queryParams.loadsAllData()||k.push(ve.query)))}return ie&&!M(h)&&k.push(new(function wl(){return(0,W.hu)(no,"Reference.ts has not been loaded"),no}())(u._repo,u._path)),{removed:k,events:G}}(G,u,d,v);(function Bs(h){return 0===h.views.size})(G)&&(h.syncPointTree_=h.syncPointTree_.remove(k));const $e=ve.removed;if(ie=ve.events,!S){const Lt=-1!==$e.findIndex(Zt=>Zt._queryParams.loadsAllData()),kt=h.syncPointTree_.findOnPath(k,(Zt,Vn)=>M(Vn));if(Lt&&!kt){const Zt=h.syncPointTree_.subtree(k);if(!Zt.isEmpty()){const Vn=function Qc(h){return h.fold((u,d,v)=>{if(d&&M(d))return[V(d)];{let S=[];return d&&(S=Ca(d)),_r(v,(k,G)=>{S=S.concat(G)}),S}})}(Zt);for(let ur=0;ur<Vn.length;++ur){const Ti=Vn[ur],ws=Ti.query,Eo=Cl(h,Ti);h.listenProvider_.startListening(Du(ws),jr(h,ws),Eo.hashFn,Eo.onComplete)}}}!kt&&$e.length>0&&!v&&(Lt?h.listenProvider_.stopListening(Du(u),null):$e.forEach(Zt=>{const Vn=h.queryToTagMap.get(ni(Zt));h.listenProvider_.stopListening(Du(Zt),Vn)}))}!function Xc(h,u){for(let d=0;d<u.length;++d){const v=u[d];if(!v._queryParams.loadsAllData()){const S=ni(v),k=h.queryToTagMap.get(S);h.queryToTagMap.delete(S),h.tagToQueryMap.delete(k)}}}(h,$e)}return ie}function Xt(h,u,d,v){const S=vs(h,v);if(null!=S){const k=Fo(S),G=k.path,ie=k.queryId,ve=oi(G,u);return al(h,G,new aa(sa(ie),ve,d))}return[]}function An(h,u,d,v=!1){const S=u._path;let k=null,G=!1;h.syncPointTree_.foreachOnPath(S,(Zt,Vn)=>{const ur=oi(Zt,S);k=k||T(Vn,ur),G=G||M(Vn)});let ve,ie=h.syncPointTree_.get(S);ie?(G=G||M(ie),k=k||T(ie,Fr())):(ie=new Il,h.syncPointTree_=h.syncPointTree_.set(S,ie)),null!=k?ve=!0:(ve=!1,k=I.EMPTY_NODE,h.syncPointTree_.subtree(S).foreachChild((Vn,ur)=>{const Ti=T(ur,Fr());Ti&&(k=k.updateImmediateChild(Vn,Ti))}));const $e=w(ie,u);if(!$e&&!u._queryParams.loadsAllData()){const Zt=ni(u);(0,W.hu)(!h.queryToTagMap.has(Zt),"View does not exist, but we have a tag");const Vn=function Jc(){return At++}();h.queryToTagMap.set(Zt,Vn),h.tagToQueryMap.set(Vn,Zt)}let kt=function _i(h,u,d,v,S,k){const G=ca(h,u,v,S,k);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,G),function wa(h,u){h.eventRegistrations_.push(u)}(G,d),function ol(h,u){const d=h.viewCache_.eventCache,v=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(Zr,(k,G)=>{v.push(Wn(k,G))}),d.isFullyInitialized()&&v.push(Rr(d.getNode())),To(h,v,d.getNode(),u)}(G,d)}(ie,u,d,ys(h.pendingWriteTree_,S),k,ve);if(!$e&&!G&&!v){const Zt=x(ie,u);kt=kt.concat(function $d(h,u,d){const v=u._path,S=jr(h,u),k=Cl(h,d),G=h.listenProvider_.startListening(Du(u),S,k.hashFn,k.onComplete),ie=h.syncPointTree_.subtree(v);if(S)(0,W.hu)(!M(ie.value),"If we're adding a query, it shouldn't be shadowed");else{const ve=ie.fold(($e,Lt,kt)=>{if(!hr($e)&&Lt&&M(Lt))return[V(Lt).query];{let Zt=[];return Lt&&(Zt=Zt.concat(Ca(Lt).map(Vn=>Vn.query))),_r(kt,(Vn,ur)=>{Zt=Zt.concat(ur)}),Zt}});for(let $e=0;$e<ve.length;++$e){const Lt=ve[$e];h.listenProvider_.stopListening(Du(Lt),jr(h,Lt))}}return G}(h,u,Zt))}return kt}function er(h,u,d){const S=h.pendingWriteTree_,k=h.syncPointTree_.findOnPath(u,(G,ie)=>{const $e=T(ie,oi(G,u));if($e)return $e});return Yn(S,u,k,d,!0)}function rr(h,u){return mo(u,h.syncPointTree_,null,ys(h.pendingWriteTree_,Fr()))}function mo(h,u,d,v){if(hr(h.path))return Ys(h,u,d,v);{const S=u.get(Fr());null==d&&null!=S&&(d=T(S,Fr()));let k=[];const G=or(h.path),ie=h.operationForChild(G),ve=u.children.get(G);if(ve&&ie){const $e=d?d.getImmediateChild(G):null,Lt=Zl(v,G);k=k.concat(mo(ie,ve,$e,Lt))}return S&&(k=k.concat(Ks(S,h,v,d))),k}}function Ys(h,u,d,v){const S=u.get(Fr());null==d&&null!=S&&(d=T(S,Fr()));let k=[];return u.children.inorderTraversal((G,ie)=>{const ve=d?d.getImmediateChild(G):null,$e=Zl(v,G),Lt=h.operationForChild(G);Lt&&(k=k.concat(Ys(Lt,ie,ve,$e)))}),S&&(k=k.concat(Ks(S,h,v,d))),k}function Cl(h,u){const d=u.query,v=jr(h,d);return{hashFn:()=>(function Cc(h){return h.viewCache_.serverCache.getNode()}(u)||I.EMPTY_NODE).hash(),onComplete:S=>{if("ok"===S)return v?function ht(h,u,d){const v=vs(h,d);if(v){const S=Fo(v),k=S.path,G=S.queryId,ie=oi(k,u);return al(h,k,new No(sa(G),ie))}return[]}(h,d._path,v):function De(h,u){return rr(h,new No({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,d._path);{const k=function an(h,u){let d="Unknown Error";"too_big"===h?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?d="Client doesn't have permission to access the desired data.":"unavailable"===h&&(d="The service is unavailable");const v=new Error(h+" at "+u._path.toString()+": "+d);return v.code=h.toUpperCase(),v}(S,d);return _t(h,d,null,k)}}}}function jr(h,u){const d=ni(u);return h.queryToTagMap.get(d)}function ni(h){return h._path.toString()+"$"+h._queryIdentifier}function vs(h,u){return h.tagToQueryMap.get(u)}function Fo(h){const u=h.indexOf("$");return(0,W.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new Ur(h.substr(0,u))}}function al(h,u,d){const v=h.syncPointTree_.get(u);return(0,W.hu)(v,"Missing sync point for query tag that we're tracking"),Ks(v,d,ys(h.pendingWriteTree_,u),null)}function Du(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Ze(){return(0,W.hu)(X,"Reference.ts has not been loaded"),X}())(h._repo,h._path):h}class ed{constructor(u){this.node_=u}getImmediateChild(u){const d=this.node_.getImmediateChild(u);return new ed(d)}node(){return this.node_}}class Tu{constructor(u,d){this.syncTree_=u,this.path_=d}getImmediateChild(u){const d=Gr(this.path_,u);return new Tu(this.syncTree_,d)}node(){return er(this.syncTree_,this.path_)}}const Df=function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h},Zu=function(h,u,d){return h&&"object"==typeof h?((0,W.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?td(h[".sv"],u,d):"object"==typeof h[".sv"]?Mh(h[".sv"],u):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},td=function(h,u,d){if("timestamp"===h)return d.timestamp;(0,W.hu)(!1,"Unexpected server value: "+h)},Mh=function(h,u,d){h.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const v=h.increment;"number"!=typeof v&&(0,W.hu)(!1,"Unexpected increment value: "+v);const S=u.node();if((0,W.hu)(null!==S&&typeof S<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!S.isLeafNode())return v;const G=S.getValue();return"number"!=typeof G?v:G+v},Rh=function(h,u,d,v){return Jl(u,new Tu(d,h),v)},Vd=function(h,u,d){return Jl(h,new ed(u),d)};function Jl(h,u,d){const v=h.getPriority().val(),S=Zu(v,u.getImmediateChild(".priority"),d);let k;if(h.isLeafNode()){const G=h,ie=Zu(G.getValue(),u,d);return ie!==G.getValue()||S!==G.getPriority().val()?new ds(ie,st(S)):h}{const G=h;return k=G,S!==G.getPriority().val()&&(k=k.updatePriority(new ds(S))),G.forEachChild(Zr,(ie,ve)=>{const $e=Jl(ve,u.getImmediateChild(ie),d);$e!==ve&&(k=k.updateImmediateChild(ie,$e))}),k}}class Ud{constructor(u="",d=null,v={children:{},childCount:0}){this.name=u,this.parent=d,this.node=v}}function as(h,u){let d=u instanceof Ur?u:new Ur(u),v=h,S=or(d);for(;null!==S;){const k=(0,W.DV)(v.node.children,S)||{children:{},childCount:0};v=new Ud(S,v,k),d=br(d),S=or(d)}return v}function qa(h){return h.node.value}function _s(h,u){h.node.value=u,Ji(h)}function Vi(h){return h.node.childCount>0}function ll(h,u){_r(h.node.children,(d,v)=>{u(new Ud(d,h,v))})}function hs(h,u,d,v){d&&!v&&u(h),ll(h,S=>{hs(S,u,!0,v)}),d&&v&&u(h)}function eu(h){return new Ur(null===h.parent?h.name:eu(h.parent)+"/"+h.name)}function Ji(h){null!==h.parent&&function jd(h,u,d){const v=function nd(h){return void 0===qa(h)&&!Vi(h)}(d),S=(0,W.r3)(h.node.children,u);v&&S?(delete h.node.children[u],h.node.childCount--,Ji(h)):!v&&!S&&(h.node.children[u]=d.node,h.node.childCount++,Ji(h))}(h.parent,h.name,h)}const Qu=/[\[\].#$\/\u0000-\u001F\u007F]/,tu=/[\[\].#$\u0000-\u001F\u007F]/,bl=10485760,nu=function(h){return"string"==typeof h&&0!==h.length&&!Qu.test(h)},Fl=function(h){return"string"==typeof h&&0!==h.length&&!tu.test(h)},ru=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!vn(h)||h&&"object"==typeof h&&(0,W.r3)(h,".sv")},Pi=function(h,u,d,v){v&&void 0===u||ul((0,W.gK)(h,"value"),u,d)},ul=function(h,u,d){const v=d instanceof Ur?new Ri(d,h):d;if(void 0===u)throw new Error(h+"contains undefined "+Cs(v));if("function"==typeof u)throw new Error(h+"contains a function "+Cs(v)+" with contents = "+u.toString());if(vn(u))throw new Error(h+"contains "+u.toString()+" "+Cs(v));if("string"==typeof u&&u.length>bl/3&&(0,W.ug)(u)>bl)throw new Error(h+"contains a string greater than "+bl+" utf8 bytes "+Cs(v)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let S=!1,k=!1;if(_r(u,(G,ie)=>{if(".value"===G)S=!0;else if(".priority"!==G&&".sv"!==G&&(k=!0,!nu(G)))throw new Error(h+" contains an invalid key ("+G+") "+Cs(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function us(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,W.ug)(u),ns(h)})(v,G),ul(h,ie,v),function bo(h){const u=h.parts_.pop();h.byteLength_-=(0,W.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(v)}),S&&k)throw new Error(h+' contains ".value" child '+Cs(v)+" in addition to actual children.")}},Su=function(h,u,d,v){if(v&&void 0===u)return;const S=(0,W.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(S+" must be an object containing the children to replace.");const k=[];_r(u,(G,ie)=>{const ve=new Ur(G);if(ul(S,ie,Gr(d,ve)),".priority"===Xs(ve)&&!ru(ie))throw new Error(S+"contains an invalid value for '"+ve.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");k.push(ve)}),function(h,u){let d,v;for(d=0;d<u.length;d++){v=u[d];const k=ps(v);for(let G=0;G<k.length;G++)if((".priority"!==k[G]||G!==k.length-1)&&!nu(k[G]))throw new Error(h+"contains an invalid key ("+k[G]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(ga);let S=null;for(d=0;d<u.length;d++){if(v=u[d],null!==S&&Hi(S,v))throw new Error(h+"contains a path "+S.toString()+" that is ancestor of another path "+v.toString());S=v}}(S,k)},$s=function(h,u,d){if(!d||void 0!==u){if(vn(u))throw new Error((0,W.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ru(u))throw new Error((0,W.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fa=function(h,u,d,v){if(!(v&&void 0===d||nu(d)))throw new Error((0,W.gK)(h,u)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ll=function(h,u,d,v){if(!(v&&void 0===d||Fl(d)))throw new Error((0,W.gK)(h,u)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bl=function(h,u,d,v){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Ll(h,u,d,v)},rs=function(h,u){if(".info"===or(u))throw new Error(h+" failed = Can't modify data under /.info/")},Xu=function(h,u){const d=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!nu(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==d.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Fl(h)}(d))throw new Error((0,W.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ju{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dl(h,u){let d=null;for(let v=0;v<u.length;v++){const S=u[v],k=S.getPath();null!==d&&!js(k,d.path)&&(h.eventLists_.push(d),d=null),null===d&&(d={events:[],path:k}),d.events.push(S)}d&&h.eventLists_.push(d)}function Gd(h,u,d){Dl(h,d),Au(h,v=>js(v,u))}function Ps(h,u,d){Dl(h,d),Au(h,v=>Hi(v,u)||Hi(u,v))}function Au(h,u){h.recursionDepth_++;let d=!0;for(let v=0;v<h.eventLists_.length;v++){const S=h.eventLists_[v];S&&(u(S.path)?(zd(h.eventLists_[v]),h.eventLists_[v]=null):d=!1)}d&&(h.eventLists_=[]),h.recursionDepth_--}function zd(h){for(let u=0;u<h.events.length;u++){const d=h.events[u];if(null!==d){h.events[u]=null;const v=d.getEventRunner();Cn&&dr("event: "+d.toString()),Rn(v)}}}const su="repo_interrupt",rd=25;class bc{constructor(u,d,v,S){this.repoInfo_=u,this.forceRestClient_=d,this.authTokenProvider_=v,this.appCheckProvider_=S,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ju,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ra(),this.transactionQueueTree_=new Ud,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function id(h){const d=h.infoData_.getNode(new Ur(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function cl(h){return Df({timestamp:id(h)})}function Dc(h,u,d,v,S){h.dataUpdateCount++;const k=new Ur(u);d=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,d):d;let G=[];if(S)if(v){const ve=(0,W.UI)(d,$e=>st($e));G=function kn(h,u,d,v){const S=vs(h,v);if(S){const k=Fo(S),G=k.path,ie=k.queryId,ve=oi(G,u),$e=Jt.fromObject(d);return al(h,G,new N(sa(ie),ve,$e))}return[]}(h.serverSyncTree_,k,ve,S)}else{const ve=st(d);G=Xt(h.serverSyncTree_,k,ve,S)}else if(v){const ve=(0,W.UI)(d,$e=>st($e));G=function ee(h,u,d){const v=Jt.fromObject(d);return rr(h,new N({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,v))}(h.serverSyncTree_,k,ve)}else{const ve=st(d);G=U(h.serverSyncTree_,k,ve)}let ie=k;G.length>0&&(ie=qo(h,k)),Ps(h.eventQueue_,ie,G)}function Tc(h,u){ba(h,"connected",u),!1===u&&function ou(h){Sl(h,"onDisconnectEvents");const u=cl(h),d=ra();os(h.onDisconnect_,Fr(),(S,k)=>{const G=Rh(S,k,h.serverSyncTree_,u);zs(d,S,G)});let v=[];os(d,Fr(),(S,k)=>{v=v.concat(U(h.serverSyncTree_,S,k));const G=xc(h,S);qo(h,G)}),h.onDisconnect_=ra(),Ps(h.eventQueue_,Fr(),v)}(h)}function ba(h,u,d){const v=new Ur("/.info/"+u),S=st(d);h.infoData_.updateSnapshot(v,S);const k=U(h.infoSyncTree_,v,S);Ps(h.eventQueue_,v,k)}function La(h){return h.nextWriteId_++}function Tl(h,u,d,v,S){Sl(h,"set",{path:u.toString(),value:d,priority:v});const k=cl(h),G=st(d,v),ie=er(h.serverSyncTree_,u),ve=Vd(G,ie,k),$e=La(h),Lt=Mn(h.serverSyncTree_,u,ve,$e,!0);Dl(h.eventQueue_,Lt),h.server_.put(u.toString(),G.val(!0),(Zt,Vn)=>{const ur="ok"===Zt;ur||qn("set at "+u+" failed: "+Zt);const Ti=F(h.serverSyncTree_,$e,!ur);Ps(h.eventQueue_,u,Ti),Vl(0,S,Zt,Vn)});const kt=xc(h,u);qo(h,kt),Ps(h.eventQueue_,kt,[])}function Ac(h,u,d){h.server_.onDisconnectCancel(u.toString(),(v,S)=>{"ok"===v&&Pl(h.onDisconnect_,u),Vl(0,d,v,S)})}function od(h,u,d,v){const S=st(d);h.server_.onDisconnectPut(u.toString(),S.val(!0),(k,G)=>{"ok"===k&&zs(h.onDisconnect_,u,S),Vl(0,v,k,G)})}function es(h,u,d){let v;v=".info"===or(u._path)?_t(h.infoSyncTree_,u,d):_t(h.serverSyncTree_,u,d),Gd(h.eventQueue_,u._path,v)}function au(h){h.persistentConnection_&&h.persistentConnection_.interrupt(su)}function Sl(h,...u){let d="";h.persistentConnection_&&(d=h.persistentConnection_.id+":"),dr(d,...u)}function Vl(h,u,d,v){u&&Rn(()=>{if("ok"===d)u(null);else{const S=(d||"error").toUpperCase();let k=S;v&&(k+=": "+v);const G=new Error(k);G.code=S,u(G)}})}function rc(h,u,d){return er(h.serverSyncTree_,u,d)||I.EMPTY_NODE}function Mu(h,u=h.transactionQueueTree_){if(u||Ru(h,u),qa(u)){const d=Wd(h,u);(0,W.hu)(d.length>0,"Sending zero length transaction queue"),d.every(S=>0===S.status)&&function Ba(h,u,d){const v=d.map($e=>$e.currentWriteId),S=rc(h,u,v);let k=S;const G=S.hash();for(let $e=0;$e<d.length;$e++){const Lt=d[$e];(0,W.hu)(0===Lt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Lt.status=1,Lt.retryCount++;const kt=oi(u,Lt.path);k=k.updateChild(kt,Lt.currentOutputSnapshotRaw)}const ie=k.val(!0),ve=u;h.server_.put(ve.toString(),ie,$e=>{Sl(h,"transaction put response",{path:ve.toString(),status:$e});let Lt=[];if("ok"===$e){const kt=[];for(let Zt=0;Zt<d.length;Zt++)d[Zt].status=2,Lt=Lt.concat(F(h.serverSyncTree_,d[Zt].currentWriteId)),d[Zt].onComplete&&kt.push(()=>d[Zt].onComplete(null,!0,d[Zt].currentOutputSnapshotResolved)),d[Zt].unwatcher();Ru(h,as(h.transactionQueueTree_,u)),Mu(h,h.transactionQueueTree_),Ps(h.eventQueue_,u,Lt);for(let Zt=0;Zt<kt.length;Zt++)Rn(kt[Zt])}else{if("datastale"===$e)for(let kt=0;kt<d.length;kt++)d[kt].status=3===d[kt].status?4:0;else{qn("transaction at "+ve.toString()+" failed: "+$e);for(let kt=0;kt<d.length;kt++)d[kt].status=4,d[kt].abortReason=$e}qo(h,u)}},G)}(h,eu(u),d)}else Vi(u)&&ll(u,d=>{Mu(h,d)})}function qo(h,u){const d=lu(h,u),v=eu(d);return function ud(h,u,d){if(0===u.length)return;const v=[];let S=[];const G=u.filter(ie=>0===ie.status).map(ie=>ie.currentWriteId);for(let ie=0;ie<u.length;ie++){const ve=u[ie],$e=oi(d,ve.path);let kt,Lt=!1;if((0,W.hu)(null!==$e,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ve.status)Lt=!0,kt=ve.abortReason,S=S.concat(F(h.serverSyncTree_,ve.currentWriteId,!0));else if(0===ve.status)if(ve.retryCount>=rd)Lt=!0,kt="maxretry",S=S.concat(F(h.serverSyncTree_,ve.currentWriteId,!0));else{const Zt=rc(h,ve.path,G);ve.currentInputSnapshot=Zt;const Vn=u[ie].update(Zt.val());if(void 0!==Vn){ul("transaction failed: Data returned ",Vn,ve.path);let ur=st(Vn);"object"==typeof Vn&&null!=Vn&&(0,W.r3)(Vn,".priority")||(ur=ur.updatePriority(Zt.getPriority()));const ws=ve.currentWriteId,Eo=cl(h),Vo=Vd(ur,Zt,Eo);ve.currentOutputSnapshotRaw=ur,ve.currentOutputSnapshotResolved=Vo,ve.currentWriteId=La(h),G.splice(G.indexOf(ws),1),S=S.concat(Mn(h.serverSyncTree_,ve.path,Vo,ve.currentWriteId,ve.applyLocally)),S=S.concat(F(h.serverSyncTree_,ws,!0))}else Lt=!0,kt="nodata",S=S.concat(F(h.serverSyncTree_,ve.currentWriteId,!0))}Ps(h.eventQueue_,d,S),S=[],Lt&&(u[ie].status=2,setTimeout(u[ie].unwatcher,Math.floor(0)),u[ie].onComplete&&v.push("nodata"===kt?()=>u[ie].onComplete(null,!1,u[ie].currentInputSnapshot):()=>u[ie].onComplete(new Error(kt),!1,null)))}Ru(h,h.transactionQueueTree_);for(let ie=0;ie<v.length;ie++)Rn(v[ie]);Mu(h,h.transactionQueueTree_)}(h,Wd(h,d),v),v}function lu(h,u){let d,v=h.transactionQueueTree_;for(d=or(u);null!==d&&void 0===qa(v);)v=as(v,d),d=or(u=br(u));return v}function Wd(h,u){const d=[];return Za(h,u,d),d.sort((v,S)=>v.order-S.order),d}function Za(h,u,d){const v=qa(u);if(v)for(let S=0;S<v.length;S++)d.push(v[S]);ll(u,S=>{Za(h,S,d)})}function Ru(h,u){const d=qa(u);if(d){let v=0;for(let S=0;S<d.length;S++)2!==d[S].status&&(d[v]=d[S],v++);d.length=v,_s(u,d.length>0?d:void 0)}ll(u,v=>{Ru(h,v)})}function xc(h,u){const d=eu(lu(h,u)),v=as(h.transactionQueueTree_,u);return function yo(h,u,d){let v=d?h:h.parent;for(;null!==v;){if(u(v))return!0;v=v.parent}}(v,S=>{Es(h,S)}),Es(h,v),hs(v,S=>{Es(h,S)}),d}function Es(h,u){const d=qa(u);if(d){const v=[];let S=[],k=-1;for(let G=0;G<d.length;G++)3===d[G].status||(1===d[G].status?((0,W.hu)(k===G-1,"All SENT items should be at beginning of queue."),k=G,d[G].status=3,d[G].abortReason="set"):((0,W.hu)(0===d[G].status,"Unexpected transaction status in abort"),d[G].unwatcher(),S=S.concat(F(h.serverSyncTree_,d[G].currentWriteId,!0)),d[G].onComplete&&v.push(d[G].onComplete.bind(null,new Error("set"),!1,null))));-1===k?_s(u,void 0):d.length=k+1,Ps(h.eventQueue_,eu(u),S);for(let G=0;G<v.length;G++)Rn(v[G])}}const uu=function(h,u){const d=Da(h),v=d.namespace;return"firebase.com"===d.domain&&Yr(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==d.domain&&Yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ci(d.host,d.secure,v,"ws"===d.scheme||"wss"===d.scheme,u,"",v!==d.subdomain),path:new Ur(d.pathString)}},Da=function(h){let u="",d="",v="",S="",k="",G=!0,ie="https",ve=443;if("string"==typeof h){let $e=h.indexOf("//");$e>=0&&(ie=h.substring(0,$e-1),h=h.substring($e+2));let Lt=h.indexOf("/");-1===Lt&&(Lt=h.length);let kt=h.indexOf("?");-1===kt&&(kt=h.length),u=h.substring(0,Math.min(Lt,kt)),Lt<kt&&(S=function gi(h){let u="";const d=h.split("/");for(let v=0;v<d.length;v++)if(d[v].length>0){let S=d[v];try{S=decodeURIComponent(S.replace(/\+/g," "))}catch(k){}u+="/"+S}return u}(h.substring(Lt,kt)));const Zt=function ic(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const d of h.split("&")){if(0===d.length)continue;const v=d.split("=");2===v.length?u[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):qn(`Invalid query segment '${d}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,kt)));$e=u.indexOf(":"),$e>=0?(G="https"===ie||"wss"===ie,ve=parseInt(u.substring($e+1),10)):$e=u.length;const Vn=u.slice(0,$e);if("localhost"===Vn.toLowerCase())d="localhost";else if(Vn.split(".").length<=2)d=Vn;else{const ur=u.indexOf(".");v=u.substring(0,ur).toLowerCase(),d=u.substring(ur+1),k=v}"ns"in Zt&&(k=Zt.ns)}return{host:u,port:ve,domain:d,subdomain:v,secure:G,scheme:ie,pathString:S,namespace:k}},Ou="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zo=function(){let h=0;const u=[];return function(d){const v=d===h;let S;h=d;const k=new Array(8);for(S=7;S>=0;S--)k[S]=Ou.charAt(d%64),d=Math.floor(d/64);(0,W.hu)(0===d,"Cannot push at time == 0");let G=k.join("");if(v){for(S=11;S>=0&&63===u[S];S--)u[S]=0;u[S]++}else for(S=0;S<12;S++)u[S]=Math.floor(64*Math.random());for(S=0;S<12;S++)G+=Ou.charAt(u[S]);return(0,W.hu)(20===G.length,"nextPushId: Length should be 20."),G}}();class cu{constructor(u,d,v,S){this.eventType=u,this.eventRegistration=d,this.snapshot=v,this.prevName=S}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Wl)(this.snapshot.exportVal())}}class Ul{constructor(u,d,v){this.eventRegistration=u,this.error=d,this.path=v}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vo{constructor(u,d){this.snapshotCallback=u,this.cancelCallback=d}onValue(u,d){this.snapshotCallback.call(null,u,d)}onCancel(u){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class ro{constructor(u,d){this._repo=u,this._path=d}cancel(){const u=new W.BH;return Ac(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){rs("OnDisconnect.remove",this._path);const u=new W.BH;return od(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){rs("OnDisconnect.set",this._path),Pi("OnDisconnect.set",u,this._path,!1);const d=new W.BH;return od(this._repo,this._path,u,d.wrapCallback(()=>{})),d.promise}setWithPriority(u,d){rs("OnDisconnect.setWithPriority",this._path),Pi("OnDisconnect.setWithPriority",u,this._path,!1),$s("OnDisconnect.setWithPriority",d,!1);const v=new W.BH;return function tc(h,u,d,v,S){const k=st(d,v);h.server_.onDisconnectPut(u.toString(),k.val(!0),(G,ie)=>{"ok"===G&&zs(h.onDisconnect_,u,k),Vl(0,S,G,ie)})}(this._repo,this._path,u,d,v.wrapCallback(()=>{})),v.promise}update(u){rs("OnDisconnect.update",this._path),Su("OnDisconnect.update",u,this._path,!1);const d=new W.BH;return function ad(h,u,d,v){if((0,W.xb)(d))return dr("onDisconnect().update() called with empty data.  Don't do anything."),void Vl(0,v,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),d,(S,k)=>{"ok"===S&&_r(d,(G,ie)=>{const ve=st(ie);zs(h.onDisconnect_,Gr(u,G),ve)}),Vl(0,v,S,k)})}(this._repo,this._path,u,d.wrapCallback(()=>{})),d.promise}}class Lo{constructor(u,d,v,S){this._repo=u,this._path=d,this._queryParams=v,this._orderByCalled=S}get key(){return hr(this._path)?null:Xs(this._path)}get ref(){return new Er(this._repo,this._path)}get _queryIdentifier(){const u=Ga(this._queryParams),d=Ni(u);return"{}"===d?"default":d}get _queryObject(){return Ga(this._queryParams)}isEqual(u){if(!((u=(0,W.m9)(u))instanceof Lo))return!1;const d=this._repo===u._repo,v=js(this._path,u._path);return d&&v&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Go(h){let u="";for(let d=h.pieceNum_;d<h.pieces_.length;d++)""!==h.pieces_[d]&&(u+="/"+encodeURIComponent(String(h.pieces_[d])));return u||"/"}(this._path)}}function Al(h,u){if(!0===h._orderByCalled)throw new Error(u+": You can't combine multiple orderBy calls.")}function dl(h){let u=null,d=null;if(h.hasStart()&&(u=h.getIndexStartValue()),h.hasEnd()&&(d=h.getIndexEndValue()),h.getIndex()===qi){const v="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",S="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==ri)throw new Error(v);if("string"!=typeof u)throw new Error(S)}if(h.hasEnd()){if(h.getIndexEndName()!==pn)throw new Error(v);if("string"!=typeof d)throw new Error(S)}}else if(h.getIndex()===Zr){if(null!=u&&!ru(u)||null!=d&&!ru(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,W.hu)(h.getIndex()instanceof en||h.getIndex()===Gn,"unknown index type."),null!=u&&"object"==typeof u||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Pu(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Er extends Lo{constructor(u,d){super(u,d,new na,!1)}get parent(){const u=gs(this._path);return null===u?null:new Er(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class xl{constructor(u,d,v){this._node=u,this.ref=d,this._index=v}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const d=new Ur(u),v=da(this.ref,u);return new xl(this._node.getChild(d),v,Zr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(v,S)=>u(new xl(S,da(this.ref,v),Zr)))}hasChild(u){const d=new Ur(u);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nu(h,u){return(h=(0,W.m9)(h))._checkNotDeleted("ref"),void 0!==u?da(h._root,u):h._root}function Bo(h,u){(h=(0,W.m9)(h))._checkNotDeleted("refFromURL");const d=uu(u,h._repo.repoInfo_.nodeAdmin);Xu("refFromURL",d);const v=d.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&v.host!==h._repo.repoInfo_.host&&Yr("refFromURL: Host name does not match the current database: (found "+v.host+" but expected "+h._repo.repoInfo_.host+")"),Nu(h,d.path.toString())}function da(h,u){return null===or((h=(0,W.m9)(h))._path)?Bl("child","path",u,!1):Ll("child","path",u,!1),new Er(h._repo,Gr(h._path,u))}function Mc(h,u){h=(0,W.m9)(h),rs("set",h._path),Pi("set",u,h._path,!1);const d=new W.BH;return Tl(h._repo,h._path,u,null,d.wrapCallback(()=>{})),d.promise}function Rc(h,u){Su("update",u,h._path,!1);const d=new W.BH;return function Sc(h,u,d,v){Sl(h,"update",{path:u.toString(),value:d});let S=!0;const k=cl(h),G={};if(_r(d,(ie,ve)=>{S=!1,G[ie]=Rh(Gr(u,ie),st(ve),h.serverSyncTree_,k)}),S)dr("update() called with empty data.  Don't do anything."),Vl(0,v,"ok",void 0);else{const ie=La(h),ve=function In(h,u,d,v){!function Wa(h,u,d,v){(0,W.hu)(v>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:d,writeId:v,visible:!0}),h.visibleWrites=Ct(h.visibleWrites,u,d),h.lastWriteId=v}(h.pendingWriteTree_,u,d,v);const S=Jt.fromObject(d);return rr(h,new N({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,S))}(h.serverSyncTree_,u,G,ie);Dl(h.eventQueue_,ve),h.server_.merge(u.toString(),d,($e,Lt)=>{const kt="ok"===$e;kt||qn("update at "+u+" failed: "+$e);const Zt=F(h.serverSyncTree_,ie,!kt),Vn=Zt.length>0?qo(h,u):u;Ps(h.eventQueue_,Vn,Zt),Vl(0,v,$e,Lt)}),_r(d,$e=>{const Lt=xc(h,Gr(u,$e));qo(h,Lt)}),Ps(h.eventQueue_,u,[])}}(h._repo,h._path,u,d.wrapCallback(()=>{})),d.promise}function qd(h){h=(0,W.m9)(h);const u=new vo(()=>{}),d=new $o(u);return function sd(h,u,d){const v=function ei(h,u){const d=u._path;let v=null;h.syncPointTree_.foreachOnPath(d,($e,Lt)=>{const kt=oi($e,d);v=v||T(Lt,kt)});let S=h.syncPointTree_.get(d);S?v=v||T(S,Fr()):(S=new Il,h.syncPointTree_=h.syncPointTree_.set(d,S));const k=null!=v,G=k?new K(v,!0,!1):null;return function Xi(h){return tr(h.viewCache_)}(ca(S,u,ys(h.pendingWriteTree_,u._path),k?G.getNode():I.EMPTY_NODE,k))}(h.serverSyncTree_,u);return null!=v?Promise.resolve(v):h.server_.get(u).then(S=>{const k=st(S).withIndex(u._queryParams.getIndex());let G;if(An(h.serverSyncTree_,u,d,!0),u._queryParams.loadsAllData())G=U(h.serverSyncTree_,u._path,k);else{const ie=jr(h.serverSyncTree_,u);G=Xt(h.serverSyncTree_,u._path,k,ie)}return Ps(h.eventQueue_,u._path,G),_t(h.serverSyncTree_,u,d,null,!0),k},S=>(Sl(h,"get for query "+(0,W.Wl)(u)+" failed: "+S),Promise.reject(new Error(S))))}(h._repo,h,d).then(v=>new xl(v,new Er(h._repo,h._path),h._queryParams.getIndex()))}class $o{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,d){const v=d._queryParams.getIndex();return new cu("value",this,new xl(u.snapshotNode,new Er(d._repo,d._path),v))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,d){return this.callbackContext.hasCancelCallback?new Ul(this,u,d):null}matches(u){return u instanceof $o&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class hl{constructor(u,d){this.eventType=u,this.callbackContext=d}respondsTo(u){let d="children_added"===u?"child_added":u;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(u,d){return this.callbackContext.hasCancelCallback?new Ul(this,u,d):null}createEvent(u,d){(0,W.hu)(null!=u.childName,"Child events should have a childName.");const v=da(new Er(d._repo,d._path),u.childName),S=d._queryParams.getIndex();return new cu(u.type,this,new xl(u.snapshotNode,v,S),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof hl&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function du(h,u,d,v,S){let k;if("object"==typeof v&&(k=void 0,S=v),"function"==typeof v&&(k=v),S&&S.onlyOnce){const ve=d,$e=(Lt,kt)=>{es(h._repo,h,ie),ve(Lt,kt)};$e.userCallback=d.userCallback,$e.context=d.context,d=$e}const G=new vo(d,k||void 0),ie="value"===u?new $o(G):new hl(u,G);return function ld(h,u,d){let v;v=".info"===or(u._path)?An(h.infoSyncTree_,u,d):An(h.serverSyncTree_,u,d),Gd(h.eventQueue_,u._path,v)}(h._repo,h,ie),()=>es(h._repo,h,ie)}function fl(h,u,d,v){return du(h,"value",u,d,v)}function Oc(h,u,d,v){return du(h,"child_added",u,d,v)}function sc(h,u,d,v){return du(h,"child_changed",u,d,v)}function Ns(h,u,d,v){return du(h,"child_moved",u,d,v)}function Pc(h,u,d,v){return du(h,"child_removed",u,d,v)}function cd(h,u,d){let v=null;const S=d?new vo(d):null;"value"===u?v=new $o(S):u&&(v=new hl(u,S)),es(h._repo,h,v)}class Qo{}class b extends Qo{constructor(u,d){super(),this._value=u,this._key=d}_apply(u){Pi("endAt",this._value,u._path,!0);const d=ja(u._queryParams,this._value,this._key);if(Pu(d),dl(d),u._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(u._repo,u._path,d,u._orderByCalled)}}class E extends Qo{constructor(u,d){super(),this._value=u,this._key=d}_apply(u){Pi("endBefore",this._value,u._path,!1);const d=function Ha(h,u,d){let v;return v=ja(h,u,h.index_===qi||d?d:ri),v.endBeforeSet_=!0,v}(u._queryParams,this._value,this._key);if(Pu(d),dl(d),u._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(u._repo,u._path,d,u._orderByCalled)}}class q extends Qo{constructor(u,d){super(),this._value=u,this._key=d}_apply(u){Pi("startAt",this._value,u._path,!0);const d=Ua(u._queryParams,this._value,this._key);if(Pu(d),dl(d),u._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lo(u._repo,u._path,d,u._orderByCalled)}}class ft extends Qo{constructor(u,d){super(),this._value=u,this._key=d}_apply(u){Pi("startAfter",this._value,u._path,!1);const d=function Fs(h,u,d){let v;return v=Ua(h,u,h.index_===qi||d?d:pn),v.startAfterSet_=!0,v}(u._queryParams,this._value,this._key);if(Pu(d),dl(d),u._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lo(u._repo,u._path,d,u._orderByCalled)}}class wn extends Qo{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(u._repo,u._path,function ma(h,u){const d=h.copy();return d.limitSet_=!0,d.limit_=u,d.viewFrom_="l",d}(u._queryParams,this._limit),u._orderByCalled)}}class Ir extends Qo{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(u._repo,u._path,function xa(h,u){const d=h.copy();return d.limitSet_=!0,d.limit_=u,d.viewFrom_="r",d}(u._queryParams,this._limit),u._orderByCalled)}}class qs extends Qo{constructor(u){super(),this._path=u}_apply(u){Al(u,"orderByChild");const d=new Ur(this._path);if(hr(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const v=new en(d),S=co(u._queryParams,v);return dl(S),new Lo(u._repo,u._path,S,!0)}}class hu extends Qo{_apply(u){Al(u,"orderByKey");const d=co(u._queryParams,qi);return dl(d),new Lo(u._repo,u._path,d,!0)}}class Hl extends Qo{_apply(u){Al(u,"orderByPriority");const d=co(u._queryParams,Zr);return dl(d),new Lo(u._repo,u._path,d,!0)}}class hd extends Qo{_apply(u){Al(u,"orderByValue");const d=co(u._queryParams,Gn);return dl(d),new Lo(u._repo,u._path,d,!0)}}class Gl extends Qo{constructor(u,d){super(),this._value=u,this._key=d}_apply(u){if(Pi("equalTo",this._value,u._path,!1),u._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(u._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new b(this._value,this._key)._apply(new q(this._value,this._key)._apply(u))}}function Sa(h,...u){let d=(0,W.m9)(h);for(const v of u)d=v._apply(d);return d}(function bu(h){(0,W.hu)(!no,"__referenceConstructor has already been defined"),no=h})(Er),function oe(h){(0,W.hu)(!X,"__referenceConstructor has already been defined"),X=h}(Er);const kc="FIREBASE_DATABASE_EMULATOR_HOST",Lu={};let So=!1;function Zd(h,u,d,v,S){let k=v||h.options.databaseURL;void 0===k&&(h.options.projectId||Yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",h.options.projectId),k=`${h.options.projectId}-default-rtdb.firebaseio.com`);let ve,$e,G=uu(k,S),ie=G.repoInfo;typeof process<"u"&&process.env&&($e=process.env[kc]),$e?(ve=!0,k=`http://${$e}?ns=${ie.namespace}`,G=uu(k,S),ie=G.repoInfo):ve=!G.repoInfo.secure;const Lt=S&&ve?new Mt(Mt.OWNER):new We(h.name,h.options,u);Xu("Invalid Firebase Database URL",G),hr(G.path)||Yr("Database URL must point to the root of a Firebase Database (not including a child path).");const kt=function Sf(h,u,d,v){let S=Lu[u.name];S||(S={},Lu[u.name]=S);let k=S[h.toURLString()];return k&&Yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),k=new bc(h,So,d,v),S[h.toURLString()]=k,k}(ie,h,Lt,new Ie(h.name,d));return new Af(kt,h)}class Af{constructor(u,d){this._repoInternal=u,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xu(h,u,d){if(h.stats_=is(h.repoInfo_),h.forceRestClient_||Vr())h.server_=new ya(h.repoInfo_,(v,S,k,G)=>{Dc(h,v,S,k,G)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>Tc(h,!0),0);else{if(typeof d<"u"&&null!==d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Wl)(d)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}h.persistentConnection_=new Ss(h.repoInfo_,u,(v,S,k,G)=>{Dc(h,v,S,k,G)},v=>{Tc(h,v)},v=>{!function ec(h,u){_r(u,(d,v)=>{ba(h,d,v)})}(h,v)},h.authTokenProvider_,h.appCheckProvider_,d),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(v=>{h.server_.refreshAuthToken(v)}),h.appCheckProvider_.addTokenChangeListener(v=>{h.server_.refreshAppCheckToken(v.token)}),h.statsReporter_=function Yi(h,u){const d=h.toString();return xr[d]||(xr[d]=u()),xr[d]}(h.repoInfo_,()=>new nl(h.stats_,h.server_)),h.infoData_=new Iu,h.infoSyncTree_=new sn({startListening:(v,S,k,G)=>{let ie=[];const ve=h.infoData_.getNode(v._path);return ve.isEmpty()||(ie=U(h.infoSyncTree_,v._path,ve),setTimeout(()=>{G("ok")},0)),ie},stopListening:()=>{}}),ba(h,"connected",!1),h.serverSyncTree_=new sn({startListening:(v,S,k,G)=>(h.server_.listen(v,k,S,(ie,ve)=>{const $e=G(ie,ve);Ps(h.eventQueue_,v._path,$e)}),[]),stopListening:(v,S)=>{h.server_.unlisten(v,S)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Er(this._repo,Fr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zl(h,u){const d=Lu[u];(!d||d[h.key]!==h)&&Yr(`Database ${u}(${h.repoInfo_}) has already been deleted.`),au(h),delete d[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Yr("Cannot call "+u+" on a deleted database.")}}function Oh(){nn.IS_TRANSPORT_INITIALIZED&&qn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Xd(){Oh(),bt.forceDisallow()}function Op(){Oh(),Ft.forceDisallow(),bt.forceAllow()}function Np(h,u){Yt(h,u)}const Of={".sv":"timestamp"};class Lp{constructor(u,d){this.committed=u,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ss.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},Ss.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function Rf(h){Pt(Je.SDK_VERSION),(0,Je._registerComponent)(new Ee.wA("database",(u,{instanceIdentifier:d})=>Zd(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,Je.registerVersion)(ze,"0.14.4",h),(0,Je.registerVersion)(ze,"0.14.4","esm2017")}();const Jd=new nt.Yd("@firebase/database-compat"),Ph=function(h){Jd.warn("FIREBASE WARNING: "+h)};class Pf{constructor(u){this._delegate=u}cancel(u){(0,W.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,W.Wj)("OnDisconnect.cancel","onComplete",u,!0);const d=this._delegate.cancel();return u&&d.then(()=>u(null),v=>u(v)),d}remove(u){(0,W.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,W.Wj)("OnDisconnect.remove","onComplete",u,!0);const d=this._delegate.remove();return u&&d.then(()=>u(null),v=>u(v)),d}set(u,d){(0,W.Dv)("OnDisconnect.set",1,2,arguments.length),(0,W.Wj)("OnDisconnect.set","onComplete",d,!0);const v=this._delegate.set(u);return d&&v.then(()=>d(null),S=>d(S)),v}setWithPriority(u,d,v){(0,W.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,W.Wj)("OnDisconnect.setWithPriority","onComplete",v,!0);const S=this._delegate.setWithPriority(u,d);return v&&S.then(()=>v(null),k=>v(k)),S}update(u,d){if((0,W.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(u)){const S={};for(let k=0;k<u.length;++k)S[""+k]=u[k];u=S,Ph("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,W.Wj)("OnDisconnect.update","onComplete",d,!0);const v=this._delegate.update(u);return d&&v.then(()=>d(null),S=>d(S)),v}}class Nh{constructor(u,d){this.committed=u,this.snapshot=d}toJSON(){return(0,W.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ml{constructor(u,d){this._database=u,this._delegate=d}val(){return(0,W.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,W.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,W.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,W.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(u){return(0,W.Dv)("DataSnapshot.child",0,1,arguments.length),u=String(u),Ll("DataSnapshot.child","path",u,!1),new Ml(this._database,this._delegate.child(u))}hasChild(u){return(0,W.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ll("DataSnapshot.hasChild","path",u,!1),this._delegate.hasChild(u)}getPriority(){return(0,W.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(u){return(0,W.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,W.Wj)("DataSnapshot.forEach","action",u,!1),this._delegate.forEach(d=>u(new Ml(this._database,d)))}hasChildren(){return(0,W.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,W.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,W.Dv)("DataSnapshot.ref",0,0,arguments.length),new fa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Is{constructor(u,d){this.database=u,this._delegate=d}on(u,d,v,S){var k;(0,W.Dv)("Query.on",2,4,arguments.length),(0,W.Wj)("Query.on","callback",d,!1);const G=Is.getCancelAndContextArgs_("Query.on",v,S),ie=($e,Lt)=>{d.call(G.context,new Ml(this.database,$e),Lt)};ie.userCallback=d,ie.context=G.context;const ve=null===(k=G.cancel)||void 0===k?void 0:k.bind(G.context);switch(u){case"value":return fl(this._delegate,ie,ve),d;case"child_added":return Oc(this._delegate,ie,ve),d;case"child_removed":return Pc(this._delegate,ie,ve),d;case"child_changed":return sc(this._delegate,ie,ve),d;case"child_moved":return Ns(this._delegate,ie,ve),d;default:throw new Error((0,W.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(u,d,v){if((0,W.Dv)("Query.off",0,3,arguments.length),function(h,u,d){if(void 0!==u)switch(u){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,W.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,u),(0,W.Wj)("Query.off","callback",d,!0),(0,W.lb)("Query.off","context",v,!0),d){const S=()=>{};S.userCallback=d,S.context=v,cd(this._delegate,u,S)}else cd(this._delegate,u)}get(){return qd(this._delegate).then(u=>new Ml(this.database,u))}once(u,d,v,S){(0,W.Dv)("Query.once",1,4,arguments.length),(0,W.Wj)("Query.once","callback",d,!0);const k=Is.getCancelAndContextArgs_("Query.once",v,S),G=new W.BH,ie=($e,Lt)=>{const kt=new Ml(this.database,$e);d&&d.call(k.context,kt,Lt),G.resolve(kt)};ie.userCallback=d,ie.context=k.context;const ve=$e=>{k.cancel&&k.cancel.call(k.context,$e),G.reject($e)};switch(u){case"value":fl(this._delegate,ie,ve,{onlyOnce:!0});break;case"child_added":Oc(this._delegate,ie,ve,{onlyOnce:!0});break;case"child_removed":Pc(this._delegate,ie,ve,{onlyOnce:!0});break;case"child_changed":sc(this._delegate,ie,ve,{onlyOnce:!0});break;case"child_moved":Ns(this._delegate,ie,ve,{onlyOnce:!0});break;default:throw new Error((0,W.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return G.promise}limitToFirst(u){return(0,W.Dv)("Query.limitToFirst",1,1,arguments.length),new Is(this.database,Sa(this._delegate,function $n(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wn(h)}(u)))}limitToLast(u){return(0,W.Dv)("Query.limitToLast",1,1,arguments.length),new Is(this.database,Sa(this._delegate,function mr(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ir(h)}(u)))}orderByChild(u){return(0,W.Dv)("Query.orderByChild",1,1,arguments.length),new Is(this.database,Sa(this._delegate,function Ta(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ll("orderByChild","path",h,!1),new qs(h)}(u)))}orderByKey(){return(0,W.Dv)("Query.orderByKey",0,0,arguments.length),new Is(this.database,Sa(this._delegate,function pl(){return new hu}()))}orderByPriority(){return(0,W.Dv)("Query.orderByPriority",0,0,arguments.length),new Is(this.database,Sa(this._delegate,function dd(){return new Hl}()))}orderByValue(){return(0,W.Dv)("Query.orderByValue",0,0,arguments.length),new Is(this.database,Sa(this._delegate,function Nc(){return new hd}()))}startAt(u=null,d){return(0,W.Dv)("Query.startAt",0,2,arguments.length),new Is(this.database,Sa(this._delegate,function ae(h=null,u){return Fa("startAt","key",u,!0),new q(h,u)}(u,d)))}startAfter(u=null,d){return(0,W.Dv)("Query.startAfter",0,2,arguments.length),new Is(this.database,Sa(this._delegate,function jt(h,u){return Fa("startAfter","key",u,!0),new ft(h,u)}(u,d)))}endAt(u=null,d){return(0,W.Dv)("Query.endAt",0,2,arguments.length),new Is(this.database,Sa(this._delegate,function g(h,u){return Fa("endAt","key",u,!0),new b(h,u)}(u,d)))}endBefore(u=null,d){return(0,W.Dv)("Query.endBefore",0,2,arguments.length),new Is(this.database,Sa(this._delegate,function A(h,u){return Fa("endBefore","key",u,!0),new E(h,u)}(u,d)))}equalTo(u,d){return(0,W.Dv)("Query.equalTo",1,2,arguments.length),new Is(this.database,Sa(this._delegate,function Fu(h,u){return Fa("equalTo","key",u,!0),new Gl(h,u)}(u,d)))}toString(){return(0,W.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,W.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(u){if((0,W.Dv)("Query.isEqual",1,1,arguments.length),!(u instanceof Is))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(u._delegate)}static getCancelAndContextArgs_(u,d,v){const S={cancel:void 0,context:void 0};if(d&&v)S.cancel=d,(0,W.Wj)(u,"cancel",S.cancel,!0),S.context=v,(0,W.lb)(u,"context",S.context,!0);else if(d)if("object"==typeof d&&null!==d)S.context=d;else{if("function"!=typeof d)throw new Error((0,W.gK)(u,"cancelOrContext")+" must either be a cancel callback or a context object.");S.cancel=d}return S}get ref(){return new fa(this.database,new Er(this._delegate._repo,this._delegate._path))}}class fa extends Is{constructor(u,d){super(u,new Lo(d._repo,d._path,new na,!1)),this.database=u,this._delegate=d}getKey(){return(0,W.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(u){return(0,W.Dv)("Reference.child",1,1,arguments.length),"number"==typeof u&&(u=String(u)),new fa(this.database,da(this._delegate,u))}getParent(){(0,W.Dv)("Reference.parent",0,0,arguments.length);const u=this._delegate.parent;return u?new fa(this.database,u):null}getRoot(){return(0,W.Dv)("Reference.root",0,0,arguments.length),new fa(this.database,this._delegate.root)}set(u,d){(0,W.Dv)("Reference.set",1,2,arguments.length),(0,W.Wj)("Reference.set","onComplete",d,!0);const v=Mc(this._delegate,u);return d&&v.then(()=>d(null),S=>d(S)),v}update(u,d){if((0,W.Dv)("Reference.update",1,2,arguments.length),Array.isArray(u)){const S={};for(let k=0;k<u.length;++k)S[""+k]=u[k];u=S,Ph("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rs("Reference.update",this._delegate._path),(0,W.Wj)("Reference.update","onComplete",d,!0);const v=Rc(this._delegate,u);return d&&v.then(()=>d(null),S=>d(S)),v}setWithPriority(u,d,v){(0,W.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,W.Wj)("Reference.setWithPriority","onComplete",v,!0);const S=function ku(h,u,d){if(rs("setWithPriority",h._path),Pi("setWithPriority",u,h._path,!1),$s("setWithPriority",d,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const v=new W.BH;return Tl(h._repo,h._path,u,d,v.wrapCallback(()=>{})),v.promise}(this._delegate,u,d);return v&&S.then(()=>v(null),k=>v(k)),S}remove(u){(0,W.Dv)("Reference.remove",0,1,arguments.length),(0,W.Wj)("Reference.remove","onComplete",u,!0);const d=function Yd(h){return rs("remove",h._path),Mc(h,null)}(this._delegate);return u&&d.then(()=>u(null),v=>u(v)),d}transaction(u,d,v){(0,W.Dv)("Reference.transaction",1,3,arguments.length),(0,W.Wj)("Reference.transaction","transactionUpdate",u,!1),(0,W.Wj)("Reference.transaction","onComplete",d,!0),function(h,u,d,v){if(void 0!==d&&"boolean"!=typeof d)throw new Error((0,W.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,v);const S=function Bp(h,u,d){var v;if(h=(0,W.m9)(h),rs("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const S=null===(v=null==d?void 0:d.applyLocally)||void 0===v||v,k=new W.BH,ie=fl(h,()=>{});return function nc(h,u,d,v,S,k){Sl(h,"transaction on "+u);const G={path:u,update:d,onComplete:v,status:null,order:ar(),applyLocally:k,retryCount:0,unwatcher:S,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ie=rc(h,u,void 0);G.currentInputSnapshot=ie;const ve=G.update(ie.val());if(void 0===ve)G.unwatcher(),G.currentOutputSnapshotRaw=null,G.currentOutputSnapshotResolved=null,G.onComplete&&G.onComplete(null,!1,G.currentInputSnapshot);else{ul("transaction failed: Data returned ",ve,G.path),G.status=0;const $e=as(h.transactionQueueTree_,u),Lt=qa($e)||[];let kt;Lt.push(G),_s($e,Lt),"object"==typeof ve&&null!==ve&&(0,W.r3)(ve,".priority")?(kt=(0,W.DV)(ve,".priority"),(0,W.hu)(ru(kt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):kt=(er(h.serverSyncTree_,u)||I.EMPTY_NODE).getPriority().val();const Zt=cl(h),Vn=st(ve,kt),ur=Vd(Vn,ie,Zt);G.currentOutputSnapshotRaw=Vn,G.currentOutputSnapshotResolved=ur,G.currentWriteId=La(h);const Ti=Mn(h.serverSyncTree_,u,ur,G.currentWriteId,G.applyLocally);Ps(h.eventQueue_,u,Ti),Mu(h,h.transactionQueueTree_)}}(h._repo,h._path,u,(ve,$e,Lt)=>{let kt=null;ve?k.reject(ve):(kt=new xl(Lt,new Er(h._repo,h._path),Zr),k.resolve(new Lp($e,kt)))},ie,S),k.promise}(this._delegate,u,{applyLocally:v}).then(k=>new Nh(k.committed,new Ml(this.database,k.snapshot)));return d&&S.then(k=>d(null,k.committed,k.snapshot),k=>d(k,!1,null)),S}setPriority(u,d){(0,W.Dv)("Reference.setPriority",1,2,arguments.length),(0,W.Wj)("Reference.setPriority","onComplete",d,!0);const v=function ha(h,u){h=(0,W.m9)(h),rs("setPriority",h._path),$s("setPriority",u,!1);const d=new W.BH;return Tl(h._repo,Gr(h._path,".priority"),u,null,d.wrapCallback(()=>{})),d.promise}(this._delegate,u);return d&&v.then(()=>d(null),S=>d(S)),v}push(u,d){(0,W.Dv)("Reference.push",0,2,arguments.length),(0,W.Wj)("Reference.push","onComplete",d,!0);const v=function Kd(h,u){h=(0,W.m9)(h),rs("push",h._path),Pi("push",u,h._path,!0);const d=id(h._repo),v=Zo(d),S=da(h,v),k=da(h,v);let G;return G=null!=u?Mc(k,u).then(()=>k):Promise.resolve(k),S.then=G.then.bind(G),S.catch=G.then.bind(G,void 0),S}(this._delegate,u),S=v.then(G=>new fa(this.database,G));d&&S.then(()=>d(null),G=>d(G));const k=new fa(this.database,v);return k.then=S.then.bind(S),k.catch=S.catch.bind(S,void 0),k}onDisconnect(){return rs("Reference.onDisconnect",this._delegate._path),new Pf(new ro(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class th{constructor(u,d){this._delegate=u,this.app=d,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Xd,forceLongPolling:Op}}useEmulator(u,d,v={}){!function Mf(h,u,d,v={}){(h=(0,W.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Yr("Cannot call useEmulator() after instance has already been initialized.");const S=h._repoInternal;let k;if(S.repoInfo_.nodeAdmin)v.mockUserToken&&Yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),k=new Mt(Mt.OWNER);else if(v.mockUserToken){const G="string"==typeof v.mockUserToken?v.mockUserToken:(0,W.Sg)(v.mockUserToken,h.app.options.projectId);k=new Mt(G)}!function Tf(h,u,d,v){h.repoInfo_=new Ci(`${u}:${d}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),v&&(h.authTokenProvider_=v)}(S,u,d,k)}(this._delegate,u,d,v)}ref(u){if((0,W.Dv)("database.ref",0,1,arguments.length),u instanceof fa){const d=Bo(this._delegate,u.toString());return new fa(this,d)}{const d=Nu(this._delegate,u);return new fa(this,d)}}refFromURL(u){(0,W.Dv)("database.refFromURL",1,1,arguments.length);const v=Bo(this._delegate,u);return new fa(this,v)}goOffline(){return(0,W.Dv)("database.goOffline",0,0,arguments.length),function _o(h){(h=(0,W.m9)(h))._checkNotDeleted("goOffline"),au(h._repo)}(this._delegate)}goOnline(){return(0,W.Dv)("database.goOnline",0,0,arguments.length),function Pp(h){(h=(0,W.m9)(h))._checkNotDeleted("goOnline"),function $l(h){h.persistentConnection_&&h.persistentConnection_.resume(su)}(h._repo)}(this._delegate)}}th.ServerValue={TIMESTAMP:function kp(){return Of}(),increment:h=>function Fp(h){return{".sv":{increment:h}}}(h)};var rh=Object.freeze({__proto__:null,initStandalone:function nh({app:h,url:u,version:d,customAuthImpl:v,namespace:S,nodeAdmin:k=!1}){Pt(d);const G=new Ee.zt("auth-internal",new Ee.H0("database-standalone"));return G.setComponent(new Ee.wA("auth-internal",()=>v,"PRIVATE")),{instance:new th(Zd(h,G,void 0,u,k),h),namespace:S}}});const fu=th.ServerValue;!function Bu(h){h.INTERNAL.registerComponent(new Ee.wA("database-compat",(u,{instanceIdentifier:d})=>{const v=u.getProvider("app-compat").getImmediate(),S=u.getProvider("database").getImmediate({identifier:d});return new th(S,v)},"PUBLIC").setServiceProps({Reference:fa,Query:Is,Database:th,DataSnapshot:Ml,enableLogging:Np,INTERNAL:rh,ServerValue:fu}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","0.3.4")}(we.Z);var $u=$(6217),Rl=$(9260);function oc(h){return null==h}function kh(h){return"function"==typeof h.set}function pd(h,u){return kh(u)?u:h.ref(u)}function gd(h,u){if(function Nf(h){return"string"==typeof h}(h))return u.stringCase();if(kh(h))return u.firebaseCase();if(function fd(h){return"function"==typeof h.exportVal}(h))return u.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function gl(h,u,d="on",v=St.z){return new Re.y(S=>{let k=null;return k=h[d](u,(G,ie)=>{v.schedule(()=>{S.next({snapshot:G,prevKey:ie})}),"once"===d&&v.schedule(()=>S.complete())},G=>{v.schedule(()=>S.error(G))}),"on"===d?{unsubscribe(){null!=k&&h.off(u,k)}}:{unsubscribe(){}}}).pipe((0,Te.U)(S=>{const{snapshot:k,prevKey:G}=S;let ie=null;return k.exists()&&(ie=k.key),{type:u,payload:k,prevKey:G,key:ie}}),(0,at.B)())}function ac(h,u){const d=h.length;for(let v=0;v<d;v++)if(h[v].payload.key===u)return v;return-1}function lc(h,u){const{payload:d,prevKey:v,key:S}=u,k=ac(h,S),G=function md(h,u){if(oc(u))return 0;{const d=ac(h,u);return-1===d?h.length:d+1}}(h,v);switch(u.type){case"value":if(u.payload&&u.payload.exists()){let ie=null;u.payload.forEach(ve=>{const $e={payload:ve,type:"value",prevKey:ie,key:ve.key};return ie=ve.key,h=[...h,$e],!1})}return h;case"child_added":if(k>-1){const ie=h[k-1];(ie&&ie.key||null)!==v&&(h=h.filter(ve=>ve.payload.key!==d.key)).splice(G,0,u)}else{if(null==v)return[u,...h];(h=h.slice()).splice(G,0,u)}return h;case"child_removed":return h.filter(ie=>ie.payload.key!==d.key);case"child_changed":return h.map(ie=>ie.payload.key===S?u:ie);case"child_moved":if(k>-1){const ie=h.splice(k,1)[0];return(h=h.slice()).splice(G,0,ie),h}return h;default:return h}}function Lh(h){return(oc(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function Vu(h,u,d){return function Fh(h,u,d){return gl(h,"value","once",d).pipe((0,ot.w)(v=>{const S=[(0,_e.of)(v)];return u.forEach(k=>S.push(gl(h,k,"on",d))),(0,le.T)(...S).pipe((0,et.R)(lc,[]))}),(0,Qe.x)())}(h,u=Lh(u),d)}function kf(h,u,d){const v=(u=Lh(u)).map(S=>gl(h,S,"on",d));return(0,le.T)(...v)}function Uu(h,u){return function(v,S){return gd(v,{stringCase:()=>h.child(v)[u](S),firebaseCase:()=>v[u](S),snapshotCase:()=>v.ref[u](S)})}}function pu(h){return function(d){return d?gd(d,{stringCase:()=>h.child(d).remove(),firebaseCase:()=>d.remove(),snapshotCase:()=>d.ref.remove()}):h.remove()}}function Bh(h,u){return function(){return gl(h,"value","on",u)}}const Hp=new te.OlP("angularfire2.realtimeDatabaseURL"),cc=new te.OlP("angularfire2.database.use-emulator");let $h=(()=>{class h{constructor(d,v,S,k,G,ie,ve,$e,Lt,kt,Zt,Vn,ur,Ti,ws){this.schedulers=ie;const Eo=ve,Vo=(0,pt.on)(d,G,v);$e&&(0,de.nw)(Vo,G,Lt,Zt,Vn,ur,kt,Ti),this.database=(0,pt.cc)(`${Vo.name}.database.${S}`,"AngularFireDatabase",Vo.name,()=>{const ml=G.runOutsideAngular(()=>Vo.database(S||void 0));return Eo&&ml.useEmulator(...Eo),ml},[Eo])}list(d,v){const S=this.schedulers.ngZone.runOutsideAngular(()=>pd(this.database,d));let k=S;return v&&(k=v(S)),function Ff(h,u){const d=u.schedulers.outsideAngular,v=u.schedulers.ngZone.run(()=>h.ref);return{query:h,update:Uu(v,"update"),set:Uu(v,"set"),push:S=>v.push(S),remove:pu(v),snapshotChanges:S=>Vu(h,S,d).pipe(je.iC),stateChanges:S=>kf(h,S,d).pipe(je.iC),auditTrail:S=>function Vp(h,u,d){return function uc(h,u,d){return function Up(h,u){return gl(h,"value","on",u).pipe((0,Te.U)(d=>{let v;return d.payload.forEach(S=>(v=S.key,!1)),{data:d,lastKeyToLoad:v}}))}(h,d).pipe(function Ke(...h){const u=(0,Ge.jO)(h);return(0,Pe.e)((d,v)=>{const S=h.length,k=new Array(S);let G=h.map(()=>!1),ie=!1;for(let ve=0;ve<S;ve++)(0,J.Xf)(h[ve]).subscribe((0,Oe.x)(v,$e=>{k[ve]=$e,!ie&&!G[ve]&&(G[ve]=!0,(ie=G.every(Xe.y))&&(G=null))},Fe.Z));d.subscribe((0,Oe.x)(v,ve=>{if(ie){const $e=[ve,...k];v.next(u?u(...$e):$e)}}))})}(u),(0,Te.U)(([S,k])=>{const G=S.lastKeyToLoad,ie=k.map(ve=>ve.key);return{actions:k,lastKeyToLoad:G,loadedKeys:ie}}),function it(h){return(0,Pe.e)((u,d)=>{let v=!1,S=0;u.subscribe((0,Oe.x)(d,k=>(v||(v=!h(k,S++)))&&d.next(k)))})}(S=>-1===S.loadedKeys.indexOf(S.lastKeyToLoad)),(0,Te.U)(S=>S.actions))}(h,kf(h,u).pipe((0,et.R)((S,k)=>[...S,k],[])),d)}(h,S,d).pipe(je.iC),valueChanges:(S,k)=>Vu(h,S,d).pipe((0,Te.U)(ie=>ie.map(ve=>k&&k.idField?Object.assign(Object.assign({},ve.payload.val()),{[k.idField]:ve.key}):ve.payload.val())),je.iC)}}(k,this)}object(d){return function jp(h,u){return{query:h,snapshotChanges:()=>Bh(h,u.schedulers.outsideAngular)().pipe(je.iC),update:d=>h.ref.update(d),set:d=>h.ref.set(d),remove:()=>h.ref.remove(),valueChanges:()=>Bh(h,u.schedulers.outsideAngular)().pipe(je.iC,(0,Te.U)(v=>v.payload.exists()?v.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>pd(this.database,d)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h.\u0275fac=function(d){return new(d||h)(te.LFG(pt.Dh),te.LFG(pt.xv,8),te.LFG(Hp,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(je.HU),te.LFG(cc,8),te.LFG(de.zQ,8),te.LFG(de.Qv,8),te.LFG(de.L6,8),te.LFG(de._Q,8),te.LFG(de.rT,8),te.LFG(de.lh,8),te.LFG(de.f7,8),te.LFG($u.nm,8))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})(),dc=(()=>{class h{constructor(){Rl.Z.registerVersion("angularfire",je.q4.full,"rtdb-compat")}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275mod=te.oAB({type:h}),h.\u0275inj=te.cJS({providers:[$h]}),h})();var hc=$(3101),Vh=$(6237);let Uh=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275mod=te.oAB({type:h,bootstrap:[Me]}),h.\u0275inj=te.cJS({providers:[{provide:z.wN,useClass:Se.r4},ke.e,Vh.a],imports:[a.b2,pt.hO.initializeApp(lt),de.ww,hc.yb,pe.u5,Se.Pc.forRoot(),fe,dc]}),h})();(0,te.G48)(),a.q6().bootstrapModule(Uh).catch(h=>console.log(h))},1135:(cn,gt,$)=>{"use strict";$.d(gt,{X:()=>te});var a=$(7579);class te extends a.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Me=super._subscribe(Se);return!Me.closed&&Se.next(this._value),Me}getValue(){const{hasError:Se,thrownError:Me,_value:Te}=this;if(Se)throw Me;return this._throwIfClosed(),Te}next(Se){super.next(this._value=Se)}}},9751:(cn,gt,$)=>{"use strict";$.d(gt,{y:()=>Ae});var a=$(930),te=$(727),z=$(8822),Se=$(9635),Me=$(2416),Te=$(576),de=$(2806);let Ae=(()=>{class pe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const lt=new pe;return lt.source=this,lt.operator=Ue,lt}subscribe(Ue,lt,St){const Re=function fe(pe){return pe&&pe instanceof a.Lv||function ge(pe){return pe&&(0,Te.m)(pe.next)&&(0,Te.m)(pe.error)&&(0,Te.m)(pe.complete)}(pe)&&(0,te.Nn)(pe)}(Ue)?Ue:new a.Hp(Ue,lt,St);return(0,de.x)(()=>{const{operator:_e,source:le}=this;Re.add(_e?_e.call(Re,le):le?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(lt){Ue.error(lt)}}forEach(Ue,lt){return new(lt=Ve(lt))((St,Re)=>{const _e=new a.Hp({next:le=>{try{Ue(le)}catch(at){Re(at),_e.unsubscribe()}},error:Re,complete:St});this.subscribe(_e)})}_subscribe(Ue){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Ue)}[z.L](){return this}pipe(...Ue){return(0,Se.U)(Ue)(this)}toPromise(Ue){return new(Ue=Ve(Ue))((lt,St)=>{let Re;this.subscribe(_e=>Re=_e,_e=>St(_e),()=>lt(Re))})}}return pe.create=ke=>new pe(ke),pe})();function Ve(pe){var ke;return null!==(ke=null!=pe?pe:Me.v.Promise)&&void 0!==ke?ke:Promise}},7579:(cn,gt,$)=>{"use strict";$.d(gt,{x:()=>de});var a=$(9751),te=$(727);const Se=(0,$(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=$(8737),Te=$(2806);let de=(()=>{class Ve extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const pe=new Ae(this,this);return pe.operator=fe,pe}_throwIfClosed(){if(this.closed)throw new Se}next(fe){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(fe)}})}error(fe){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:pe}=this;for(;pe.length;)pe.shift().error(fe)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:pe,isStopped:ke,observers:Ue}=this;return pe||ke?te.Lc:(this.currentObservers=null,Ue.push(fe),new te.w0(()=>{this.currentObservers=null,(0,Me.P)(Ue,fe)}))}_checkFinalizedStatuses(fe){const{hasError:pe,thrownError:ke,isStopped:Ue}=this;pe?fe.error(ke):Ue&&fe.complete()}asObservable(){const fe=new a.y;return fe.source=this,fe}}return Ve.create=(ge,fe)=>new Ae(ge,fe),Ve})();class Ae extends de{constructor(ge,fe){super(),this.destination=ge,this.source=fe}next(ge){var fe,pe;null===(pe=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===pe||pe.call(fe,ge)}error(ge){var fe,pe;null===(pe=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===pe||pe.call(fe,ge)}complete(){var ge,fe;null===(fe=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===fe||fe.call(ge)}_subscribe(ge){var fe,pe;return null!==(pe=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ge))&&void 0!==pe?pe:te.Lc}}},930:(cn,gt,$)=>{"use strict";$.d(gt,{Hp:()=>St,Lv:()=>pe});var a=$(576),te=$(727),z=$(2416),Se=$(7849),Me=$(5032);const Te=Ve("C",void 0,void 0);function Ve(ot,et,Qe){return{kind:ot,value:et,error:Qe}}var ge=$(3410),fe=$(2806);class pe extends te.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,te.Nn)(et)&&et.add(this)):this.destination=at}static create(et,Qe,Pe){return new St(et,Qe,Pe)}next(et){this.isStopped?le(function Ae(ot){return Ve("N",ot,void 0)}(et),this):this._next(et)}error(et){this.isStopped?le(function de(ot){return Ve("E",void 0,ot)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?le(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ue(ot,et){return ke.call(ot,et)}class lt{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(et)}catch(Pe){Re(Pe)}}error(et){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(et)}catch(Pe){Re(Pe)}else Re(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Qe){Re(Qe)}}}class St extends pe{constructor(et,Qe,Pe){let Oe;if(super(),(0,a.m)(et)||!et)Oe={next:null!=et?et:void 0,error:null!=Qe?Qe:void 0,complete:null!=Pe?Pe:void 0};else{let J;this&&z.v.useDeprecatedNextContext?(J=Object.create(et),J.unsubscribe=()=>this.unsubscribe(),Oe={next:et.next&&Ue(et.next,J),error:et.error&&Ue(et.error,J),complete:et.complete&&Ue(et.complete,J)}):Oe=et}this.destination=new lt(Oe)}}function Re(ot){z.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(ot):(0,Se.h)(ot)}function le(ot,et){const{onStoppedNotification:Qe}=z.v;Qe&&ge.z.setTimeout(()=>Qe(ot,et))}const at={closed:!0,next:Me.Z,error:function _e(ot){throw ot},complete:Me.Z}},727:(cn,gt,$)=>{"use strict";$.d(gt,{Lc:()=>Te,w0:()=>Me,Nn:()=>de});var a=$(576);const z=(0,$(3888).d)(Ve=>function(fe){Ve(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((pe,ke)=>`${ke+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Se=$(8737);class Me{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Ue of fe)Ue.remove(this);else fe.remove(this);const{initialTeardown:pe}=this;if((0,a.m)(pe))try{pe()}catch(Ue){ge=Ue instanceof z?Ue.errors:[Ue]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ue of ke)try{Ae(Ue)}catch(lt){ge=null!=ge?ge:[],lt instanceof z?ge=[...ge,...lt.errors]:ge.push(lt)}}if(ge)throw new z(ge)}}add(ge){var fe;if(ge&&ge!==this)if(this.closed)Ae(ge);else{if(ge instanceof Me){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(ge)}}_hasParent(ge){const{_parentage:fe}=this;return fe===ge||Array.isArray(fe)&&fe.includes(ge)}_addParent(ge){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(ge),fe):fe?[fe,ge]:ge}_removeParent(ge){const{_parentage:fe}=this;fe===ge?this._parentage=null:Array.isArray(fe)&&(0,Se.P)(fe,ge)}remove(ge){const{_finalizers:fe}=this;fe&&(0,Se.P)(fe,ge),ge instanceof Me&&ge._removeParent(this)}}Me.EMPTY=(()=>{const Ve=new Me;return Ve.closed=!0,Ve})();const Te=Me.EMPTY;function de(Ve){return Ve instanceof Me||Ve&&"closed"in Ve&&(0,a.m)(Ve.remove)&&(0,a.m)(Ve.add)&&(0,a.m)(Ve.unsubscribe)}function Ae(Ve){(0,a.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(cn,gt,$)=>{"use strict";$.d(gt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(cn,gt,$)=>{"use strict";$.d(gt,{z:()=>Me});var a=$(8189),z=$(7669),Se=$(8996);function Me(...Te){return function te(){return(0,a.J)(1)}()((0,Se.D)(Te,(0,z.yG)(Te)))}},515:(cn,gt,$)=>{"use strict";$.d(gt,{E:()=>te});const te=new($(9751).y)(Me=>Me.complete())},8996:(cn,gt,$)=>{"use strict";$.d(gt,{D:()=>et});var a=$(8421),te=$(5363),z=$(9468),Te=$(9751),Ae=$(2202),Ve=$(576),ge=$(9672);function pe(Qe,Pe){if(!Qe)throw new Error("Iterable cannot be null");return new Te.y(Oe=>{(0,ge.f)(Oe,Pe,()=>{const J=Qe[Symbol.asyncIterator]();(0,ge.f)(Oe,Pe,()=>{J.next().then(Xe=>{Xe.done?Oe.complete():Oe.next(Xe.value)})},0,!0)})})}var ke=$(3670),Ue=$(8239),lt=$(1144),St=$(6495),Re=$(2206),_e=$(4532),le=$(3260);function et(Qe,Pe){return Pe?function ot(Qe,Pe){if(null!=Qe){if((0,ke.c)(Qe))return function Se(Qe,Pe){return(0,a.Xf)(Qe).pipe((0,z.R)(Pe),(0,te.Q)(Pe))}(Qe,Pe);if((0,lt.z)(Qe))return function de(Qe,Pe){return new Te.y(Oe=>{let J=0;return Pe.schedule(function(){J===Qe.length?Oe.complete():(Oe.next(Qe[J++]),Oe.closed||this.schedule())})})}(Qe,Pe);if((0,Ue.t)(Qe))return function Me(Qe,Pe){return(0,a.Xf)(Qe).pipe((0,z.R)(Pe),(0,te.Q)(Pe))}(Qe,Pe);if((0,Re.D)(Qe))return pe(Qe,Pe);if((0,St.T)(Qe))return function fe(Qe,Pe){return new Te.y(Oe=>{let J;return(0,ge.f)(Oe,Pe,()=>{J=Qe[Ae.h](),(0,ge.f)(Oe,Pe,()=>{let Xe,Fe;try{({value:Xe,done:Fe}=J.next())}catch(Ge){return void Oe.error(Ge)}Fe?Oe.complete():Oe.next(Xe)},0,!0)}),()=>(0,Ve.m)(null==J?void 0:J.return)&&J.return()})}(Qe,Pe);if((0,le.L)(Qe))return function at(Qe,Pe){return pe((0,le.Q)(Qe),Pe)}(Qe,Pe)}throw(0,_e.z)(Qe)}(Qe,Pe):(0,a.Xf)(Qe)}},8421:(cn,gt,$)=>{"use strict";$.d(gt,{Xf:()=>ke});var a=$(655),te=$(1144),z=$(8239),Se=$(9751),Me=$(3670),Te=$(2206),de=$(4532),Ae=$(6495),Ve=$(3260),ge=$(576),fe=$(7849),pe=$(8822);function ke(ot){if(ot instanceof Se.y)return ot;if(null!=ot){if((0,Me.c)(ot))return function Ue(ot){return new Se.y(et=>{const Qe=ot[pe.L]();if((0,ge.m)(Qe.subscribe))return Qe.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ot);if((0,te.z)(ot))return function lt(ot){return new Se.y(et=>{for(let Qe=0;Qe<ot.length&&!et.closed;Qe++)et.next(ot[Qe]);et.complete()})}(ot);if((0,z.t)(ot))return function St(ot){return new Se.y(et=>{ot.then(Qe=>{et.closed||(et.next(Qe),et.complete())},Qe=>et.error(Qe)).then(null,fe.h)})}(ot);if((0,Te.D)(ot))return _e(ot);if((0,Ae.T)(ot))return function Re(ot){return new Se.y(et=>{for(const Qe of ot)if(et.next(Qe),et.closed)return;et.complete()})}(ot);if((0,Ve.L)(ot))return function le(ot){return _e((0,Ve.Q)(ot))}(ot)}throw(0,de.z)(ot)}function _e(ot){return new Se.y(et=>{(function at(ot,et){var Qe,Pe,Oe,J;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,a.KL)(ot);!(Pe=yield Qe.next()).done;)if(et.next(Pe.value),et.closed)return}catch(Xe){Oe={error:Xe}}finally{try{Pe&&!Pe.done&&(J=Qe.return)&&(yield J.call(Qe))}finally{if(Oe)throw Oe.error}}et.complete()})})(ot,et).catch(Qe=>et.error(Qe))})}},6451:(cn,gt,$)=>{"use strict";$.d(gt,{T:()=>Te});var a=$(8189),te=$(8421),z=$(515),Se=$(7669),Me=$(8996);function Te(...de){const Ae=(0,Se.yG)(de),Ve=(0,Se._6)(de,1/0),ge=de;return ge.length?1===ge.length?(0,te.Xf)(ge[0]):(0,a.J)(Ve)((0,Me.D)(ge,Ae)):z.E}},9646:(cn,gt,$)=>{"use strict";$.d(gt,{of:()=>z});var a=$(7669),te=$(8996);function z(...Se){const Me=(0,a.yG)(Se);return(0,te.D)(Se,Me)}},5403:(cn,gt,$)=>{"use strict";$.d(gt,{x:()=>te});var a=$(930);function te(Se,Me,Te,de,Ae){return new z(Se,Me,Te,de,Ae)}class z extends a.Lv{constructor(Me,Te,de,Ae,Ve,ge){super(Me),this.onFinalize=Ve,this.shouldUnsubscribe=ge,this._next=Te?function(fe){try{Te(fe)}catch(pe){Me.error(pe)}}:super._next,this._error=Ae?function(fe){try{Ae(fe)}catch(pe){Me.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(fe){Me.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},6590:(cn,gt,$)=>{"use strict";$.d(gt,{d:()=>z});var a=$(4482),te=$(5403);function z(Se){return(0,a.e)((Me,Te)=>{let de=!1;Me.subscribe((0,te.x)(Te,Ae=>{de=!0,Te.next(Ae)},()=>{de||Te.next(Se),Te.complete()}))})}},1884:(cn,gt,$)=>{"use strict";$.d(gt,{x:()=>Se});var a=$(4671),te=$(4482),z=$(5403);function Se(Te,de=a.y){return Te=null!=Te?Te:Me,(0,te.e)((Ae,Ve)=>{let ge,fe=!0;Ae.subscribe((0,z.x)(Ve,pe=>{const ke=de(pe);(fe||!Te(ge,ke))&&(fe=!1,ge=ke,Ve.next(pe))}))})}function Me(Te,de){return Te===de}},9300:(cn,gt,$)=>{"use strict";$.d(gt,{h:()=>z});var a=$(4482),te=$(5403);function z(Se,Me){return(0,a.e)((Te,de)=>{let Ae=0;Te.subscribe((0,te.x)(de,Ve=>Se.call(Me,Ve,Ae++)&&de.next(Ve)))})}},590:(cn,gt,$)=>{"use strict";$.d(gt,{P:()=>de});var a=$(6805),te=$(9300),z=$(5698),Se=$(6590),Me=$(8068),Te=$(4671);function de(Ae,Ve){const ge=arguments.length>=2;return fe=>fe.pipe(Ae?(0,te.h)((pe,ke)=>Ae(pe,ke,fe)):Te.y,(0,z.q)(1),ge?(0,Se.d)(Ve):(0,Me.T)(()=>new a.K))}},4004:(cn,gt,$)=>{"use strict";$.d(gt,{U:()=>z});var a=$(4482),te=$(5403);function z(Se,Me){return(0,a.e)((Te,de)=>{let Ae=0;Te.subscribe((0,te.x)(de,Ve=>{de.next(Se.call(Me,Ve,Ae++))}))})}},8189:(cn,gt,$)=>{"use strict";$.d(gt,{J:()=>z});var a=$(5577),te=$(4671);function z(Se=1/0){return(0,a.z)(te.y,Se)}},5577:(cn,gt,$)=>{"use strict";$.d(gt,{z:()=>Ae});var a=$(4004),te=$(8421),z=$(4482),Se=$(9672),Me=$(5403),de=$(576);function Ae(Ve,ge,fe=1/0){return(0,de.m)(ge)?Ae((pe,ke)=>(0,a.U)((Ue,lt)=>ge(pe,Ue,ke,lt))((0,te.Xf)(Ve(pe,ke))),fe):("number"==typeof ge&&(fe=ge),(0,z.e)((pe,ke)=>function Te(Ve,ge,fe,pe,ke,Ue,lt,St){const Re=[];let _e=0,le=0,at=!1;const ot=()=>{at&&!Re.length&&!_e&&ge.complete()},et=Pe=>_e<pe?Qe(Pe):Re.push(Pe),Qe=Pe=>{Ue&&ge.next(Pe),_e++;let Oe=!1;(0,te.Xf)(fe(Pe,le++)).subscribe((0,Me.x)(ge,J=>{null==ke||ke(J),Ue?et(J):ge.next(J)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(_e--;Re.length&&_e<pe;){const J=Re.shift();lt?(0,Se.f)(ge,lt,()=>Qe(J)):Qe(J)}ot()}catch(J){ge.error(J)}}))};return Ve.subscribe((0,Me.x)(ge,et,()=>{at=!0,ot()})),()=>{null==St||St()}}(pe,ke,Ve,fe)))}},5363:(cn,gt,$)=>{"use strict";$.d(gt,{Q:()=>Se});var a=$(9672),te=$(4482),z=$(5403);function Se(Me,Te=0){return(0,te.e)((de,Ae)=>{de.subscribe((0,z.x)(Ae,Ve=>(0,a.f)(Ae,Me,()=>Ae.next(Ve),Te),()=>(0,a.f)(Ae,Me,()=>Ae.complete(),Te),Ve=>(0,a.f)(Ae,Me,()=>Ae.error(Ve),Te)))})}},5026:(cn,gt,$)=>{"use strict";$.d(gt,{R:()=>Se});var a=$(4482),te=$(5403);function Se(Me,Te){return(0,a.e)(function z(Me,Te,de,Ae,Ve){return(ge,fe)=>{let pe=de,ke=Te,Ue=0;ge.subscribe((0,te.x)(fe,lt=>{const St=Ue++;ke=pe?Me(ke,lt,St):(pe=!0,lt),Ae&&fe.next(ke)},Ve&&(()=>{pe&&fe.next(ke),fe.complete()})))}}(Me,Te,arguments.length>=2,!0))}},3099:(cn,gt,$)=>{"use strict";$.d(gt,{B:()=>Me});var a=$(8421),te=$(7579),z=$(930),Se=$(4482);function Me(de={}){const{connector:Ae=(()=>new te.x),resetOnError:Ve=!0,resetOnComplete:ge=!0,resetOnRefCountZero:fe=!0}=de;return pe=>{let ke,Ue,lt,St=0,Re=!1,_e=!1;const le=()=>{null==Ue||Ue.unsubscribe(),Ue=void 0},at=()=>{le(),ke=lt=void 0,Re=_e=!1},ot=()=>{const et=ke;at(),null==et||et.unsubscribe()};return(0,Se.e)((et,Qe)=>{St++,!_e&&!Re&&le();const Pe=lt=null!=lt?lt:Ae();Qe.add(()=>{St--,0===St&&!_e&&!Re&&(Ue=Te(ot,fe))}),Pe.subscribe(Qe),!ke&&St>0&&(ke=new z.Hp({next:Oe=>Pe.next(Oe),error:Oe=>{_e=!0,le(),Ue=Te(at,Ve,Oe),Pe.error(Oe)},complete:()=>{Re=!0,le(),Ue=Te(at,ge),Pe.complete()}}),(0,a.Xf)(et).subscribe(ke))})(pe)}}function Te(de,Ae,...Ve){if(!0===Ae)return void de();if(!1===Ae)return;const ge=new z.Hp({next:()=>{ge.unsubscribe(),de()}});return Ae(...Ve).subscribe(ge)}},8675:(cn,gt,$)=>{"use strict";$.d(gt,{O:()=>Se});var a=$(7272),te=$(7669),z=$(4482);function Se(...Me){const Te=(0,te.yG)(Me);return(0,z.e)((de,Ae)=>{(Te?(0,a.z)(Me,de,Te):(0,a.z)(Me,de)).subscribe(Ae)})}},9468:(cn,gt,$)=>{"use strict";$.d(gt,{R:()=>te});var a=$(4482);function te(z,Se=0){return(0,a.e)((Me,Te)=>{Te.add(z.schedule(()=>Me.subscribe(Te),Se))})}},3900:(cn,gt,$)=>{"use strict";$.d(gt,{w:()=>Se});var a=$(8421),te=$(4482),z=$(5403);function Se(Me,Te){return(0,te.e)((de,Ae)=>{let Ve=null,ge=0,fe=!1;const pe=()=>fe&&!Ve&&Ae.complete();de.subscribe((0,z.x)(Ae,ke=>{null==Ve||Ve.unsubscribe();let Ue=0;const lt=ge++;(0,a.Xf)(Me(ke,lt)).subscribe(Ve=(0,z.x)(Ae,St=>Ae.next(Te?Te(ke,St,lt,Ue++):St),()=>{Ve=null,pe()}))},()=>{fe=!0,pe()}))})}},5698:(cn,gt,$)=>{"use strict";$.d(gt,{q:()=>Se});var a=$(515),te=$(4482),z=$(5403);function Se(Me){return Me<=0?()=>a.E:(0,te.e)((Te,de)=>{let Ae=0;Te.subscribe((0,z.x)(de,Ve=>{++Ae<=Me&&(de.next(Ve),Me<=Ae&&de.complete())}))})}},8505:(cn,gt,$)=>{"use strict";$.d(gt,{b:()=>Me});var a=$(576),te=$(4482),z=$(5403),Se=$(4671);function Me(Te,de,Ae){const Ve=(0,a.m)(Te)||de||Ae?{next:Te,error:de,complete:Ae}:Te;return Ve?(0,te.e)((ge,fe)=>{var pe;null===(pe=Ve.subscribe)||void 0===pe||pe.call(Ve);let ke=!0;ge.subscribe((0,z.x)(fe,Ue=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,Ue),fe.next(Ue)},()=>{var Ue;ke=!1,null===(Ue=Ve.complete)||void 0===Ue||Ue.call(Ve),fe.complete()},Ue=>{var lt;ke=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,Ue),fe.error(Ue)},()=>{var Ue,lt;ke&&(null===(Ue=Ve.unsubscribe)||void 0===Ue||Ue.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):Se.y}},8068:(cn,gt,$)=>{"use strict";$.d(gt,{T:()=>Se});var a=$(6805),te=$(4482),z=$(5403);function Se(Te=Me){return(0,te.e)((de,Ae)=>{let Ve=!1;de.subscribe((0,z.x)(Ae,ge=>{Ve=!0,Ae.next(ge)},()=>Ve?Ae.complete():Ae.error(Te())))})}function Me(){return new a.K}},4408:(cn,gt,$)=>{"use strict";$.d(gt,{o:()=>Me});var a=$(727);class te extends a.w0{constructor(de,Ae){super()}schedule(de,Ae=0){return this}}const z={setInterval(Te,de,...Ae){const{delegate:Ve}=z;return null!=Ve&&Ve.setInterval?Ve.setInterval(Te,de,...Ae):setInterval(Te,de,...Ae)},clearInterval(Te){const{delegate:de}=z;return((null==de?void 0:de.clearInterval)||clearInterval)(Te)},delegate:void 0};var Se=$(8737);class Me extends te{constructor(de,Ae){super(de,Ae),this.scheduler=de,this.work=Ae,this.pending=!1}schedule(de,Ae=0){var Ve;if(this.closed)return this;this.state=de;const ge=this.id,fe=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(fe,ge,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(fe,this.id,Ae),this}requestAsyncId(de,Ae,Ve=0){return z.setInterval(de.flush.bind(de,this),Ve)}recycleAsyncId(de,Ae,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Ae;null!=Ae&&z.clearInterval(Ae)}execute(de,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(de,Ae);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Ae){let ge,Ve=!1;try{this.work(de)}catch(fe){Ve=!0,ge=fe||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:de,scheduler:Ae}=this,{actions:Ve}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(Ve,this),null!=de&&(this.id=this.recycleAsyncId(Ae,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(cn,gt,$)=>{"use strict";$.d(gt,{v:()=>z});var a=$(6063);class te{constructor(Me,Te=te.now){this.schedulerActionCtor=Me,this.now=Te}schedule(Me,Te=0,de){return new this.schedulerActionCtor(this,Me).schedule(de,Te)}}te.now=a.l.now;class z extends te{constructor(Me,Te=te.now){super(Me,Te),this.actions=[],this._active=!1}flush(Me){const{actions:Te}=this;if(this._active)return void Te.push(Me);let de;this._active=!0;do{if(de=Me.execute(Me.state,Me.delay))break}while(Me=Te.shift());if(this._active=!1,de){for(;Me=Te.shift();)Me.unsubscribe();throw de}}}},4986:(cn,gt,$)=>{"use strict";$.d(gt,{z:()=>z});var a=$(4408);const z=new($(7565).v)(a.o)},6063:(cn,gt,$)=>{"use strict";$.d(gt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(cn,gt,$)=>{"use strict";$.d(gt,{z:()=>a});const a={setTimeout(te,z,...Se){const{delegate:Me}=a;return null!=Me&&Me.setTimeout?Me.setTimeout(te,z,...Se):setTimeout(te,z,...Se)},clearTimeout(te){const{delegate:z}=a;return((null==z?void 0:z.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(cn,gt,$)=>{"use strict";$.d(gt,{h:()=>te});const te=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(cn,gt,$)=>{"use strict";$.d(gt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(cn,gt,$)=>{"use strict";$.d(gt,{K:()=>te});const te=(0,$(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(cn,gt,$)=>{"use strict";$.d(gt,{_6:()=>Te,jO:()=>Se,yG:()=>Me});var a=$(576);function z(de){return de[de.length-1]}function Se(de){return(0,a.m)(z(de))?de.pop():void 0}function Me(de){return function te(de){return de&&(0,a.m)(de.schedule)}(z(de))?de.pop():void 0}function Te(de,Ae){return"number"==typeof z(de)?de.pop():Ae}},4742:(cn,gt,$)=>{"use strict";$.d(gt,{D:()=>Me});const{isArray:a}=Array,{getPrototypeOf:te,prototype:z,keys:Se}=Object;function Me(de){if(1===de.length){const Ae=de[0];if(a(Ae))return{args:Ae,keys:null};if(function Te(de){return de&&"object"==typeof de&&te(de)===z}(Ae)){const Ve=Se(Ae);return{args:Ve.map(ge=>Ae[ge]),keys:Ve}}}return{args:de,keys:null}}},8737:(cn,gt,$)=>{"use strict";function a(te,z){if(te){const Se=te.indexOf(z);0<=Se&&te.splice(Se,1)}}$.d(gt,{P:()=>a})},3888:(cn,gt,$)=>{"use strict";function a(te){const Se=te(Me=>{Error.call(Me),Me.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}$.d(gt,{d:()=>a})},1810:(cn,gt,$)=>{"use strict";function a(te,z){return te.reduce((Se,Me,Te)=>(Se[Me]=z[Te],Se),{})}$.d(gt,{n:()=>a})},2806:(cn,gt,$)=>{"use strict";$.d(gt,{O:()=>Se,x:()=>z});var a=$(2416);let te=null;function z(Me){if(a.v.useDeprecatedSynchronousErrorHandling){const Te=!te;if(Te&&(te={errorThrown:!1,error:null}),Me(),Te){const{errorThrown:de,error:Ae}=te;if(te=null,de)throw Ae}}else Me()}function Se(Me){a.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=Me)}},9672:(cn,gt,$)=>{"use strict";function a(te,z,Se,Me=0,Te=!1){const de=z.schedule(function(){Se(),Te?te.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(te.add(de),!Te)return de}$.d(gt,{f:()=>a})},4671:(cn,gt,$)=>{"use strict";function a(te){return te}$.d(gt,{y:()=>a})},1144:(cn,gt,$)=>{"use strict";$.d(gt,{z:()=>a});const a=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(cn,gt,$)=>{"use strict";$.d(gt,{D:()=>te});var a=$(576);function te(z){return Symbol.asyncIterator&&(0,a.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(cn,gt,$)=>{"use strict";function a(te){return"function"==typeof te}$.d(gt,{m:()=>a})},3670:(cn,gt,$)=>{"use strict";$.d(gt,{c:()=>z});var a=$(8822),te=$(576);function z(Se){return(0,te.m)(Se[a.L])}},6495:(cn,gt,$)=>{"use strict";$.d(gt,{T:()=>z});var a=$(2202),te=$(576);function z(Se){return(0,te.m)(null==Se?void 0:Se[a.h])}},8239:(cn,gt,$)=>{"use strict";$.d(gt,{t:()=>te});var a=$(576);function te(z){return(0,a.m)(null==z?void 0:z.then)}},3260:(cn,gt,$)=>{"use strict";$.d(gt,{L:()=>Se,Q:()=>z});var a=$(655),te=$(576);function z(Me){return(0,a.FC)(this,arguments,function*(){const de=Me.getReader();try{for(;;){const{value:Ae,done:Ve}=yield(0,a.qq)(de.read());if(Ve)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ae)}}finally{de.releaseLock()}})}function Se(Me){return(0,te.m)(null==Me?void 0:Me.getReader)}},4482:(cn,gt,$)=>{"use strict";$.d(gt,{A:()=>te,e:()=>z});var a=$(576);function te(Se){return(0,a.m)(null==Se?void 0:Se.lift)}function z(Se){return Me=>{if(te(Me))return Me.lift(function(Te){try{return Se(Te,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(cn,gt,$)=>{"use strict";$.d(gt,{Z:()=>Se});var a=$(4004);const{isArray:te}=Array;function Se(Me){return(0,a.U)(Te=>function z(Me,Te){return te(Te)?Me(...Te):Me(Te)}(Me,Te))}},5032:(cn,gt,$)=>{"use strict";function a(){}$.d(gt,{Z:()=>a})},9635:(cn,gt,$)=>{"use strict";$.d(gt,{U:()=>z,z:()=>te});var a=$(4671);function te(...Se){return z(Se)}function z(Se){return 0===Se.length?a.y:1===Se.length?Se[0]:function(Te){return Se.reduce((de,Ae)=>Ae(de),Te)}}},7849:(cn,gt,$)=>{"use strict";$.d(gt,{h:()=>z});var a=$(2416),te=$(3410);function z(Se){te.z.setTimeout(()=>{const{onUnhandledError:Me}=a.v;if(!Me)throw Se;Me(Se)})}},4532:(cn,gt,$)=>{"use strict";function a(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(gt,{z:()=>a})},863:(cn,gt,$)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7206,9230],"./ion-datetime_3.entry.js":[4959,7206,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function te(z){if(!$.o(a,z))return Promise.resolve().then(()=>{var Te=new Error("Cannot find module '"+z+"'");throw Te.code="MODULE_NOT_FOUND",Te});var Se=a[z],Me=Se[0];return Promise.all(Se.slice(1).map($.e)).then(()=>$(Me))}te.keys=()=>Object.keys(a),te.id=863,cn.exports=te},655:(cn,gt,$)=>{"use strict";function Se(je,pt){var tt={};for(var we in je)Object.prototype.hasOwnProperty.call(je,we)&&pt.indexOf(we)<0&&(tt[we]=je[we]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(we=Object.getOwnPropertySymbols(je);Ee<we.length;Ee++)pt.indexOf(we[Ee])<0&&Object.prototype.propertyIsEnumerable.call(je,we[Ee])&&(tt[we[Ee]]=je[we[Ee]])}return tt}function Me(je,pt,tt,we){var Je,Ee=arguments.length,be=Ee<3?pt:null===we?we=Object.getOwnPropertyDescriptor(pt,tt):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(je,pt,tt,we);else for(var W=je.length-1;W>=0;W--)(Je=je[W])&&(be=(Ee<3?Je(be):Ee>3?Je(pt,tt,be):Je(pt,tt))||be);return Ee>3&&be&&Object.defineProperty(pt,tt,be),be}function pe(je,pt,tt,we){return new(tt||(tt=Promise))(function(be,Je){function W(Nt){try{ze(we.next(Nt))}catch(xt){Je(xt)}}function nt(Nt){try{ze(we.throw(Nt))}catch(xt){Je(xt)}}function ze(Nt){Nt.done?be(Nt.value):function Ee(be){return be instanceof tt?be:new tt(function(Je){Je(be)})}(Nt.value).then(W,nt)}ze((we=we.apply(je,pt||[])).next())})}function ot(je){return this instanceof ot?(this.v=je,this):new ot(je)}function et(je,pt,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,we=tt.apply(je,pt||[]),be=[];return Ee={},Je("next"),Je("throw"),Je("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Je(Pt){we[Pt]&&(Ee[Pt]=function(dn){return new Promise(function(Rt,Tn){be.push([Pt,dn,Rt,Tn])>1||W(Pt,dn)})})}function W(Pt,dn){try{!function nt(Pt){Pt.value instanceof ot?Promise.resolve(Pt.value.v).then(ze,Nt):xt(be[0][2],Pt)}(we[Pt](dn))}catch(Rt){xt(be[0][3],Rt)}}function ze(Pt){W("next",Pt)}function Nt(Pt){W("throw",Pt)}function xt(Pt,dn){Pt(dn),be.shift(),be.length&&W(be[0][0],be[0][1])}}function Pe(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,pt=je[Symbol.asyncIterator];return pt?pt.call(je):(je=function St(je){var pt="function"==typeof Symbol&&Symbol.iterator,tt=pt&&je[pt],we=0;if(tt)return tt.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&we>=je.length&&(je=void 0),{value:je&&je[we++],done:!je}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),tt={},we("next"),we("throw"),we("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function we(be){tt[be]=je[be]&&function(Je){return new Promise(function(W,nt){!function Ee(be,Je,W,nt){Promise.resolve(nt).then(function(ze){be({value:ze,done:W})},Je)}(W,nt,(Je=je[be](Je)).done,Je.value)})}}}$.d(gt,{FC:()=>et,KL:()=>Pe,_T:()=>Se,gn:()=>Me,mG:()=>pe,qq:()=>ot})},6895:(cn,gt,$)=>{"use strict";$.d(gt,{Do:()=>le,EM:()=>bs,HT:()=>Se,JF:()=>Ss,K0:()=>Te,Mx:()=>fn,O5:()=>ut,PM:()=>Cs,S$:()=>St,V_:()=>Ve,Ye:()=>at,b0:()=>_e,bD:()=>Hi,ez:()=>js,q:()=>z,sg:()=>ne,tP:()=>yi,w_:()=>Me});var a=$(4650);let te=null;function z(){return te}function Se(N){te||(te=N)}class Me{}const Te=new a.OlP("DocumentToken");let de=(()=>{class N{historyGo(B){throw new Error("Not implemented")}}return N.\u0275fac=function(B){return new(B||N)},N.\u0275prov=a.Yz7({token:N,factory:function(){return function Ae(){return(0,a.LFG)(ge)}()},providedIn:"platform"}),N})();const Ve=new a.OlP("Location Initialized");let ge=(()=>{class N extends de{constructor(B){super(),this._doc=B,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(B){const re=z().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",B,!1),()=>re.removeEventListener("popstate",B)}onHashChange(B){const re=z().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",B,!1),()=>re.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,re,ye){fe()?this._history.pushState(B,re,ye):this._location.hash=ye}replaceState(B,re,ye){fe()?this._history.replaceState(B,re,ye):this._location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return N.\u0275fac=function(B){return new(B||N)(a.LFG(Te))},N.\u0275prov=a.Yz7({token:N,factory:function(){return function pe(){return new ge((0,a.LFG)(Te))}()},providedIn:"platform"}),N})();function fe(){return!!window.history.pushState}function ke(N,K){if(0==N.length)return K;if(0==K.length)return N;let B=0;return N.endsWith("/")&&B++,K.startsWith("/")&&B++,2==B?N+K.substring(1):1==B?N+K:N+"/"+K}function Ue(N){const K=N.match(/#|\?|$/),B=K&&K.index||N.length;return N.slice(0,B-("/"===N[B-1]?1:0))+N.slice(B)}function lt(N){return N&&"?"!==N[0]?"?"+N:N}let St=(()=>{class N{historyGo(B){throw new Error("Not implemented")}}return N.\u0275fac=function(B){return new(B||N)},N.\u0275prov=a.Yz7({token:N,factory:function(){return(0,a.f3M)(_e)},providedIn:"root"}),N})();const Re=new a.OlP("appBaseHref");let _e=(()=>{class N extends St{constructor(B,re){var ye,Et,Vt;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(ye=null!==(Et=null!=re?re:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Et?Et:null===(Vt=(0,a.f3M)(Te).location)||void 0===Vt?void 0:Vt.origin)&&void 0!==ye?ye:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ke(this._baseHref,B)}path(B=!1){const re=this._platformLocation.pathname+lt(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&B?`${re}${ye}`:re}pushState(B,re,ye,Et){const Vt=this.prepareExternalUrl(ye+lt(Et));this._platformLocation.pushState(B,re,Vt)}replaceState(B,re,ye,Et){const Vt=this.prepareExternalUrl(ye+lt(Et));this._platformLocation.replaceState(B,re,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var re,ye;null===(re=(ye=this._platformLocation).historyGo)||void 0===re||re.call(ye,B)}}return N.\u0275fac=function(B){return new(B||N)(a.LFG(de),a.LFG(Re,8))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),le=(()=>{class N extends St{constructor(B,re){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(B){const re=ke(this._baseHref,B);return re.length>0?"#"+re:re}pushState(B,re,ye,Et){let Vt=this.prepareExternalUrl(ye+lt(Et));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(B,re,Vt)}replaceState(B,re,ye,Et){let Vt=this.prepareExternalUrl(ye+lt(Et));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(B,re,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var re,ye;null===(re=(ye=this._platformLocation).historyGo)||void 0===re||re.call(ye,B)}}return N.\u0275fac=function(B){return new(B||N)(a.LFG(de),a.LFG(Re,8))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac}),N})(),at=(()=>{class N{constructor(B){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const re=this._locationStrategy.getBaseHref();this._basePath=function Pe(N){if(new RegExp("^(https?:)?//").test(N)){const[,B]=N.split(/\/\/[^\/]+/);return B}return N}(Ue(Qe(re))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,re=""){return this.path()==this.normalize(B+lt(re))}normalize(B){return N.stripTrailingSlash(function et(N,K){if(!N||!K.startsWith(N))return K;const B=K.substring(N.length);return""===B||["/",";","?","#"].includes(B[0])?B:K}(this._basePath,Qe(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,re="",ye=null){this._locationStrategy.pushState(ye,"",B,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+lt(re)),ye)}replaceState(B,re="",ye=null){this._locationStrategy.replaceState(ye,"",B,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+lt(re)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var re,ye;null===(re=(ye=this._locationStrategy).historyGo)||void 0===re||re.call(ye,B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)})),()=>{const re=this._urlChangeListeners.indexOf(B);var ye;this._urlChangeListeners.splice(re,1),0===this._urlChangeListeners.length&&(null===(ye=this._urlChangeSubscription)||void 0===ye||ye.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",re){this._urlChangeListeners.forEach(ye=>ye(B,re))}subscribe(B,re,ye){return this._subject.subscribe({next:B,error:re,complete:ye})}}return N.normalizeQueryParams=lt,N.joinWithSlash=ke,N.stripTrailingSlash=Ue,N.\u0275fac=function(B){return new(B||N)(a.LFG(St))},N.\u0275prov=a.Yz7({token:N,factory:function(){return function ot(){return new at((0,a.LFG)(St))}()},providedIn:"root"}),N})();function Qe(N){return N.replace(/\/index.html$/,"")}function fn(N,K){K=encodeURIComponent(K);for(const B of N.split(";")){const re=B.indexOf("="),[ye,Et]=-1==re?[B,""]:[B.slice(0,re),B.slice(re+1)];if(ye.trim()===K)return decodeURIComponent(Et)}return null}class zr{constructor(K,B,re,ye){this.$implicit=K,this.ngForOf=B,this.index=re,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ne=(()=>{class N{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,re,ye){this._viewContainer=B,this._template=re,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const re=this._viewContainer;B.forEachOperation((ye,Et,Vt)=>{if(null==ye.previousIndex)re.createEmbeddedView(this._template,new zr(ye.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)re.remove(null===Et?void 0:Et);else if(null!==Et){const On=re.get(Et);re.move(On,Vt),he(On,ye)}});for(let ye=0,Et=re.length;ye<Et;ye++){const On=re.get(ye).context;On.index=ye,On.count=Et,On.ngForOf=this._ngForOf}B.forEachIdentityChange(ye=>{he(re.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(B,re){return!0}}return N.\u0275fac=function(B){return new(B||N)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function he(N,K){N.context.$implicit=K.item}let ut=(()=>{class N{constructor(B,re){this._viewContainer=B,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){ce("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){ce("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,re){return!0}}return N.\u0275fac=function(B){return new(B||N)(a.Y36(a.s_b),a.Y36(a.Rgc))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function ce(N,K){if(K&&!K.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,a.AaK)(K)}'.`)}let yi=(()=>{class N{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const re=this._viewContainerRef;if(this._viewRef&&re.remove(re.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:Et,ngTemplateOutletInjector:Vt}=this;this._viewRef=re.createEmbeddedView(ye,Et,Vt?{injector:Vt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(B){return new(B||N)(a.Y36(a.s_b))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),N})(),js=(()=>{class N{}return N.\u0275fac=function(B){return new(B||N)},N.\u0275mod=a.oAB({type:N}),N.\u0275inj=a.cJS({}),N})();const Hi="browser",Ri="server";function Cs(N){return N===Ri}let bs=(()=>{class N{}return N.\u0275prov=(0,a.Yz7)({token:N,providedIn:"root",factory:()=>new so((0,a.LFG)(Te),window)}),N})();class so{constructor(K,B){this.document=K,this.window=B,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const B=function Ds(N,K){const B=N.getElementById(K)||N.getElementsByName(K)[0];if(B)return B;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const re=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let ye=re.currentNode;for(;ye;){const Et=ye.shadowRoot;if(Et){const Vt=Et.getElementById(K)||Et.querySelector(`[name="${K}"]`);if(Vt)return Vt}ye=re.nextNode()}}return null}(this.document,K);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=K)}}scrollToElement(K){const B=K.getBoundingClientRect(),re=B.left+this.window.pageXOffset,ye=B.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(re-Et[0],ye-Et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function cs(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Ss{}},4650:(cn,gt,$)=>{"use strict";$.d(gt,{$8M:()=>Ws,$WT:()=>mi,$Z:()=>Gf,AFp:()=>rE,AaK:()=>Ae,AsE:()=>Yg,CHM:()=>j,CRH:()=>k0,CZH:()=>uv,CqO:()=>dp,D6c:()=>Dw,EJc:()=>VI,EpF:()=>lp,F$t:()=>Md,F4k:()=>cp,FYo:()=>Uh,FiY:()=>sn,G48:()=>aw,Gf:()=>P0,GfV:()=>v,GkF:()=>ap,Gpc:()=>fe,Hsn:()=>pp,JOm:()=>hs,KtG:()=>f,LFG:()=>an,Lbi:()=>LI,Lck:()=>He,MMx:()=>cr,NdJ:()=>rf,OlP:()=>pi,Oqu:()=>df,P3R:()=>$p,PXZ:()=>tw,Q6J:()=>op,QGY:()=>up,Qsj:()=>h,R0b:()=>Yu,RDi:()=>Rc,Rgc:()=>lm,SBq:()=>hc,Sil:()=>jI,Suo:()=>N0,TTD:()=>Wr,TgZ:()=>nf,X6Q:()=>ow,XFs:()=>Yt,Xpm:()=>pr,Xts:()=>Jd,Y36:()=>Lc,YKP:()=>ue,YNc:()=>sp,Yjl:()=>Yi,Yz7:()=>xt,Z0I:()=>Tn,ZZ4:()=>o0,_Bn:()=>H,_UZ:()=>Og,_Vd:()=>cc,_c5:()=>Cw,_uU:()=>Kg,aQg:()=>a0,c2e:()=>BI,cJS:()=>dn,cg1:()=>Dp,dDg:()=>QI,dqk:()=>Pn,eFA:()=>mE,eJc:()=>H_,ekj:()=>zg,eoX:()=>hE,f3M:()=>yn,g9A:()=>sE,h0i:()=>Z,hGG:()=>bw,hij:()=>vp,iGM:()=>O0,ifc:()=>yt,ip1:()=>nE,jDz:()=>Vs,kL8:()=>_f,lG2:()=>is,lqb:()=>gl,lri:()=>cE,n5z:()=>Ka,oAB:()=>fi,oxw:()=>fp,q4F:()=>S,qLn:()=>$e,qOj:()=>mg,qZA:()=>xd,rWj:()=>dE,sBO:()=>lw,s_b:()=>ov,soG:()=>cv,tb:()=>pE,tp0:()=>In,uIk:()=>tf,vHH:()=>Re,vpe:()=>Zc,wAp:()=>Lr,xp6:()=>Bf,z2F:()=>dv,zSh:()=>fd,zs3:()=>mu});var a=$(7579),te=$(727),z=$(9751),Se=$(6451),Me=$(3099);function Te(n){for(let r in n)if(n[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function de(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ve(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ge=Te({__forward_ref__:Te});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Ae(this())},n}function pe(n){return ke(n)?n():n}function ke(n){return"function"==typeof n&&n.hasOwnProperty(ge)&&n.__forward_ref__===fe}function Ue(n){return n&&!!n.\u0275providers}const St="https://g.co/ng/security#xss";class Re extends Error{constructor(r,o){super(_e(r,o)),this.code=r}}function _e(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function Pe(n,r){throw new Re(-201,!1)}function Je(n,r){null==n&&function W(n,r,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function xt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rt(n){return Sn(n,wr)||Sn(n,Cn)}function Tn(n){return null!==Rt(n)}function Sn(n,r){return n.hasOwnProperty(r)?n[r]:null}function ar(n){return n&&(n.hasOwnProperty(Sr)||n.hasOwnProperty(lr))?n[Sr]:null}const wr=Te({\u0275prov:Te}),Sr=Te({\u0275inj:Te}),Cn=Te({ngInjectableDef:Te}),lr=Te({ngInjectorDef:Te});var Yt=(()=>((Yt=Yt||{})[Yt.Default=0]="Default",Yt[Yt.Host=1]="Host",Yt[Yt.Self=2]="Self",Yt[Yt.SkipSelf=4]="SkipSelf",Yt[Yt.Optional=8]="Optional",Yt))();let dr;function $r(n){const r=dr;return dr=n,r}function Yr(n,r,o){const l=Rt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Yt.Optional?null:void 0!==r?r:void Pe(Ae(n))}const Pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pn={},Ar="__NG_DI_FLAG__",Gt="ngTempTokenPath",ii="ngTokenPath",Ni=/\n/gm,Cr="\u0275",_r="__source";let ir;function jn(n){const r=ir;return ir=n,r}function hi(n,r=Yt.Default){if(void 0===ir)throw new Re(-203,!1);return null===ir?Yr(n,void 0,r):ir.get(n,r&Yt.Optional?null:void 0,r)}function an(n,r=Yt.Default){return(function Pr(){return dr}()||hi)(pe(n),r)}function yn(n,r=Yt.Default){return an(n,Nn(r))}function Nn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ln(n){const r=[];for(let o=0;o<n.length;o++){const l=pe(n[o]);if(Array.isArray(l)){if(0===l.length)throw new Re(900,!1);let p,_=Yt.Default;for(let D=0;D<l.length;D++){const O=l[D],L=Vr(O);"number"==typeof L?-1===L?p=O.token:_|=L:p=O}r.push(an(p,_))}else r.push(an(l))}return r}function Rn(n,r){return n[Ar]=r,n.prototype[Ar]=r,n}function Vr(n){return n[Ar]}function We(n){return{toString:n}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),yt=(()=>{return(n=yt||(yt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",yt;var n})();const hn={},Le=[],Be=Te({\u0275cmp:Te}),me=Te({\u0275dir:Te}),vt=Te({\u0275pipe:Te}),Ot=Te({\u0275mod:Te}),Ht=Te({\u0275fac:Te}),xn=Te({__NG_ELEMENT_ID__:Te});let zn=0;function pr(n){return We(()=>{const o=!0===n.standalone,l={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||yt.Emulated,id:"c"+zn++,styles:n.styles||Le,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=n.dependencies,D=n.features;return p.inputs=xr(n.inputs,l),p.outputs=xr(n.outputs),D&&D.forEach(O=>O(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(ki).filter(Ki):null,p.pipeDefs=_?()=>("function"==typeof _?_():_).map(Nr).filter(Ki):null,p})}function ki(n){return Zn(n)||Xr(n)}function Ki(n){return null!==n}function fi(n){return We(()=>({type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xr(n,r){if(null==n)return hn;const o={};for(const l in n)if(n.hasOwnProperty(l)){let p=n[l],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),o[p]=l,r&&(r[p]=_)}return o}const is=pr;function Yi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zn(n){return n[Be]||null}function Xr(n){return n[me]||null}function Nr(n){return n[vt]||null}function mi(n){const r=Zn(n)||Xr(n)||Nr(n);return null!==r&&r.standalone}function si(n,r){const o=n[Ot]||null;if(!o&&!0===r)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return o}const Mr=0,fn=1,Qn=2,Hr=3,Jr=4,Ai=5,di=6,xi=7,zr=8,ne=9,he=10,Ne=11,ut=12,bt=13,ce=14,Ye=15,dt=16,wt=17,Ft=18,nn=19,Dn=20,Bn=21,Kn=22,rt=1,qe=2,mt=7,Ut=8,rn=9,En=10;function kr(n){return Array.isArray(n)&&"object"==typeof n[rt]}function vr(n){return Array.isArray(n)&&!0===n[rt]}function ls(n){return 0!=(4&n.flags)}function ts(n){return n.componentOffset>-1}function Mi(n){return 1==(1&n.flags)}function ji(n){return null!==n.template}function Ho(n){return 0!=(256&n[Qn])}function ns(n,r){return n.hasOwnProperty(Ht)?n[Ht]:null}class Cs{constructor(r,o,l){this.previousValue=r,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Wr(){return Fi}function Fi(n){return n.type.prototype.ngOnChanges&&(n.setInput=bs),Js}function Js(){const n=cs(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===hn)n.previous=r;else for(let l in r)o[l]=r[l];n.current=null,this.ngOnChanges(r)}}function bs(n,r,o,l){const p=this.declaredInputs[o],_=cs(n)||function Ds(n,r){return n[so]=r}(n,{previous:hn,current:null}),D=_.current||(_.current={}),O=_.previous,L=O[p];D[p]=new Cs(L&&L.currentValue,r,O===hn),n[l]=r}Wr.ngInherit=!0;const so="__ngSimpleChanges__";function cs(n){return n[so]||null}const Xn=function(n,r,o){};function Dr(n){for(;Array.isArray(n);)n=n[Mr];return n}function As(n,r){return Dr(r[n])}function qr(n,r){return Dr(r[n.index])}function Li(n,r){return n.data[r]}function Oi(n,r){const o=r[n];return kr(o)?o:o[Mr]}function oo(n){return 64==(64&n[Qn])}function Di(n,r){return null==r?null:n[r]}function Oo(n){n[Ft]=0}function ds(n,r){n[Ai]+=r;let o=n,l=n[Hr];for(;null!==l&&(1===r&&1===o[Ai]||-1===r&&0===o[Ai]);)l[Ai]+=r,o=l,l=l[Hr]}const nr={lFrame:Ga(null),bindingsEnabled:!0};function Gs(){return nr.bindingsEnabled}function Wt(){return nr.lFrame.lView}function fr(){return nr.lFrame.tView}function j(n){return nr.lFrame.contextLView=n,n[zr]}function f(n){return nr.lFrame.contextLView=null,n}function I(){let n=y();for(;null!==n&&64===n.type;)n=n.parent;return n}function y(){return nr.lFrame.currentTNode}function Q(n,r){const o=nr.lFrame;o.currentTNode=n,o.isParent=r}function st(){return nr.lFrame.isParent}function en(){nr.lFrame.isParent=!1}function Gi(){return nr.lFrame.bindingIndex++}function ai(n){const r=nr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function na(n,r){const o=nr.lFrame;o.bindingIndex=o.bindingRootIndex=n,ma(r)}function ma(n){nr.lFrame.currentDirectiveIndex=n}function Ua(){return nr.lFrame.currentQueryIndex}function Fs(n){nr.lFrame.currentQueryIndex=n}function ja(n){const r=n[fn];return 2===r.type?r.declTNode:1===r.type?n[di]:null}function Ha(n,r,o){if(o&Yt.SkipSelf){let p=r,_=n;for(;!(p=p.parent,null!==p||o&Yt.Host||(p=ja(_),null===p||(_=_[Ye],10&p.type))););if(null===p)return!1;r=p,n=_}const l=nr.lFrame=tl();return l.currentTNode=r,l.lView=n,!0}function co(n){const r=tl(),o=n[fn];nr.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function tl(){const n=nr.lFrame,r=null===n?null:n.child;return null===r?Ga(n):r}function Ga(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ya(){const n=nr.lFrame;return nr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Iu=ya;function ra(){const n=ya();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function os(){return nr.lFrame.selectedIndex}function ho(n){nr.lFrame.selectedIndex=n}function $i(){const n=nr.lFrame;return Li(n.tView,n.selectedIndex)}function za(n,r){for(let o=r.directiveStart,l=r.directiveEnd;o<l;o++){const _=n.data[o].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:O,ngAfterViewInit:L,ngAfterViewChecked:Y,ngOnDestroy:se}=_;D&&(n.contentHooks||(n.contentHooks=[])).push(-o,D),O&&((n.contentHooks||(n.contentHooks=[])).push(o,O),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,O)),L&&(n.viewHooks||(n.viewHooks=[])).push(-o,L),Y&&((n.viewHooks||(n.viewHooks=[])).push(o,Y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,Y)),null!=se&&(n.destroyHooks||(n.destroyHooks=[])).push(o,se)}}function sa(n,r,o){aa(n,r,3,o)}function oa(n,r,o,l){(3&n[Qn])===o&&aa(n,r,o,l)}function No(n,r){let o=n[Qn];(3&o)===r&&(o&=2047,o+=1,n[Qn]=o)}function aa(n,r,o,l){const _=null!=l?l:-1,D=r.length-1;let O=0;for(let L=void 0!==l?65535&n[Ft]:0;L<D;L++)if("number"==typeof r[L+1]){if(O=r[L],null!=l&&O>=l)break}else r[L]<0&&(n[Ft]+=65536),(O<_||-1==_)&&(N(n,o,r,L),n[Ft]=(4294901760&n[Ft])+L+2),L++}function N(n,r,o,l){const p=o[l]<0,_=o[l+1],O=n[p?-o[l]:o[l]];if(p){if(n[Qn]>>11<n[Ft]>>16&&(3&n[Qn])===r){n[Qn]+=2048,Xn(4,O,_);try{_.call(O)}finally{Xn(5,O,_)}}}else{Xn(4,O,_);try{_.call(O)}finally{Xn(5,O,_)}}}const K=-1;class B{constructor(r,o,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Jn(n,r,o){let l=0;for(;l<o.length;){const p=o[l];if("number"==typeof p){if(0!==p)break;l++;const _=o[l++],D=o[l++],O=o[l++];n.setAttribute(r,D,O,_)}else{const _=p,D=o[++l];qt(_)?n.setProperty(r,_,D):n.setAttribute(r,_,D),l++}}return l}function vi(n){return 3===n||4===n||6===n}function qt(n){return 64===n.charCodeAt(0)}function Jt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let l=0;l<r.length;l++){const p=r[l];"number"==typeof p?o=p:0===o||Zi(n,o,p,null,-1===o||2===o?r[++l]:null)}}return n}function Zi(n,r,o,l,p){let _=0,D=n.length;if(-1===r)D=-1;else for(;_<n.length;){const O=n[_++];if("number"==typeof O){if(O===r){D=-1;break}if(O>r){D=_-1;break}}}for(;_<n.length;){const O=n[_];if("number"==typeof O)break;if(O===o){if(null===l)return void(null!==p&&(n[_+1]=p));if(l===n[_+1])return void(n[_+2]=p)}_++,null!==l&&_++,null!==p&&_++}-1!==D&&(n.splice(D,0,r),_=D+1),n.splice(_++,0,o),null!==l&&n.splice(_++,0,l),null!==p&&n.splice(_++,0,p)}function un(n){return n!==K}function Ct(n){return 32767&n}function Ii(n,r){let o=function zt(n){return n>>16}(n),l=r;for(;o>0;)l=l[Ye],o--;return l}let Ms=!0;function Do(n){const r=Ms;return Ms=n,r}const vl=255,po=5;let Ma=0;const ys={};function Wa(n,r){const o=rl(n,r);if(-1!==o)return o;const l=r[fn];l.firstCreatePass&&(n.injectorIndex=r.length,_l(l.data,n),_l(r,null),_l(l.blueprint,null));const p=gr(n,r),_=n.injectorIndex;if(un(p)){const D=Ct(p),O=Ii(p,r),L=O[fn].data;for(let Y=0;Y<8;Y++)r[_+Y]=O[D+Y]|L[D+Y]}return r[_+8]=p,_}function _l(n,r){n.push(0,0,0,0,0,0,0,0,r)}function rl(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function gr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,p=r;for(;null!==p;){if(l=Ql(p),null===l)return K;if(o++,p=p[Ye],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return K}function la(n,r,o){!function Nl(n,r,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(xn)&&(l=o[xn]),null==l&&(l=o[xn]=Ma++);const p=l&vl;r.data[n+(p>>po)]|=1<<p}(n,r,o)}function wi(n,r,o){if(o&Yt.Optional||void 0!==n)return n;Pe()}function Yn(n,r,o,l){if(o&Yt.Optional&&void 0===l&&(l=null),!(o&(Yt.Self|Yt.Host))){const p=n[ne],_=$r(void 0);try{return p?p.get(r,l,o&Yt.Optional):Yr(r,l,o&Yt.Optional)}finally{$r(_)}}return wi(l,0,o)}function Wo(n,r,o,l=Yt.Default,p){if(null!==n){if(1024&r[Qn]){const D=function Zl(n,r,o,l,p){let _=n,D=r;for(;null!==_&&null!==D&&1024&D[Qn]&&!(256&D[Qn]);){const O=Kr(_,D,o,l|Yt.Self,ys);if(O!==ys)return O;let L=_.parent;if(!L){const Y=D[Bn];if(Y){const se=Y.get(o,ys,l);if(se!==ys)return se}L=Ql(D),D=D[Ye]}_=L}return p}(n,r,o,l,ys);if(D!==ys)return D}const _=Kr(n,r,o,l,ys);if(_!==ys)return _}return Yn(r,o,l,p)}function Kr(n,r,o,l,p){const _=function El(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(xn)?n[xn]:void 0;return"number"==typeof r?r>=0?r&vl:eo:r}(o);if("function"==typeof _){if(!Ha(r,n,l))return l&Yt.Host?wi(p,0,l):Yn(r,o,l,p);try{const D=_(l);if(null!=D||l&Yt.Optional)return D;Pe()}finally{Iu()}}else if("number"==typeof _){let D=null,O=rl(n,r),L=K,Y=l&Yt.Host?r[dt][di]:null;for((-1===O||l&Yt.SkipSelf)&&(L=-1===O?gr(n,r):r[O+8],L!==K&&ko(l,!1)?(D=r[fn],O=Ct(L),r=Ii(L,r)):O=-1);-1!==O;){const se=r[fn];if(Wi(_,O,se.data)){const Ce=qu(O,r,o,D,l,Y);if(Ce!==ys)return Ce}L=r[O+8],L!==K&&ko(l,r[fn].data[O+8]===Y)&&Wi(_,O,r)?(D=se,O=Ct(L),r=Ii(L,r)):O=-1}}return p}function qu(n,r,o,l,p,_){const D=r[fn],O=D.data[n+8],se=ci(O,D,o,null==l?ts(O)&&Ms:l!=D&&0!=(3&O.type),p&Yt.Host&&_===O);return null!==se?gn(r,D,se,O):ys}function ci(n,r,o,l,p){const _=n.providerIndexes,D=r.data,O=1048575&_,L=n.directiveStart,se=_>>20,ct=p?O+se:n.directiveEnd;for(let Tt=l?O:O+se;Tt<ct;Tt++){const Qt=D[Tt];if(Tt<L&&o===Qt||Tt>=L&&Qt.type===o)return Tt}if(p){const Tt=D[L];if(Tt&&ji(Tt)&&Tt.type===o)return L}return null}function gn(n,r,o,l){let p=n[o];const _=r.data;if(function re(n){return n instanceof B}(p)){const D=p;D.resolving&&function ot(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Re(-200,`Circular dependency in DI detected for ${n}${o}`)}(function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(_[o]));const O=Do(D.canSeeViewProviders);D.resolving=!0;const L=D.injectImpl?$r(D.injectImpl):null;Ha(n,l,Yt.Default);try{p=n[o]=D.factory(void 0,_,n,l),r.firstCreatePass&&o>=l.directiveStart&&function yl(n,r,o){const{ngOnChanges:l,ngOnInit:p,ngDoCheck:_}=r.type.prototype;if(l){const D=Fi(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,D),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,D)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,p),_&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,_))}(o,_[o],r)}finally{null!==L&&$r(L),Do(O),D.resolving=!1,Iu()}}return p}function Wi(n,r,o){return!!(o[r+(n>>po)]&1<<n)}function ko(n,r){return!(n&Yt.Self||n&Yt.Host&&r)}class Ko{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,l){return Wo(this._tNode,this._lView,r,Nn(l),o)}}function eo(){return new Ko(I(),Wt())}function Ka(n){return We(()=>{const r=n.prototype.constructor,o=r[Ht]||_a(r),l=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==l;){const _=p[Ht]||_a(p);if(_&&_!==o)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function _a(n){return ke(n)?()=>{const r=_a(pe(n));return r&&r()}:ns(n)}function Ql(n){const r=n[fn],o=r.type;return 2===o?r.declTNode:1===o?n[di]:null}function Ws(n){return function ql(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const l=o.length;let p=0;for(;p<l;){const _=o[p];if(vi(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<l&&"string"==typeof o[p];)p++;else{if(_===r)return o[p+1];p+=2}}}return null}(I(),n)}const Ea="__parameters__";function Dt(n,r,o){return We(()=>{const l=function Ia(n){return function(...o){if(n){const l=n(...o);for(const p in l)this[p]=l[p]}}}(r);function p(..._){if(this instanceof p)return l.apply(this,_),this;const D=new p(..._);return O.annotation=D,O;function O(L,Y,se){const Ce=L.hasOwnProperty(Ea)?L[Ea]:Object.defineProperty(L,Ea,{value:[]})[Ea];for(;Ce.length<=se;)Ce.push(null);return(Ce[se]=Ce[se]||[]).push(D),L}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class pi{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=xt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function to(n,r){n.forEach(o=>Array.isArray(o)?to(o,r):r(o))}function ol(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function To(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function no(n,r){const o=[];for(let l=0;l<n;l++)o.push(r);return o}function Ks(n,r,o){let l=_i(n,r);return l>=0?n[1|l]=o:(l=~l,function wl(n,r,o,l){let p=n.length;if(p==r)n.push(o,l);else if(1===p)n.push(l,n[0]),n[0]=o;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=o,n[r+1]=l}}(n,l,r,o)),l}function ca(n,r){const o=_i(n,r);if(o>=0)return n[1|o]}function _i(n,r){return function Ca(n,r,o){let l=0,p=n.length>>o;for(;p!==l;){const _=l+(p-l>>1),D=n[_<<o];if(r===D)return _<<o;D>r?p=_:l=_+1}return~(p<<o)}(n,r,1)}const sn=Rn(Dt("Optional"),8),In=Rn(Dt("SkipSelf"),4);var hs=(()=>((hs=hs||{})[hs.Important=1]="Important",hs[hs.DashCase=2]="DashCase",hs))();const Qu=new Map;let tu=0;const Su="__ngContext__";function $s(n,r){kr(r)?(n[Su]=r[Dn],function nu(n){Qu.set(n[Dn],n)}(r)):n[Su]=r}let su;function rd(n,r){return su(n,r)}function xu(n){const r=n[Hr];return vr(r)?r[Hr]:r}function Dc(n){return ec(n[bt])}function Tc(n){return ec(n[Jr])}function ec(n){for(;null!==n&&!vr(n);)n=n[Jr];return n}function ba(n,r,o,l,p){if(null!=l){let _,D=!1;vr(l)?_=l:kr(l)&&(D=!0,l=l[Mr]);const O=Dr(l);0===n&&null!==o?null==p?qo(r,o,O):Ba(r,o,O,p||null,!0):1===n&&null!==o?Ba(r,o,O,p||null,!0):2===n?function Ul(n,r,o){const l=Za(n,r);l&&function lu(n,r,o,l){n.removeChild(r,o,l)}(n,l,r,o)}(r,O,D):3===n&&r.destroyNode(O),null!=_&&function dl(n,r,o,l,p){const _=o[mt];_!==Dr(o)&&ba(r,n,l,_,p);for(let O=En;O<o.length;O++){const L=o[O];ro(L[fn],L,n,r,l,_)}}(r,n,_,o,p)}}function Sc(n,r,o){return n.createElement(r,o)}function es(n,r){const o=n[rn],l=o.indexOf(r),p=r[Hr];512&r[Qn]&&(r[Qn]&=-513,ds(p,-1)),o.splice(l,1)}function au(n,r){if(n.length<=En)return;const o=En+r,l=n[o];if(l){const p=l[wt];null!==p&&p!==n&&es(p,l),r>0&&(n[o-1][Jr]=l[Jr]);const _=To(n,En+r);!function ou(n,r){ro(n,r,r[Ne],2,null,null),r[Mr]=null,r[di]=null}(l[fn],l);const D=_[nn];null!==D&&D.detachView(_[fn]),l[Hr]=null,l[Jr]=null,l[Qn]&=-65}return l}function $l(n,r){if(!(128&r[Qn])){const o=r[Ne];o.destroyNode&&ro(n,r,o,3,null,null),function tc(n){let r=n[bt];if(!r)return Sl(n[fn],n);for(;r;){let o=null;if(kr(r))o=r[bt];else{const l=r[En];l&&(o=l)}if(!o){for(;r&&!r[Jr]&&r!==n;)kr(r)&&Sl(r[fn],r),r=r[Hr];null===r&&(r=n),kr(r)&&Sl(r[fn],r),o=r&&r[Jr]}r=o}}(r)}}function Sl(n,r){if(!(128&r[Qn])){r[Qn]&=-65,r[Qn]|=128,function nc(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const p=r[o[l]];if(!(p instanceof B)){const _=o[l+1];if(Array.isArray(_))for(let D=0;D<_.length;D+=2){const O=p[_[D]],L=_[D+1];Xn(4,O,L);try{L.call(O)}finally{Xn(5,O,L)}}else{Xn(4,p,_);try{_.call(p)}finally{Xn(5,p,_)}}}}}(n,r),function Vl(n,r){const o=n.cleanup,l=r[xi];let p=-1;if(null!==o)for(let _=0;_<o.length-1;_+=2)if("string"==typeof o[_]){const D=o[_+3];D>=0?l[p=D]():l[p=-D].unsubscribe(),_+=2}else{const D=l[p=o[_+1]];o[_].call(D)}if(null!==l){for(let _=p+1;_<l.length;_++)(0,l[_])();r[xi]=null}}(n,r),1===r[fn].type&&r[Ne].destroy();const o=r[wt];if(null!==o&&vr(r[Hr])){o!==r[Hr]&&es(o,r);const l=r[nn];null!==l&&l.detachView(n)}!function Hd(n){Qu.delete(n[Dn])}(r)}}function rc(n,r,o){return function Mu(n,r,o){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return o[Mr];{const{componentOffset:p}=l;if(p>-1){const{encapsulation:_}=n.data[l.directiveStart+p];if(_===yt.None||_===yt.Emulated)return null}return qr(l,o)}}(n,r.parent,o)}function Ba(n,r,o,l,p){n.insertBefore(r,o,l,p)}function qo(n,r,o){n.appendChild(r,o)}function ud(n,r,o,l,p){null!==l?Ba(n,r,o,l,p):qo(n,r,o)}function Za(n,r){return n.parentNode(r)}function xc(n,r,o){return gi(n,r,o)}let ic,ku,$o,gi=function Es(n,r,o){return 40&n.type?qr(n,o):null};function Da(n,r,o,l){const p=rc(n,l,r),_=r[Ne],O=xc(l.parent||r[di],l,r);if(null!=p)if(Array.isArray(o))for(let L=0;L<o.length;L++)ud(_,p,o[L],O,!1);else ud(_,p,o,O,!1);void 0!==ic&&ic(_,l,r,o,p)}function Ou(n,r){if(null!==r){const o=r.type;if(3&o)return qr(r,n);if(4&o)return cu(-1,n[r.index]);if(8&o){const l=r.child;if(null!==l)return Ou(n,l);{const p=n[r.index];return vr(p)?cu(-1,p):Dr(p)}}if(32&o)return rd(r,n)()||Dr(n[r.index]);{const l=Zo(n,r);return null!==l?Array.isArray(l)?l[0]:Ou(xu(n[dt]),l):Ou(n,r.next)}}return null}function Zo(n,r){return null!==r?n[dt][di].projection[r.projection]:null}function cu(n,r){const o=En+n+1;if(o<r.length){const l=r[o],p=l[fn].firstChild;if(null!==p)return Ou(l,p)}return r[mt]}function vo(n,r,o,l,p,_,D){for(;null!=o;){const O=l[o.index],L=o.type;if(D&&0===r&&(O&&$s(Dr(O),l),o.flags|=2),32!=(32&o.flags))if(8&L)vo(n,r,o.child,l,p,_,!1),ba(r,n,p,O,_);else if(32&L){const Y=rd(o,l);let se;for(;se=Y();)ba(r,n,p,se,_);ba(r,n,p,O,_)}else 16&L?Al(n,r,l,o,p,_):ba(r,n,p,O,_);o=D?o.projectionNext:o.next}}function ro(n,r,o,l,p,_){vo(o,l,n.firstChild,r,p,_,!1)}function Al(n,r,o,l,p,_){const D=o[dt],L=D[di].projection[l.projection];if(Array.isArray(L))for(let Y=0;Y<L.length;Y++)ba(r,n,p,L[Y],_);else vo(n,r,L,D[Hr],p,_,!0)}function xl(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Nu(n,r,o){const{mergedAttrs:l,classes:p,styles:_}=o;null!==l&&Jn(n,r,l),null!==p&&xl(n,r,p),null!==_&&function Er(n,r,o){n.setAttribute(r,"style",o)}(n,r,_)}function Rc(n){ku=n}function Oc(n){var r;return(null===(r=function hl(){if(void 0===$o&&($o=null,Pn.trustedTypes))try{$o=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return $o}())||void 0===r?void 0:r.createScriptURL(n))||n}class sc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${St})`}}function g(n){return n instanceof sc?n.changingThisBreaksApplicationSecurity:n}function E(n,r){const o=function A(n){return n instanceof sc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${St})`)}return o===r}const Ta=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var _o=(()=>((_o=_o||{})[_o.NONE=0]="NONE",_o[_o.HTML=1]="HTML",_o[_o.STYLE=2]="STYLE",_o[_o.SCRIPT=3]="SCRIPT",_o[_o.URL=4]="URL",_o[_o.RESOURCE_URL=5]="RESOURCE_URL",_o))();function Rf(n){const r=Fc();return r?r.sanitize(_o.URL,n)||"":E(n,"URL")?g(n):function hu(n){return(n=String(n)).match(Ta)?n:"unsafe:"+n}(le(n))}function Of(n){const r=Fc();if(r)return Oc(r.sanitize(_o.RESOURCE_URL,n)||"");if(E(n,"ResourceURL"))return Oc(g(n));throw new Re(904,!1)}function $p(n,r,o){return function Bp(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Of:Rf}(r,o)(n)}function Fc(){const n=Wt();return n&&n[ut]}const Jd=new pi("ENVIRONMENT_INITIALIZER"),Ph=new pi("INJECTOR",-1),eh=new pi("INJECTOR_DEF_TYPES");class Ao{get(r,o=pn){if(o===pn){const l=new Error(`NullInjectorError: No provider for ${Ae(r)}!`);throw l.name="NullInjectorError",l}return o}}function Nh(...n){return{\u0275providers:Ml(0,n),\u0275fromNgModule:!0}}function Ml(n,...r){const o=[],l=new Set;let p;return to(r,_=>{const D=_;fa(D,o,[],l)&&(p||(p=[]),p.push(D))}),void 0!==p&&Is(p,o),o}function Is(n,r){for(let o=0;o<n.length;o++){const{providers:p}=n[o];nh(p,_=>{r.push(_)})}}function fa(n,r,o,l){if(!(n=pe(n)))return!1;let p=null,_=ar(n);const D=!_&&Zn(n);if(_||D){if(D&&!D.standalone)return!1;p=n}else{const L=n.ngModule;if(_=ar(L),!_)return!1;p=L}const O=l.has(p);if(D){if(O)return!1;if(l.add(p),D.dependencies){const L="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const Y of L)fa(Y,r,o,l)}}else{if(!_)return!1;{if(null!=_.imports&&!O){let Y;l.add(p);try{to(_.imports,se=>{fa(se,r,o,l)&&(Y||(Y=[]),Y.push(se))})}finally{}void 0!==Y&&Is(Y,r)}if(!O){const Y=ns(p)||(()=>new p);r.push({provide:p,useFactory:Y,deps:Le},{provide:eh,useValue:p,multi:!0},{provide:Jd,useValue:()=>an(p),multi:!0})}const L=_.providers;null==L||O||nh(L,se=>{r.push(se)})}}return p!==n&&void 0!==n.providers}function nh(n,r){for(let o of n)Ue(o)&&(o=o.\u0275providers),Array.isArray(o)?nh(o,r):r(o)}const rh=Te({provide:String,useValue:Te});function fu(n){return null!==n&&"object"==typeof n&&rh in n}function Rl(n){return"function"==typeof n}const fd=new pi("Set Injector scope."),oc={},kh={};let pd;function gd(){return void 0===pd&&(pd=new Ao),pd}class gl{}class Fh extends gl{get destroyed(){return this._destroyed}constructor(r,o,l,p){super(),this.parent=o,this.source=l,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uc(r,D=>this.processProvider(D)),this.records.set(Ph,Vu(void 0,this)),p.has("environment")&&this.records.set(gl,Vu(void 0,this));const _=this.records.get(fd);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(eh.multi,Le,Yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=jn(this),l=$r(void 0);try{return r()}finally{jn(o),$r(l)}}get(r,o=pn,l=Yt.Default){this.assertNotDestroyed(),l=Nn(l);const p=jn(this),_=$r(void 0);try{if(!(l&Yt.SkipSelf)){let O=this.records.get(r);if(void 0===O){const L=function Up(n){return"function"==typeof n||"object"==typeof n&&n instanceof pi}(r)&&Rt(r);O=L&&this.injectableDefInScope(L)?Vu(ac(r),oc):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(l&Yt.Self?gd():this.parent).get(r,o=l&Yt.Optional&&o===pn?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Gt]=D[Gt]||[]).unshift(Ae(r)),p)throw D;return function xe(n,r,o,l){const p=n[Gt];throw r[_r]&&p.unshift(r[_r]),n.message=function Ie(n,r,o,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Cr?n.slice(2):n;let p=Ae(r);if(Array.isArray(r))p=r.map(Ae).join(" -> ");else if("object"==typeof r){let _=[];for(let D in r)if(r.hasOwnProperty(D)){let O=r[D];_.push(D+":"+("string"==typeof O?JSON.stringify(O):Ae(O)))}p=`{${_.join(", ")}}`}return`${o}${l?"("+l+")":""}[${p}]: ${n.replace(Ni,"\n  ")}`}("\n"+n.message,p,o,l),n[ii]=p,n[Gt]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{$r(_),jn(p)}}resolveInjectorInitializers(){const r=jn(this),o=$r(void 0);try{const l=this.get(Jd.multi,Le,Yt.Self);for(const p of l)p()}finally{jn(r),$r(o)}}toString(){const r=[],o=this.records;for(const l of o.keys())r.push(Ae(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(r){let o=Rl(r=pe(r))?r:pe(r&&r.provide);const l=function lc(n){return fu(n)?Vu(void 0,n.useValue):Vu(Lh(n),oc)}(r);if(Rl(r)||!0!==r.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=Vu(void 0,oc,!0),p.factory=()=>Ln(p.multi),this.records.set(o,p)),o=r,p.multi.push(r)}this.records.set(o,l)}hydrate(r,o){return o.value===oc&&(o.value=kh,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Vp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=pe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function ac(n){const r=Rt(n),o=null!==r?r.factory:ns(n);if(null!==o)return o;if(n instanceof pi)throw new Re(204,!1);if(n instanceof Function)return function md(n){const r=n.length;if(r>0)throw no(r,"?"),new Re(204,!1);const o=function Fn(n){const r=n&&(n[wr]||n[Cn]);return r?(function on(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),r):null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Re(204,!1)}function Lh(n,r,o){let l;if(Rl(n)){const p=pe(n);return ns(p)||ac(p)}if(fu(n))l=()=>pe(n.useValue);else if(function $u(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Ln(n.deps||[]));else if(function Bu(n){return!(!n||!n.useExisting)}(n))l=()=>an(pe(n.useExisting));else{const p=pe(n&&(n.useClass||n.provide));if(!function kf(n){return!!n.deps}(n))return ns(p)||ac(p);l=()=>new p(...Ln(n.deps))}return l}function Vu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function uc(n,r){for(const o of n)Array.isArray(o)?uc(o,r):o&&Ue(o)?uc(o.\u0275providers,r):r(o)}class Uu{}class pu{}class Hp{resolveComponentFactory(r){throw function Ff(n){const r=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let cc=(()=>{class n{}return n.NULL=new Hp,n})();function $h(){return dc(I(),Wt())}function dc(n,r){return new hc(qr(n,r))}let hc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=$h,n})();function Vh(n){return n instanceof hc?n.nativeElement:n}class Uh{}let h=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function u(){const n=Wt(),o=Oi(I().index,n);return(kr(o)?o:n)[Ne]}(),n})(),d=(()=>{class n{}return n.\u0275prov=xt({token:n,providedIn:"root",factory:()=>null}),n})();class v{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const S=new v("15.2.2"),k={},G="ngOriginalError";function ve(n){return n[G]}class $e{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&ve(r);for(;o&&ve(o);)o=ve(o);return o||null}}function Vo(n){return n instanceof Function?n():n}function hm(n,r,o){let l=n.length;for(;;){const p=n.indexOf(r,o);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const _=r.length;if(p+_===l||n.charCodeAt(p+_)<=32)return p}o=p+1}}const fm="ng-template";function yv(n,r,o){let l=0;for(;l<n.length;){let p=n[l++];if(o&&"class"===p){if(p=n[l],-1!==hm(p.toLowerCase(),r,0))return!0}else if(1===p){for(;l<n.length&&"string"==typeof(p=n[l++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function pm(n){return 4===n.type&&n.value!==fm}function Lf(n,r,o){return r===(4!==n.type||o?n.value:fm)}function gm(n,r,o){let l=4;const p=n.attrs||[],_=function yd(n){for(let r=0;r<n.length;r++)if(vi(n[r]))return r;return n.length}(p);let D=!1;for(let O=0;O<r.length;O++){const L=r[O];if("number"!=typeof L){if(!D)if(4&l){if(l=2|1&l,""!==L&&!Lf(n,L,o)||""===L&&1===r.length){if(gu(l))return!1;D=!0}}else{const Y=8&l?L:r[++O];if(8&l&&null!==n.attrs){if(!yv(n.attrs,Y,o)){if(gu(l))return!1;D=!0}continue}const Ce=mm(8&l?"class":L,p,pm(n),o);if(-1===Ce){if(gu(l))return!1;D=!0;continue}if(""!==Y){let ct;ct=Ce>_?"":p[Ce+1].toLowerCase();const Tt=8&l?ct:null;if(Tt&&-1!==hm(Tt,Y,0)||2&l&&Y!==ct){if(gu(l))return!1;D=!0}}}}else{if(!D&&!gu(l)&&!gu(L))return!1;if(D&&gu(L))continue;D=!1,l=L|1&l}}return gu(l)||D}function gu(n){return 0==(1&n)}function mm(n,r,o,l){if(null===r)return-1;let p=0;if(l||!o){let _=!1;for(;p<r.length;){const D=r[p];if(D===n)return p;if(3===D||6===D)_=!0;else{if(1===D||2===D){let O=r[++p];for(;"string"==typeof O;)O=r[++p];continue}if(4===D)break;if(0===D){p+=4;continue}}p+=_?1:2}return-1}return function Hh(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===r)return o;o++}return-1}(r,n)}function ym(n,r,o=!1){for(let l=0;l<r.length;l++)if(gm(n,r[l],o))return!0;return!1}function _m(n,r){e:for(let o=0;o<r.length;o++){const l=r[o];if(n.length===l.length){for(let p=0;p<n.length;p++)if(n[p]!==l[p])continue e;return!0}}return!1}function zp(n,r){return n?":not("+r.trim()+")":r}function vv(n){let r=n[0],o=1,l=2,p="",_=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&l){const O=n[++o];p+="["+D+(O.length>0?'="'+O+'"':"")+"]"}else 8&l?p+="."+D:4&l&&(p+=" "+D);else""!==p&&!gu(D)&&(r+=zp(_,p),p=""),l=D,_=_||!gu(l);o++}return""!==p&&(r+=zp(_,p)),r}const ti={};function Bf(n){Xo(fr(),Wt(),os()+n,!1)}function Xo(n,r,o,l){if(!l)if(3==(3&r[Qn])){const _=n.preOrderCheckHooks;null!==_&&sa(r,_,o)}else{const _=n.preOrderHooks;null!==_&&oa(r,_,0,o)}ho(o)}function Vf(n,r=null,o=null,l){const p=Uf(n,r,o,l);return p.resolveInjectorInitializers(),p}function Uf(n,r=null,o=null,l,p=new Set){const _=[o||Le,Nh(n)];return l=l||("object"==typeof n?void 0:Ae(n)),new Fh(_,r||gd(),l||null,p)}let mu=(()=>{class n{static create(o,l){if(Array.isArray(o))return Vf({name:""},l,o,"");{var p;const _=null!==(p=o.name)&&void 0!==p?p:"";return Vf({name:_},o.parent,o.providers,_)}}}return n.THROW_IF_NOT_FOUND=pn,n.NULL=new Ao,n.\u0275prov=xt({token:n,providedIn:"any",factory:()=>an(Ph)}),n.__NG_ELEMENT_ID__=-1,n})();function Lc(n,r=Yt.Default){const o=Wt();return null===o?an(n,r):Wo(I(),o,pe(n),r)}function Gf(){throw new Error("invalid")}function Pm(n,r){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const _=o[l+1];if(-1!==_){const D=n.data[_];Fs(o[l]),D.contentQueries(2,r[_],_)}}}function zf(n,r,o,l,p,_,D,O,L,Y,se){const Ce=r.blueprint.slice();return Ce[Mr]=p,Ce[Qn]=76|l,(null!==se||n&&1024&n[Qn])&&(Ce[Qn]|=1024),Oo(Ce),Ce[Hr]=Ce[Ye]=n,Ce[zr]=o,Ce[he]=D||n&&n[he],Ce[Ne]=O||n&&n[Ne],Ce[ut]=L||n&&n[ut]||null,Ce[ne]=Y||n&&n[ne]||null,Ce[di]=_,Ce[Dn]=function bl(){return tu++}(),Ce[Bn]=se,Ce[dt]=2==r.type?n[dt]:Ce,Ce}function ih(n,r,o,l,p){let _=n.data[r];if(null===_)_=function Wf(n,r,o,l,p){const _=y(),D=st(),L=n.data[r]=function rg(n,r,o,l,p,_){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?_:_&&_.parent,o,r,l,p);return null===n.firstChild&&(n.firstChild=L),null!==_&&(D?null==_.child&&null!==L.parent&&(_.child=L):null===_.next&&(_.next=L,L.prev=_)),L}(n,r,o,l,p),function lo(){return nr.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=o,_.value=l,_.attrs=p;const D=function P(){const n=nr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();_.injectorIndex=null===D?-1:D.injectorIndex}return Q(_,!0),_}function Bc(n,r,o,l){if(0===o)return-1;const p=r.length;for(let _=0;_<o;_++)r.push(l),n.blueprint.push(l),n.data.push(null);return p}function Id(n,r,o){co(r);try{const l=n.viewQuery;null!==l&&$c(1,l,o);const p=n.template;null!==p&&Jp(n,r,p,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Pm(n,r),n.staticViewQueries&&$c(2,n.viewQuery,o);const _=n.components;null!==_&&function Mv(n,r){for(let o=0;o<r.length;o++)Vv(n,r[o])}(r,_)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[Qn]&=-5,ra()}}function sh(n,r,o,l){const p=r[Qn];if(128!=(128&p)){co(r);try{Oo(r),function Bi(n){return nr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Jp(n,r,o,2,l);const D=3==(3&p);if(D){const Y=n.preOrderCheckHooks;null!==Y&&sa(r,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&oa(r,Y,0,null),No(r,0)}if(function dg(n){for(let r=Dc(n);null!==r;r=Tc(r)){if(!r[qe])continue;const o=r[rn];for(let l=0;l<o.length;l++){const p=o[l];512&p[Qn]||ds(p[Hr],1),p[Qn]|=512}}}(r),function Bv(n){for(let r=Dc(n);null!==r;r=Tc(r))for(let o=En;o<r.length;o++){const l=r[o],p=l[fn];oo(l)&&sh(p,l,p.template,l[zr])}}(r),null!==n.contentQueries&&Pm(n,r),D){const Y=n.contentCheckHooks;null!==Y&&sa(r,Y)}else{const Y=n.contentHooks;null!==Y&&oa(r,Y,1),No(r,1)}!function Om(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const p=o[l];if(p<0)ho(~p);else{const _=p,D=o[++l],O=o[++l];na(D,_),O(2,r[_])}}}finally{ho(-1)}}(n,r);const O=n.components;null!==O&&function Nm(n,r){for(let o=0;o<r.length;o++)$v(n,r[o])}(r,O);const L=n.viewQuery;if(null!==L&&$c(2,L,l),D){const Y=n.viewCheckHooks;null!==Y&&sa(r,Y)}else{const Y=n.viewHooks;null!==Y&&oa(r,Y,2),No(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Qn]&=-41,512&r[Qn]&&(r[Qn]&=-513,ds(r[Hr],-1))}finally{ra()}}}function Jp(n,r,o,l,p){const _=os(),D=2&l;try{ho(-1),D&&r.length>Kn&&Xo(n,r,Kn,!1),Xn(D?2:0,p),o(l,p)}finally{ho(_),Xn(D?3:1,p)}}function eg(n,r,o){if(ls(r)){const p=r.directiveEnd;for(let _=r.directiveStart;_<p;_++){const D=n.data[_];D.contentQueries&&D.contentQueries(1,o[_],_)}}}function tg(n,r,o){Gs()&&(function Nv(n,r,o,l){const p=o.directiveStart,_=o.directiveEnd;ts(o)&&function Fv(n,r,o){const l=qr(r,n),p=km(o),_=n[he],D=Qh(n,zf(n,p,null,o.onPush?32:16,l,r,_,_.createRenderer(l,o),null,null,null));n[r.index]=D}(r,o,n.data[p+o.componentOffset]),n.firstCreatePass||Wa(o,r),$s(l,r);const D=o.initialInputs;for(let O=p;O<_;O++){const L=n.data[O],Y=gn(r,n,O,o);$s(Y,r),null!==D&&Bm(0,O-p,Y,L,0,D),ji(L)&&(Oi(o.index,r)[zr]=gn(r,n,O,o))}}(n,r,o,qr(o,r)),64==(64&o.flags)&&qf(n,r,o))}function ng(n,r,o=qr){const l=r.localNames;if(null!==l){let p=r.index+1;for(let _=0;_<l.length;_+=2){const D=l[_+1],O=-1===D?o(r,n):n[D];n[p++]=O}}}function km(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Yh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Yh(n,r,o,l,p,_,D,O,L,Y){const se=Kn+l,Ce=se+p,ct=function Rv(n,r){const o=[];for(let l=0;l<r;l++)o.push(l<n?null:ti);return o}(se,Ce),Tt="function"==typeof Y?Y():Y;return ct[fn]={type:n,blueprint:ct,template:o,queries:null,viewQuery:O,declTNode:r,data:ct.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:L,consts:Tt,incompleteFirstPass:!1}}function oh(n,r,o,l){const p=Xf(r);null===o?p.push(l):(p.push(o),n.firstCreatePass&&bd(n).push(l,p.length-1))}function wd(n,r,o,l){for(let p in n)if(n.hasOwnProperty(p)){o=null===o?{}:o;const _=n[p];null===l?Kf(o,r,p,_):l.hasOwnProperty(p)&&Kf(o,r,l[p],_)}return o}function Kf(n,r,o,l){n.hasOwnProperty(o)?n[o].push(r,l):n[o]=[r,l]}function ig(n,r){const o=Oi(r,n);16&o[Qn]||(o[Qn]|=32)}function yu(n,r,o,l){if(Gs()){const p=null===l?null:{"":-1},_=function lg(n,r){const o=n.directiveRegistry;let l=null,p=null;if(o)for(let D=0;D<o.length;D++){const O=o[D];if(ym(r,O.selectors,!1))if(l||(l=[]),ji(O))if(null!==O.findHostDirectiveDefs){const L=[];p=p||new Map,O.findHostDirectiveDefs(O,L,p),l.unshift(...L,O),ah(n,r,L.length)}else l.unshift(O),ah(n,r,0);else{var _;p=p||new Map,null===(_=O.findHostDirectiveDefs)||void 0===_||_.call(O,O,l,p),l.push(O)}}return null===l?null:[l,p]}(n,o);let D,O;null===_?D=O=null:[D,O]=_,null!==D&&og(n,r,o,D,p,O),p&&function ug(n,r,o){if(r){const l=n.localNames=[];for(let p=0;p<r.length;p+=2){const _=o[r[p+1]];if(null==_)throw new Re(-301,!1);l.push(r[p],_)}}}(o,l,p)}o.mergedAttrs=Jt(o.mergedAttrs,o.attrs)}function og(n,r,o,l,p,_){for(let Y=0;Y<l.length;Y++)la(Wa(o,r),n,l[Y].type);!function lh(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,l.length);for(let Y=0;Y<l.length;Y++){const se=l[Y];se.providersResolver&&se.providersResolver(se)}let D=!1,O=!1,L=Bc(n,r,l.length,null);for(let Y=0;Y<l.length;Y++){const se=l[Y];o.mergedAttrs=Jt(o.mergedAttrs,se.hostAttrs),cg(n,o,r,L,se),Lm(L,se,p),null!==se.contentQueries&&(o.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(o.flags|=64);const Ce=se.type.prototype;!D&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),D=!0),!O&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),O=!0),L++}!function Yf(n,r,o){const p=r.directiveEnd,_=n.data,D=r.attrs,O=[];let L=null,Y=null;for(let se=r.directiveStart;se<p;se++){const Ce=_[se],ct=o?o.get(Ce):null,Qt=ct?ct.outputs:null;L=wd(Ce.inputs,se,L,ct?ct.inputs:null),Y=wd(Ce.outputs,se,Y,Qt);const mn=null===L||null===D||pm(r)?null:Lv(L,se,D);O.push(mn)}null!==L&&(L.hasOwnProperty("class")&&(r.flags|=8),L.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=O,r.inputs=L,r.outputs=Y}(n,o,_)}function qf(n,r,o){const l=o.directiveStart,p=o.directiveEnd,_=o.index,D=function Va(){return nr.lFrame.currentDirectiveIndex}();try{ho(_);for(let O=l;O<p;O++){const L=n.data[O],Y=r[O];ma(O),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&kv(L,Y)}}finally{ho(-1),ma(D)}}function kv(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ah(n,r,o){r.componentOffset=o,(n.components||(n.components=[])).push(r.index)}function Lm(n,r,o){if(o){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)o[r.exportAs[l]]=n;ji(r)&&(o[""]=n)}}function cg(n,r,o,l,p){n.data[l]=p;const _=p.factory||(p.factory=ns(p.type)),D=new B(_,ji(p),Lc);n.blueprint[l]=D,o[l]=D,function Pv(n,r,o,l,p){const _=p.hostBindings;if(_){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const O=~r.index;(function ag(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(D)!=O&&D.push(O),D.push(o,l,_)}}(n,r,l,Bc(n,o,p.hostVars,ti),p)}function ju(n,r,o,l,p,_){const D=qr(n,r);!function Zf(n,r,o,l,p,_,D){if(null==_)n.removeAttribute(r,p,o);else{const O=null==D?le(_):D(_,l||"",p);n.setAttribute(r,p,O,o)}}(r[Ne],D,_,n.value,o,l,p)}function Bm(n,r,o,l,p,_){const D=_[r];if(null!==D){const O=l.setInput;for(let L=0;L<D.length;){const Y=D[L++],se=D[L++],Ce=D[L++];null!==O?l.setInput(o,Ce,Y,se):o[se]=Ce}}}function Lv(n,r,o){let l=null,p=0;for(;p<o.length;){const _=o[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===l&&(l=[]);const D=n[_];for(let O=0;O<D.length;O+=2)if(D[O]===r){l.push(_,D[O+1],o[p+1]);break}}p+=2}else p+=2;else p+=4}return l}function Qf(n,r,o,l){return[n,!0,!1,r,null,0,l,o,null,null]}function $v(n,r){const o=Oi(r,n);if(oo(o)){const l=o[fn];48&o[Qn]?sh(l,o,l.template,o[zr]):o[Ai]>0&&Zh(o)}}function Zh(n){for(let l=Dc(n);null!==l;l=Tc(l))for(let p=En;p<l.length;p++){const _=l[p];if(oo(_))if(512&_[Qn]){const D=_[fn];sh(D,_,D.template,_[zr])}else _[Ai]>0&&Zh(_)}const o=n[fn].components;if(null!==o)for(let l=0;l<o.length;l++){const p=Oi(o[l],n);oo(p)&&p[Ai]>0&&Zh(p)}}function Vv(n,r){const o=Oi(r,n),l=o[fn];(function hg(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(l,o),Id(l,o,o[zr])}function Qh(n,r){return n[bt]?n[ce][Jr]=r:n[bt]=r,n[ce]=r,r}function Xh(n){for(;n;){n[Qn]|=32;const r=xu(n);if(Ho(n)&&!r)return n;n=r}return null}function uh(n,r,o,l=!0){const p=r[he];p.begin&&p.begin();try{sh(n,r,n.template,o)}catch(D){throw l&&fg(r,D),D}finally{p.end&&p.end()}}function $c(n,r,o){Fs(0),r(n,o)}function Xf(n){return n[xi]||(n[xi]=[])}function bd(n){return n.cleanup||(n.cleanup=[])}function fg(n,r){const o=n[ne],l=o?o.get($e,null):null;l&&l.handleError(r)}function Vc(n,r,o,l,p){for(let _=0;_<o.length;){const D=o[_++],O=o[_++],L=r[D],Y=n.data[D];null!==Y.setInput?Y.setInput(L,p,l,O):L[O]=p}}function gc(n,r,o){const l=As(r,n);!function sd(n,r,o){n.setValue(r,o)}(n[Ne],l,o)}function Jf(n,r,o){let l=o?n.styles:null,p=o?n.classes:null,_=0;if(null!==r)for(let D=0;D<r.length;D++){const O=r[D];"number"==typeof O?_=O:1==_?p=Ve(p,O):2==_&&(l=Ve(l,O+": "+r[++D]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=p:n.classesWithoutHost=p}function ch(n,r,o,l,p=!1){for(;null!==o;){const _=r[o.index];if(null!==_&&l.push(Dr(_)),vr(_))for(let O=En;O<_.length;O++){const L=_[O],Y=L[fn].firstChild;null!==Y&&ch(L[fn],L,Y,l)}const D=o.type;if(8&D)ch(n,r,o.child,l);else if(32&D){const O=rd(o,r);let L;for(;L=O();)l.push(L)}else if(16&D){const O=Zo(r,o);if(Array.isArray(O))l.push(...O);else{const L=xu(r[dt]);ch(L[fn],L,O,l,!0)}}o=p?o.projectionNext:o.next}return l}class Td{get rootNodes(){const r=this._lView,o=r[fn];return ch(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zr]}set context(r){this._lView[zr]=r}get destroyed(){return 128==(128&this._lView[Qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Hr];if(vr(r)){const o=r[Ut],l=o?o.indexOf(this):-1;l>-1&&(au(r,l),To(o,l))}this._attachedToViewContainer=!1}$l(this._lView[fn],this._lView)}onDestroy(r){oh(this._lView[fn],this._lView,null,r)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qn]&=-65}reattach(){this._lView[Qn]|=64}detectChanges(){uh(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function od(n,r){ro(n,r,r[Ne],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=r}}class pg extends Td{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;uh(r[fn],r,r[zr],!1)}checkNoChanges(){}get context(){return null}}class ep extends cc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Zn(r);return new Sd(o,this.ngModule)}}function Vm(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class gg{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,l){l=Nn(l);const p=this.injector.get(r,k,l);return p!==k||o===k?p:this.parentInjector.get(r,o,l)}}class Sd extends pu{get inputs(){return Vm(this.componentDef.inputs)}get outputs(){return Vm(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Em(n){return n.map(vv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,l,p){var _;let D=(p=p||this.ngModule)instanceof gl?p:null===(_=p)||void 0===_?void 0:_.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const O=D?new gg(r,D):r,L=O.get(Uh,null);if(null===L)throw new Re(407,!1);const Y=O.get(d,null),se=L.createRenderer(null,this.componentDef),Ce=this.componentDef.selectors[0][0]||"div",ct=l?function Ov(n,r,o){return n.selectRootElement(r,o===yt.ShadowDom)}(se,l,this.componentDef.encapsulation):Sc(se,Ce,function Uv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ce)),Tt=this.componentDef.onPush?288:272,Qt=Yh(0,null,null,1,0,null,null,null,null,null),mn=zf(null,Qt,null,Tt,null,null,L,se,Y,O,null);let Hn,yr;co(mn);try{const Br=this.componentDef;let ln,Qr=null;Br.findHostDirectiveDefs?(ln=[],Qr=new Map,Br.findHostDirectiveDefs(Br,ln,Qr),ln.push(Br)):ln=[Br];const Us=function Gv(n,r){const o=n[fn],l=Kn;return n[l]=r,ih(o,l,2,"#host",null)}(mn,ct),Mo=function Um(n,r,o,l,p,_,D,O){const L=p[fn];!function jm(n,r,o,l){for(const p of n)r.mergedAttrs=Jt(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(Jf(r,r.mergedAttrs,!0),null!==o&&Nu(l,o,r))}(l,n,r,D);const Y=_.createRenderer(r,o),se=zf(p,km(o),null,o.onPush?32:16,p[n.index],n,_,Y,O||null,null,null);return L.firstCreatePass&&ah(L,n,l.length-1),Qh(p,se),p[n.index]=se}(Us,ct,Br,ln,mn,L,se);yr=Li(Qt,Kn),ct&&function Gm(n,r,o,l){if(l)Jn(n,o,["ng-version",S.full]);else{const{attrs:p,classes:_}=function _v(n){const r=[],o=[];let l=1,p=2;for(;l<n.length;){let _=n[l];if("string"==typeof _)2===p?""!==_&&r.push(_,n[++l]):8===p&&o.push(_);else{if(!gu(p))break;p=_}l++}return{attrs:r,classes:o}}(r.selectors[0]);p&&Jn(n,o,p),_&&_.length>0&&xl(n,o,_.join(" "))}}(se,Br,ct,l),void 0!==o&&function zv(n,r,o){const l=n.projection=[];for(let p=0;p<r.length;p++){const _=o[p];l.push(null!=_?Array.from(_):null)}}(yr,this.ngContentSelectors,o),Hn=function Hm(n,r,o,l,p,_){const D=I(),O=p[fn],L=qr(D,p);og(O,p,D,o,null,l);for(let se=0;se<o.length;se++)$s(gn(p,O,D.directiveStart+se,D),p);qf(O,p,D),L&&$s(L,p);const Y=gn(p,O,D.directiveStart+D.componentOffset,D);if(n[zr]=p[zr]=Y,null!==_)for(const se of _)se(Y,r);return eg(O,D,n),Y}(Mo,Br,ln,Qr,mn,[Wv]),Id(Qt,mn,null)}finally{ra()}return new jv(this.componentType,Hn,dc(yr,mn),mn,yr)}}class jv extends Uu{constructor(r,o,l,p,_){super(),this.location=l,this._rootLView=p,this._tNode=_,this.instance=o,this.hostView=this.changeDetectorRef=new pg(p),this.componentType=r}setInput(r,o){const l=this._tNode.inputs;let p;if(null!==l&&(p=l[r])){const _=this._rootLView;Vc(_[fn],_,p,r,o),ig(_,this._tNode.index)}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Wv(){const n=I();za(Wt()[fn],n)}function mg(n){let r=function zm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;r;){let p;if(ji(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Re(903,!1);p=r.\u0275dir}if(p){if(o){l.push(p);const D=n;D.inputs=Jh(n.inputs),D.declaredInputs=Jh(n.declaredInputs),D.outputs=Jh(n.outputs);const O=p.hostBindings;O&&_g(n,O);const L=p.viewQuery,Y=p.contentQueries;if(L&&vg(n,L),Y&&Kv(n,Y),de(n.inputs,p.inputs),de(n.declaredInputs,p.declaredInputs),de(n.outputs,p.outputs),ji(p)&&p.data.animation){const se=n.data;se.animation=(se.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let D=0;D<_.length;D++){const O=_[D];O&&O.ngInherit&&O(n),O===mg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function yg(n){let r=0,o=null;for(let l=n.length-1;l>=0;l--){const p=n[l];p.hostVars=r+=p.hostVars,p.hostAttrs=Jt(p.hostAttrs,o=Jt(o,p.hostAttrs))}}(l)}function Jh(n){return n===hn?{}:n===Le?[]:n}function vg(n,r){const o=n.viewQuery;n.viewQuery=o?(l,p)=>{r(l,p),o(l,p)}:r}function Kv(n,r){const o=n.contentQueries;n.contentQueries=o?(l,p,_)=>{r(l,p,_),o(l,p,_)}:r}function _g(n,r){const o=n.hostBindings;n.hostBindings=o?(l,p)=>{r(l,p),o(l,p)}:r}function dh(n){return!!ef(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ef(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pa(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function tf(n,r,o,l){const p=Wt();return pa(p,Gi(),r)&&(fr(),ju($i(),p,n,r,o,l)),tf}function gh(n,r,o,l,p,_){const O=function Ad(n,r,o,l){const p=pa(n,r,o);return pa(n,r+1,l)||p}(n,function Or(){return nr.lFrame.bindingIndex}(),o,p);return ai(2),O?r+le(o)+l+le(p)+_:ti}function sp(n,r,o,l,p,_,D,O){const L=Wt(),Y=fr(),se=n+Kn,Ce=Y.firstCreatePass?function xg(n,r,o,l,p,_,D,O,L){const Y=r.consts,se=ih(r,n,4,D||null,Di(Y,O));yu(r,o,se,Di(Y,L)),za(r,se);const Ce=se.tView=Yh(2,se,l,p,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Y);return null!==r.queries&&(r.queries.template(r,se),Ce.queries=r.queries.embeddedTView(se)),se}(se,Y,L,r,o,l,p,_,D):Y.data[se];Q(Ce,!1);const ct=L[Ne].createComment("");Da(Y,L,ct,Ce),$s(ct,L),Qh(L,L[se]=Qf(ct,L,ct,Ce)),Mi(Ce)&&tg(Y,L,Ce),null!=D&&ng(L,Ce,O)}function op(n,r,o){const l=Wt();return pa(l,Gi(),r)&&function Qa(n,r,o,l,p,_,D,O){const L=qr(r,o);let se,Y=r.inputs;!O&&null!=Y&&(se=Y[l])?(Vc(n,o,se,l,p),ts(r)&&ig(o,r.index)):3&r.type&&(l=function qh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),p=null!=D?D(p,r.value||"",l):p,_.setProperty(L,l,p))}(fr(),$i(),l,n,r,l[Ne],o,!1),op}function Mg(n,r,o,l,p){const D=p?"class":"style";Vc(n,o,r.inputs[D],D,l)}function nf(n,r,o,l){const p=Wt(),_=fr(),D=Kn+n,O=p[Ne],L=_.firstCreatePass?function Rg(n,r,o,l,p,_){const D=r.consts,L=ih(r,n,2,l,Di(D,p));return yu(r,o,L,Di(D,_)),null!==L.attrs&&Jf(L,L.attrs,!1),null!==L.mergedAttrs&&Jf(L,L.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,L),L}(D,_,p,r,o,l):_.data[D],Y=p[D]=Sc(O,r,function li(){return nr.lFrame.currentNamespace}()),se=Mi(L);return Q(L,!0),Nu(O,Y,L),32!=(32&L.flags)&&Da(_,p,Y,L),0===function ea(){return nr.lFrame.elementDepthCount}()&&$s(Y,p),function ta(){nr.lFrame.elementDepthCount++}(),se&&(tg(_,p,L),eg(_,L,p)),null!==l&&ng(p,L),nf}function xd(){let n=I();st()?en():(n=n.parent,Q(n,!1));const r=n;!function Zr(){nr.lFrame.elementDepthCount--}();const o=fr();return o.firstCreatePass&&(za(o,n),ls(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function On(n){return 0!=(8&n.flags)}(r)&&Mg(o,r,Wt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tr(n){return 0!=(16&n.flags)}(r)&&Mg(o,r,Wt(),r.stylesWithoutHost,!1),xd}function Og(n,r,o,l){return nf(n,r,o,l),xd(),Og}function Pg(n,r,o){const l=Wt(),p=fr(),_=n+Kn,D=p.firstCreatePass?function Qv(n,r,o,l,p){const _=r.consts,D=Di(_,l),O=ih(r,n,8,"ng-container",D);return null!==D&&Jf(O,D,!0),yu(r,o,O,Di(_,p)),null!==r.queries&&r.queries.elementStart(r,O),O}(_,p,l,r,o):p.data[_];Q(D,!0);const O=l[_]=l[Ne].createComment("");return Da(p,l,O,D),$s(O,l),Mi(D)&&(tg(p,l,D),eg(p,D,l)),null!=o&&ng(l,D),Pg}function Ng(){let n=I();const r=fr();return st()?en():(n=n.parent,Q(n,!1)),r.firstCreatePass&&(za(r,n),ls(n)&&r.queries.elementEnd(n)),Ng}function ap(n,r,o){return Pg(n,r,o),Ng(),ap}function lp(){return Wt()}function up(n){return!!n&&"function"==typeof n.then}function cp(n){return!!n&&"function"==typeof n.subscribe}const dp=cp;function rf(n,r,o,l){const p=Wt(),_=fr(),D=I();return function Fg(n,r,o,l,p,_,D){const O=Mi(l),Y=n.firstCreatePass&&bd(n),se=r[zr],Ce=Xf(r);let ct=!0;if(3&l.type||D){const mn=qr(l,r),Hn=D?D(mn):mn,yr=Ce.length,Br=D?Qr=>D(Dr(Qr[l.index])):l.index;let ln=null;if(!D&&O&&(ln=function kg(n,r,o,l){const p=n.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const D=p[_];if(D===o&&p[_+1]===l){const O=r[xi],L=p[_+2];return O.length>L?O[L]:null}"string"==typeof D&&(_+=2)}return null}(n,r,p,l.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=_,ln.__ngLastListenerFn__=_,ct=!1;else{_=hp(l,r,se,_,!1);const Qr=o.listen(Hn,p,_);Ce.push(_,Qr),Y&&Y.push(p,Br,yr,yr+1)}}else _=hp(l,r,se,_,!1);const Tt=l.outputs;let Qt;if(ct&&null!==Tt&&(Qt=Tt[p])){const mn=Qt.length;if(mn)for(let Hn=0;Hn<mn;Hn+=2){const Us=r[Qt[Hn]][Qt[Hn+1]].subscribe(_),Mo=Ce.length;Ce.push(_,Us),Y&&Y.push(p,l.index,Mo,-(Mo+1))}}}(_,p,p[Ne],D,n,r,l),rf}function af(n,r,o,l){try{return Xn(6,r,o),!1!==o(l)}catch(p){return fg(n,p),!1}finally{Xn(7,r,o)}}function hp(n,r,o,l,p){return function _(D){if(D===Function)return l;Xh(n.componentOffset>-1?Oi(n.index,r):r);let L=af(r,o,l,D),Y=_.__ngNextListenerFn__;for(;Y;)L=af(r,o,Y,D)&&L,Y=Y.__ngNextListenerFn__;return p&&!1===L&&(D.preventDefault(),D.returnValue=!1),L}}function fp(n=1){return function zs(n){return(nr.lFrame.contextLView=function Pl(n,r){for(;n>0;)r=r[Ye],n--;return r}(n,nr.lFrame.contextLView))[zr]}(n)}function Jm(n,r){let o=null;const l=function vm(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let p=0;p<r.length;p++){const _=r[p];if("*"!==_){if(null===l?ym(n,_,!0):_m(l,_))return p}else o=p}return o}function Md(n){const r=Wt()[dt][di];if(!r.projection){const l=r.projection=no(n?n.length:1,null),p=l.slice();let _=r.child;for(;null!==_;){const D=n?Jm(_,n):0;null!==D&&(p[D]?p[D].projectionNext=_:l[D]=_,p[D]=_),_=_.next}}}function pp(n,r=0,o){const l=Wt(),p=fr(),_=ih(p,Kn+n,16,null,o||null);null===_.projection&&(_.projection=r),en(),32!=(32&_.flags)&&function Lo(n,r,o){Al(r[Ne],0,r,o,rc(n,o,r),xc(o.parent||r[di],o,r))}(p,l,_)}function _h(n,r){return n<<17|r<<2}function mc(n){return n>>17&32767}function Eh(n){return 2|n}function ui(n){return(131068&n)>>2}function gp(n,r){return-131069&n|r<<2}function Rd(n){return 1|n}function Ug(n,r,o,l,p){const _=n[o+1],D=null===r;let O=l?mc(_):ui(_),L=!1;for(;0!==O&&(!1===L||D);){const se=n[O+1];Jv(n[O],r)&&(L=!0,n[O+1]=l?Rd(se):Eh(se)),O=l?mc(se):ui(se)}L&&(n[o+1]=l?Eh(_):Rd(_))}function Jv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_i(n,r)>=0}function zg(n,r){return function vu(n,r,o,l){const p=Wt(),_=fr(),D=ai(2);_.firstUpdatePass&&function hy(n,r,o,l){const p=n.data;if(null===p[o+1]){const _=p[os()],D=function Ih(n,r){return r>=n.expandoStartIndex}(n,o);(function Ch(n,r){return 0!=(n.flags&(r?8:16))})(_,l)&&null===r&&!D&&(r=!1),r=function Wu(n,r,o,l){const p=function xa(n){const r=nr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let _=l?r.residualClasses:r.residualStyles;if(null===p)0===(l?r.classBindings:r.styleBindings)&&(o=uf(o=wh(null,n,r,o,l),r.attrs,l),_=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==p)if(o=wh(p,n,r,o,l),null===_){let L=function yc(n,r,o){const l=o?r.classBindings:r.styleBindings;if(0!==ui(l))return n[mc(l)]}(n,r,l);void 0!==L&&Array.isArray(L)&&(L=wh(null,n,r,L[1],l),L=uf(L,r.attrs,l),function f0(n,r,o,l){n[mc(o?r.classBindings:r.styleBindings)]=l}(n,r,l,L))}else _=function Od(n,r,o){let l;const p=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<p;_++)l=uf(l,n[_].hostAttrs,o);return uf(l,r.attrs,o)}(n,r,l)}return void 0!==_&&(l?r.residualClasses=_:r.residualStyles=_),o}(p,_,r,l),function Aa(n,r,o,l,p,_){let D=_?r.classBindings:r.styleBindings,O=mc(D),L=ui(D);n[l]=o;let se,Y=!1;if(Array.isArray(o)?(se=o[1],(null===se||_i(o,se)>0)&&(Y=!0)):se=o,p)if(0!==L){const ct=mc(n[O+1]);n[l+1]=_h(ct,O),0!==ct&&(n[ct+1]=gp(n[ct+1],l)),n[O+1]=function ay(n,r){return 131071&n|r<<17}(n[O+1],l)}else n[l+1]=_h(O,0),0!==O&&(n[O+1]=gp(n[O+1],l)),O=l;else n[l+1]=_h(L,0),0===O?O=l:n[L+1]=gp(n[L+1],l),L=l;Y&&(n[l+1]=Eh(n[l+1])),Ug(n,se,l,!0),Ug(n,se,l,!1),function Hu(n,r,o,l,p){const _=p?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&_i(_,r)>=0&&(o[l+1]=Rd(o[l+1]))}(r,se,n,l,_),D=_h(O,L),_?r.classBindings=D:r.styleBindings=D}(p,_,r,o,D,l)}}(_,n,D,l),r!==ti&&pa(p,D,r)&&function cf(n,r,o,l,p,_,D,O){if(!(3&r.type))return;const L=n.data,Y=L[O+1],se=function ly(n){return 1==(1&n)}(Y)?py(L,r,o,p,ui(Y),D):void 0;Ku(se)||(Ku(_)||function oy(n){return 2==(2&n)}(Y)&&(_=py(L,null,o,p,O,D)),function Pu(n,r,o,l,p){if(r)p?n.addClass(o,l):n.removeClass(o,l);else{let _=-1===l.indexOf("-")?void 0:hs.DashCase;null==p?n.removeStyle(o,l,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=hs.Important),n.setStyle(o,l,p,_))}}(l,D,As(os(),o),p,_))}(_,_.data[os()],p,p[Ne],n,p[D+1]=function yp(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ae(g(n)))),n}(r,o),l,D)}(n,r,null,!0),zg}function wh(n,r,o,l,p){let _=null;const D=o.directiveEnd;let O=o.directiveStylingLast;for(-1===O?O=o.directiveStart:O++;O<D&&(_=r[O],l=uf(l,_.hostAttrs,p),_!==n);)O++;return null!==n&&(o.directiveStylingLast=O),l}function uf(n,r,o){const l=o?1:2;let p=-1;if(null!==r)for(let _=0;_<r.length;_++){const D=r[_];"number"==typeof D?p=D:p===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ks(n,D,!!o||r[++_]))}return void 0===n?null:n}function py(n,r,o,l,p,_){const D=null===r;let O;for(;p>0;){const L=n[p],Y=Array.isArray(L),se=Y?L[1]:L,Ce=null===se;let ct=o[p+1];ct===ti&&(ct=Ce?Le:void 0);let Tt=Ce?ca(ct,l):se===l?ct:void 0;if(Y&&!Ku(Tt)&&(Tt=ca(L,l)),Ku(Tt)&&(O=Tt,D))return O;const Qt=n[p+1];p=D?mc(Qt):ui(Qt)}if(null!==r){let L=_?r.residualClasses:r.residualStyles;null!=L&&(O=ca(L,l))}return O}function Ku(n){return void 0!==n}function Kg(n,r=""){const o=Wt(),l=fr(),p=n+Kn,_=l.firstCreatePass?ih(l,p,1,r,null):l.data[p],D=o[p]=function La(n,r){return n.createText(r)}(o[Ne],r);Da(l,o,D,_),Q(_,!1)}function df(n){return vp("",n,""),df}function vp(n,r,o){const l=Wt(),p=function Uc(n,r,o,l){return pa(n,Gi(),o)?r+le(o)+l:ti}(l,n,r,o);return p!==ti&&gc(l,os(),p),vp}function Yg(n,r,o,l,p){const _=Wt(),D=gh(_,n,r,o,l,p);return D!==ti&&gc(_,os(),D),Yg}const Kc=void 0;var Ty=["en",[["a","p"],["AM","PM"],Kc],[["AM","PM"],Kc,Kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kc,"{1} 'at' {0}",Kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dy(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Pd={};function Dp(n){const r=function c_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Ay(r);if(o)return o;const l=r.split("-")[0];if(o=Ay(l),o)return o;if("en"===l)return Ty;throw new Re(701,!1)}function _f(n){return Dp(n)[Lr.PluralCase]}function Ay(n){return n in Pd||(Pd[n]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[n]),Pd[n]}var Lr=(()=>((Lr=Lr||{})[Lr.LocaleId=0]="LocaleId",Lr[Lr.DayPeriodsFormat=1]="DayPeriodsFormat",Lr[Lr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lr[Lr.DaysFormat=3]="DaysFormat",Lr[Lr.DaysStandalone=4]="DaysStandalone",Lr[Lr.MonthsFormat=5]="MonthsFormat",Lr[Lr.MonthsStandalone=6]="MonthsStandalone",Lr[Lr.Eras=7]="Eras",Lr[Lr.FirstDayOfWeek=8]="FirstDayOfWeek",Lr[Lr.WeekendRange=9]="WeekendRange",Lr[Lr.DateFormat=10]="DateFormat",Lr[Lr.TimeFormat=11]="TimeFormat",Lr[Lr.DateTimeFormat=12]="DateTimeFormat",Lr[Lr.NumberSymbols=13]="NumberSymbols",Lr[Lr.NumberFormats=14]="NumberFormats",Lr[Lr.CurrencyCode=15]="CurrencyCode",Lr[Lr.CurrencySymbol=16]="CurrencySymbol",Lr[Lr.CurrencyName=17]="CurrencyName",Lr[Lr.Currencies=18]="Currencies",Lr[Lr.Directionality=19]="Directionality",Lr[Lr.PluralCase=20]="PluralCase",Lr[Lr.ExtraData=21]="ExtraData",Lr))();const Kl="en-US";let xy=Kl;function i(n,r,o,l,p){if(n=pe(n),Array.isArray(n))for(let _=0;_<n.length;_++)i(n[_],r,o,l,p);else{const _=fr(),D=Wt();let O=Rl(n)?n:pe(n.provide),L=Lh(n);const Y=I(),se=1048575&Y.providerIndexes,Ce=Y.directiveStart,ct=Y.providerIndexes>>20;if(Rl(n)||!n.multi){const Tt=new B(L,p,Lc),Qt=s(O,r,p?se:se+ct,Ce);-1===Qt?(la(Wa(Y,D),_,O),e(_,n,r.length),r.push(O),Y.directiveStart++,Y.directiveEnd++,p&&(Y.providerIndexes+=1048576),o.push(Tt),D.push(Tt)):(o[Qt]=Tt,D[Qt]=Tt)}else{const Tt=s(O,r,se+ct,Ce),Qt=s(O,r,se,se+ct),Hn=Qt>=0&&o[Qt];if(p&&!Hn||!p&&!(Tt>=0&&o[Tt])){la(Wa(Y,D),_,O);const yr=function R(n,r,o,l,p){const _=new B(n,o,Lc);return _.multi=[],_.index=r,_.componentProviders=0,t(_,p,l&&!o),_}(p?m:c,o.length,p,l,L);!p&&Hn&&(o[Qt].providerFactory=yr),e(_,n,r.length,0),r.push(O),Y.directiveStart++,Y.directiveEnd++,p&&(Y.providerIndexes+=1048576),o.push(yr),D.push(yr)}else e(_,n,Tt>-1?Tt:Qt,t(o[p?Qt:Tt],L,!p&&l));!p&&l&&Hn&&o[Qt].componentProviders++}}}function e(n,r,o,l){const p=Rl(r),_=function Nf(n){return!!n.useClass}(r);if(p||_){const L=(_?pe(r.useClass):r).prototype.ngOnDestroy;if(L){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const se=Y.indexOf(o);-1===se?Y.push(o,[l,L]):Y[se+1].push(l,L)}else Y.push(o,L)}}}function t(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function s(n,r,o,l){for(let p=o;p<l;p++)if(r[p]===n)return p;return-1}function c(n,r,o,l){return C(this.multi,[])}function m(n,r,o,l){const p=this.multi;let _;if(this.providerFactory){const D=this.providerFactory.componentProviders,O=gn(o,o[fn],this.providerFactory.index,l);_=O.slice(0,D),C(p,_);for(let L=D;L<O.length;L++)_.push(O[L])}else _=[],C(p,_);return _}function C(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function H(n,r=[]){return o=>{o.providersResolver=(l,p)=>function N_(n,r,o){const l=fr();if(l.firstCreatePass){const p=ji(n);i(o,l.data,l.blueprint,p,!0),i(r,l.data,l.blueprint,p,!1)}}(l,p?p(n):n,r)}}class Z{}class ue{}function He(n,r){return new Kt(n,null!=r?r:null)}class Kt extends Z{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ep(this);const l=si(r);this._bootstrapComponents=Vo(l.bootstrap),this._r3Injector=Uf(r,o,[{provide:Z,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],Ae(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class tn extends ue{constructor(r){super(),this.moduleType=r}create(r){return new Kt(this.moduleType,r)}}class Un extends Z{constructor(r,o,l){super(),this.componentFactoryResolver=new ep(this),this.instance=null;const p=new Fh([...r,{provide:Z,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],o||gd(),l,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function cr(n,r,o=null){return new Un(n,r,o).injector}let fs=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Ml(0,o.type),p=l.length>0?cr([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,p)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=xt({token:n,providedIn:"environment",factory:()=>new n(an(gl))}),n})();function Vs(n){n.getStandaloneInjector=r=>r.get(fs).getOrCreateStandaloneInjector(n)}function k_(n){return r=>{setTimeout(n,void 0,r)}}const Zc=class iI extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,l){let p=r,_=o||(()=>null),D=l;if(r&&"object"==typeof r){var O,L,Y;const Ce=r;p=null===(O=Ce.next)||void 0===O?void 0:O.bind(Ce),_=null===(L=Ce.error)||void 0===L?void 0:L.bind(Ce),D=null===(Y=Ce.complete)||void 0===Y?void 0:Y.bind(Ce)}this.__isAsync&&(_=k_(_),p&&(p=k_(p)),D&&(D=k_(D)));const se=super.subscribe({next:p,error:_,complete:D});return r instanceof te.w0&&r.add(se),se}};function sI(){return this._results[Symbol.iterator]()}class F_{get changes(){return this._changes||(this._changes=new Zc)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=F_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=sI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const l=this;l.dirty=!1;const p=function Os(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function wa(n,r,o){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let p=n[l],_=r[l];if(o&&(p=o(p),_=o(_)),_!==p)return!1}return!0}(l._results,p,o))&&(l._results=p,l.length=p.length,l.last=p[this.length-1],l.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lm=(()=>{class n{}return n.__NG_ELEMENT_ID__=lI,n})();const oI=lm,aI=class extends oI{constructor(r,o,l){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(r,o){const l=this._declarationTContainer.tView,p=zf(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,o||null);p[wt]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[nn];return null!==D&&(p[nn]=D.createEmbeddedView(l)),Id(l,p,r),new Td(p)}};function lI(){return sv(I(),Wt())}function sv(n,r){return 4&n.type?new aI(r,n,dc(n,r)):null}let ov=(()=>{class n{}return n.__NG_ELEMENT_ID__=uI,n})();function uI(){return x0(I(),Wt())}const cI=ov,S0=class extends cI{constructor(r,o,l){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=l}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const r=gr(this._hostTNode,this._hostLView);if(un(r)){const o=Ii(r,this._hostLView),l=Ct(r);return new Ko(o[fn].data[l+8],o)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=A0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-En}createEmbeddedView(r,o,l){let p,_;"number"==typeof l?p=l:null!=l&&(p=l.index,_=l.injector);const D=r.createEmbeddedView(o||{},_);return this.insert(D,p),D}createComponent(r,o,l,p,_){const D=r&&!function Yo(n){return"function"==typeof n}(r);let O;if(D)O=o;else{const Ce=o||{};O=Ce.index,l=Ce.injector,p=Ce.projectableNodes,_=Ce.environmentInjector||Ce.ngModuleRef}const L=D?r:new Sd(Zn(r)),Y=l||this.parentInjector;if(!_&&null==L.ngModule){const ct=(D?Y:this.parentInjector).get(gl,null);ct&&(_=ct)}const se=L.create(Y,p,void 0,_);return this.insert(se.hostView,O),se}insert(r,o){const l=r._lView,p=l[fn];if(function Hs(n){return vr(n[Hr])}(l)){const se=this.indexOf(r);if(-1!==se)this.detach(se);else{const Ce=l[Hr],ct=new S0(Ce,Ce[di],Ce[Hr]);ct.detach(ct.indexOf(r))}}const _=this._adjustIndex(o),D=this._lContainer;!function ad(n,r,o,l){const p=En+l,_=o.length;l>0&&(o[p-1][Jr]=r),l<_-En?(r[Jr]=o[p],ol(o,En+l,r)):(o.push(r),r[Jr]=null),r[Hr]=o;const D=r[wt];null!==D&&o!==D&&function ld(n,r){const o=n[rn];r[dt]!==r[Hr][Hr][dt]&&(n[qe]=!0),null===o?n[rn]=[r]:o.push(r)}(D,r);const O=r[nn];null!==O&&O.insertView(n),r[Qn]|=64}(p,l,D,_);const O=cu(_,D),L=l[Ne],Y=Za(L,D[mt]);return null!==Y&&function Ac(n,r,o,l,p,_){l[Mr]=p,l[di]=r,ro(n,l,o,1,p,_)}(p,D[di],L,l,Y,O),r.attachToViewContainerRef(),ol(L_(D),_,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=A0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),l=au(this._lContainer,o);l&&(To(L_(this._lContainer),o),$l(l[fn],l))}detach(r){const o=this._adjustIndex(r,-1),l=au(this._lContainer,o);return l&&null!=To(L_(this._lContainer),o)?new Td(l):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function A0(n){return n[Ut]}function L_(n){return n[Ut]||(n[Ut]=[])}function x0(n,r){let o;const l=r[n.index];if(vr(l))o=l;else{let p;if(8&n.type)p=Dr(l);else{const _=r[Ne];p=_.createComment("");const D=qr(n,r);Ba(_,Za(_,D),p,function Ru(n,r){return n.nextSibling(r)}(_,D),!1)}r[n.index]=o=Qf(l,r,p,n),Qh(r,o)}return new S0(o,n,r)}class B_{constructor(r){this.queryList=r,this.matches=null}clone(){return new B_(this.queryList)}setDirty(){this.queryList.setDirty()}}class $_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const l=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let _=0;_<l;_++){const D=o.getByIndex(_);p.push(this.queries[D.indexInDeclarationView].clone())}return new $_(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==B0(r,o).matches&&this.queries[o].setDirty()}}class M0{constructor(r,o,l=null){this.predicate=r,this.flags=o,this.read=l}}class V_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let l=0;l<this.length;l++){const p=null!==o?o.length:0,_=this.getByIndex(l).embeddedTView(r,p);_&&(_.indexInDeclarationView=l,null!==o?o.push(_):o=[_])}return null!==o?new V_(o):null}template(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class U_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new U_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let p=0;p<l.length;p++){const _=l[p];this.matchTNodeWithReadOption(r,o,dI(o,_)),this.matchTNodeWithReadOption(r,o,ci(o,r,_,!1,!1))}else l===lm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ci(o,r,l,!1,!1))}matchTNodeWithReadOption(r,o,l){if(null!==l){const p=this.metadata.read;if(null!==p)if(p===hc||p===ov||p===lm&&4&o.type)this.addMatch(o.index,-2);else{const _=ci(o,r,p,!1,!1);null!==_&&this.addMatch(o.index,_)}else this.addMatch(o.index,l)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function dI(n,r){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===r)return o[l+1];return null}function fI(n,r,o,l){return-1===o?function hI(n,r){return 11&n.type?dc(n,r):4&n.type?sv(n,r):null}(r,n):-2===o?function pI(n,r,o){return o===hc?dc(r,n):o===lm?sv(r,n):o===ov?x0(r,n):void 0}(n,r,l):gn(n,n[fn],o,r)}function R0(n,r,o,l){const p=r[nn].queries[l];if(null===p.matches){const _=n.data,D=o.matches,O=[];for(let L=0;L<D.length;L+=2){const Y=D[L];O.push(Y<0?null:fI(r,_[Y],D[L+1],o.metadata.read))}p.matches=O}return p.matches}function j_(n,r,o,l){const p=n.queries.getByIndex(o),_=p.matches;if(null!==_){const D=R0(n,r,p,o);for(let O=0;O<_.length;O+=2){const L=_[O];if(L>0)l.push(D[O/2]);else{const Y=_[O+1],se=r[-L];for(let Ce=En;Ce<se.length;Ce++){const ct=se[Ce];ct[wt]===ct[Hr]&&j_(ct[fn],ct,Y,l)}if(null!==se[rn]){const Ce=se[rn];for(let ct=0;ct<Ce.length;ct++){const Tt=Ce[ct];j_(Tt[fn],Tt,Y,l)}}}}}return l}function O0(n){const r=Wt(),o=fr(),l=Ua();Fs(l+1);const p=B0(o,l);if(n.dirty&&function Ro(n){return 4==(4&n[Qn])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const _=p.crossesNgTemplate?j_(o,r,l,[]):R0(o,r,p,l);n.reset(_,Vh),n.notifyOnChanges()}return!0}return!1}function P0(n,r,o){const l=fr();l.firstCreatePass&&(L0(l,new M0(n,r,o),-1),2==(2&r)&&(l.staticViewQueries=!0)),F0(l,Wt(),r)}function N0(n,r,o,l){const p=fr();if(p.firstCreatePass){const _=I();L0(p,new M0(r,o,l),_.index),function mI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(p,n),2==(2&o)&&(p.staticContentQueries=!0)}F0(p,Wt(),o)}function k0(){return function gI(n,r){return n[nn].queries[r].queryList}(Wt(),Ua())}function F0(n,r,o){const l=new F_(4==(4&o));oh(n,r,l,l.destroy),null===r[nn]&&(r[nn]=new $_),r[nn].queries.push(new B_(l))}function L0(n,r,o){null===n.queries&&(n.queries=new V_),n.queries.track(new U_(r,o))}function B0(n,r){return n.queries.getByIndex(r)}function H_(n){return!!si(n)}function lv(...n){}const nE=new pi("Application Initializer");let uv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=lv,this.reject=lv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,p)=>{this.resolve=l,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(up(_))o.push(_);else if(dp(_)){const D=new Promise((O,L)=>{_.subscribe({complete:O,error:L})});o.push(D)}}Promise.all(o).then(()=>{l()}).catch(p=>{this.reject(p)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(an(nE,8))},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rE=new pi("AppId",{providedIn:"root",factory:function iE(){return`${Y_()}${Y_()}${Y_()}`}});function Y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sE=new pi("Platform Initializer"),LI=new pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let BI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cv=new pi("LocaleId",{providedIn:"root",factory:()=>yn(cv,Yt.Optional|Yt.SkipSelf)||function $I(){return typeof $localize<"u"&&$localize.locale||Kl}()}),VI=new pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let jI=(()=>{class n{compileModuleSync(o){return new tn(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),_=Vo(si(o).declarations).reduce((D,O)=>{const L=Zn(O);return L&&D.push(new Sd(L)),D},[]);return new UI(l,_)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zI=(()=>Promise.resolve(0))();function q_(n){typeof Zone>"u"?zI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Yu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zc(!1),this.onMicrotaskEmpty=new Zc(!1),this.onStable=new Zc(!1),this.onError=new Zc(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!l&&o,p.shouldCoalesceRunChangeDetection=l,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function WI(){let n=Pn.requestAnimationFrame,r=Pn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function qI(n){const r=()=>{!function YI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Q_(n),n.isCheckStableRunning=!0,Z_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Q_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,p,_,D,O)=>{try{return lE(n),o.invokeTask(p,_,D,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),uE(n)}},onInvoke:(o,l,p,_,D,O,L)=>{try{return lE(n),o.invoke(p,_,D,O,L)}finally{n.shouldCoalesceRunChangeDetection&&r(),uE(n)}},onHasTask:(o,l,p,_)=>{o.hasTask(p,_),l===p&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,Q_(n),Z_(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(o,l,p,_)=>(o.handleError(p,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yu.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(Yu.isInAngularZone())throw new Re(909,!1)}run(r,o,l){return this._inner.run(r,o,l)}runTask(r,o,l,p){const _=this._inner,D=_.scheduleEventTask("NgZoneEvent: "+p,r,KI,lv,lv);try{return _.runTask(D,o,l)}finally{_.cancelTask(D)}}runGuarded(r,o,l){return this._inner.runGuarded(r,o,l)}runOutsideAngular(r){return this._outer.run(r)}}const KI={};function Z_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Q_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uE(n){n._nesting--,Z_(n)}class ZI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zc,this.onMicrotaskEmpty=new Zc,this.onStable=new Zc,this.onError=new Zc}run(r,o,l){return r.apply(o,l)}runGuarded(r,o,l){return r.apply(o,l)}runOutsideAngular(r){return r()}runTask(r,o,l,p){return r.apply(o,l)}}const cE=new pi(""),dE=new pi("");let X_,QI=(()=>{class n{constructor(o,l,p){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,X_||(function XI(n){X_=n}(p),p.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yu.assertNotInAngularZone(),q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,p){let _=-1;l&&l>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:_,updateCb:p})}whenStable(o,l,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,p){return[]}}return n.\u0275fac=function(o){return new(o||n)(an(Yu),an(hE),an(dE))},n.\u0275prov=xt({token:n,factory:n.\u0275fac}),n})(),hE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var p,_;return null!==(p=null===(_=X_)||void 0===_?void 0:_.findTestabilityInTree(this,o,l))&&void 0!==p?p:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Bd=!1;let xh=null;const fE=new pi("AllowMultipleToken"),J_=new pi("PlatformDestroyListeners"),pE=new pi("appBootstrapListener");class tw{constructor(r,o){this.name=r,this.token=o}}function mE(n,r,o=[]){const l=`Platform: ${r}`,p=new pi(l);return(_=[])=>{let D=e0();if(!D||D.injector.get(fE,!1)){const O=[...o,..._,{provide:p,useValue:!0}];n?n(O):function nw(n){if(xh&&!xh.get(fE,!1))throw new Re(400,!1);xh=n;const r=n.get(vE);(function gE(n){const r=n.get(sE,null);r&&r.forEach(o=>o())})(n)}(function yE(n=[],r){return mu.create({name:r,providers:[{provide:fd,useValue:"platform"},{provide:J_,useValue:new Set([()=>xh=null])},...n]})}(O,l))}return function iw(n){const r=e0();if(!r)throw new Re(401,!1);return r}()}}function e0(){var n,r;return null!==(n=null===(r=xh)||void 0===r?void 0:r.get(vE))&&void 0!==n?n:null}let vE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const p=function EE(n,r){let o;return o="noop"===n?new ZI:("zone.js"===n?void 0:n)||new Yu(r),o}(null==l?void 0:l.ngZone,function _E(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),_=[{provide:Yu,useValue:p}];return p.run(()=>{const D=mu.create({providers:_,parent:this.injector,name:o.moduleType.name}),O=o.create(D),L=O.injector.get($e,null);if(!L)throw new Re(402,!1);return p.runOutsideAngular(()=>{const Y=p.onError.subscribe({next:se=>{L.handleError(se)}});O.onDestroy(()=>{hv(this._modules,O),Y.unsubscribe()})}),function IE(n,r,o){try{const l=o();return up(l)?l.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(L,p,()=>{const Y=O.injector.get(uv);return Y.runInitializers(),Y.donePromise.then(()=>(function _c(n){Je(n,"Expected localeId to be defined"),"string"==typeof n&&(xy=n.toLowerCase().replace(/_/g,"-"))}(O.injector.get(cv,Kl)||Kl),this._moduleDoBootstrap(O),O))})})}bootstrapModule(o,l=[]){const p=wE({},l);return function JI(n,r,o){const l=new tn(o);return Promise.resolve(l)}(0,0,o).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(o){const l=o.injector.get(dv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>l.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new Re(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(J_,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(an(mu))},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function wE(n,r){return Array.isArray(r)?r.reduce(wE,n):{...n,...r}}let dv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,p){this._zone=o,this._injector=l,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new z.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),D=new z.y(O=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Yu.assertNotInAngularZone(),q_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{L.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,Se.T)(_,D.pipe((0,Me.B)()))}bootstrap(o,l){const p=o instanceof pu;if(!this._injector.get(uv).done){!p&&mi(o);throw new Re(405,Bd)}let D;D=p?o:this._injector.get(cc).resolveComponentFactory(o),this.componentTypes.push(D.componentType);const O=function ew(n){return n.isBoundToModule}(D)?void 0:this._injector.get(Z),Y=D.create(mu.NULL,[],l||D.selector,O),se=Y.location.nativeElement,Ce=Y.injector.get(cE,null);return null==Ce||Ce.registerApplication(se),Y.onDestroy(()=>{this.detachView(Y.hostView),hv(this.components,Y),null==Ce||Ce.unregisterApplication(se)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;hv(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(pE,[]);l.push(...this._bootstrapListeners),l.forEach(p=>p(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>hv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(an(Yu),an(gl),an($e))},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hv(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}function ow(){return!1}function aw(){}let lw=(()=>{class n{}return n.__NG_ELEMENT_ID__=uw,n})();function uw(n){return function cw(n,r,o){if(ts(n)&&!o){const l=Oi(n.index,r);return new Td(l,l)}return 47&n.type?new Td(r[dt],r):null}(I(),Wt(),16==(16&n))}class SE{constructor(){}supports(r){return dh(r)}create(r){return new mw(r)}}const gw=(n,r)=>r;class mw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,l=this._removalsHead,p=0,_=null;for(;o||l;){const D=!l||o&&o.currentIndex<xE(l,p,_)?o:l,O=xE(D,p,_),L=D.currentIndex;if(D===l)p--,l=l._nextRemoved;else if(o=o._next,null==D.previousIndex)p++;else{_||(_=[]);const Y=O-p,se=L-p;if(Y!=se){for(let ct=0;ct<Y;ct++){const Tt=ct<_.length?_[ct]:_[ct]=0,Qt=Tt+ct;se<=Qt&&Qt<Y&&(_[ct]=Tt+1)}_[D.previousIndex]=se-Y}}O!==L&&r(D,O,L)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!dh(r))throw new Re(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,_,D,o=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let O=0;O<this.length;O++)_=r[O],D=this._trackByFn(O,_),null!==o&&Object.is(o.trackById,D)?(l&&(o=this._verifyReinsertion(o,_,D,O)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,D,O),l=!0),o=o._next}else p=0,function bg(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let l;for(;!(l=o.next()).done;)r(l.value)}}(r,O=>{D=this._trackByFn(p,O),null!==o&&Object.is(o.trackById,D)?(l&&(o=this._verifyReinsertion(o,O,D,p)),Object.is(o.item,O)||this._addIdentityChange(o,O)):(o=this._mismatch(o,O,D,p),l=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,l,p){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,_,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,_,p)):r=this._addAfter(new yw(o,l),_,p),r}_verifyReinsertion(r,o,l,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==_?r=this._reinsertAfter(_,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,_=r._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(r,o,l),this._addToMoves(r,l),r}_moveAfter(r,o,l){return this._unlink(r),this._insertAfter(r,o,l),this._addToMoves(r,l),r}_addAfter(r,o,l){return this._insertAfter(r,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,l){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new AE),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,l=r._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class yw{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const o=r._prevDup,l=r._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class AE{constructor(){this.map=new Map}put(r){const o=r.trackById;let l=this.map.get(o);l||(l=new vw,this.map.set(o,l)),l.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xE(n,r,o){const l=n.previousIndex;if(null===l)return l;let p=0;return o&&l<o.length&&(p=o[l]),l+r+p}class ME{constructor(){}supports(r){return r instanceof Map||ef(r)}create(){return new _w}}class _w{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||ef(r)))throw new Re(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const _=this._getOrCreateRecordForKey(p,l);o=this._insertBeforeOrAppend(o,_)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const l=r._prev;return o._next=r,o._prev=l,r._prev=o,l&&(l._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const _=p._prev,D=p._next;return _&&(_._next=D),D&&(D._prev=_),p._next=null,p._prev=null,p}const l=new Ew(r);return this._records.set(r,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(l=>o(r[l],l))}}class Ew{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RE(){return new o0([new SE])}let o0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const p=l.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||RE()),deps:[[n,new In,new sn]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(null!=l)return l;throw new Re(901,!1)}}return n.\u0275prov=xt({token:n,providedIn:"root",factory:RE}),n})();function OE(){return new a0([new ME])}let a0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const p=l.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||OE()),deps:[[n,new In,new sn]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new Re(901,!1)}}return n.\u0275prov=xt({token:n,providedIn:"root",factory:OE}),n})();const Cw=mE(null,"core",[]);let bw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(an(dv))},n.\u0275mod=fi({type:n}),n.\u0275inj=dn({}),n})();function Dw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(cn,gt,$)=>{"use strict";$.d(gt,{u5:()=>Wt,JU:()=>lt,a5:()=>dr,JJ:()=>qn,On:()=>sr});var a=$(4650),te=$(6895),z=$(8996),Se=$(9751),Me=$(4742),Te=$(8421),de=$(7669),Ae=$(5403),Ve=$(3268),ge=$(1810),pe=$(4004);let ke=(()=>{class j{constructor(I,y){this._renderer=I,this._elementRef=y,this.onChange=P=>{},this.onTouched=()=>{}}setProperty(I,y){this._renderer.setProperty(this._elementRef.nativeElement,I,y)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return j.\u0275fac=function(I){return new(I||j)(a.Y36(a.Qsj),a.Y36(a.SBq))},j.\u0275dir=a.lG2({type:j}),j})(),Ue=(()=>{class j extends ke{}return j.\u0275fac=function(){let f;return function(y){return(f||(f=a.n5z(j)))(y||j)}}(),j.\u0275dir=a.lG2({type:j,features:[a.qOj]}),j})();const lt=new a.OlP("NgValueAccessor"),_e={provide:lt,useExisting:(0,a.Gpc)(()=>ot),multi:!0},at=new a.OlP("CompositionEventMode");let ot=(()=>{class j extends ke{constructor(I,y,P){super(I,y),this._compositionMode=P,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function le(){const j=(0,te.q)()?(0,te.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(I){this.setProperty("value",null==I?"":I)}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return j.\u0275fac=function(I){return new(I||j)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(at,8))},j.\u0275dir=a.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,y){1&I&&a.NdJ("input",function(Q){return y._handleInput(Q.target.value)})("blur",function(){return y.onTouched()})("compositionstart",function(){return y._compositionStart()})("compositionend",function(Q){return y._compositionEnd(Q.target.value)})},features:[a._Bn([_e]),a.qOj]}),j})();const et=!1,Oe=new a.OlP("NgValidators"),J=new a.OlP("NgAsyncValidators");function Je(j){return null!=j}function W(j){const f=(0,a.QGY)(j)?(0,z.D)(j):j;if(et&&!(0,a.CqO)(f)){let I="Expected async validator to return Promise or Observable.";throw"object"==typeof j&&(I+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,I)}return f}function nt(j){let f={};return j.forEach(I=>{f=null!=I?{...f,...I}:f}),0===Object.keys(f).length?null:f}function ze(j,f){return f.map(I=>I(j))}function xt(j){return j.map(f=>function Nt(j){return!j.validate}(f)?f:I=>f.validate(I))}function dn(j){return null!=j?function Pt(j){if(!j)return null;const f=j.filter(Je);return 0==f.length?null:function(I){return nt(ze(I,f))}}(xt(j)):null}function Tn(j){return null!=j?function Rt(j){if(!j)return null;const f=j.filter(Je);return 0==f.length?null:function(I){return function fe(...j){const f=(0,de.jO)(j),{args:I,keys:y}=(0,Me.D)(j),P=new Se.y(Q=>{const{length:st}=I;if(!st)return void Q.complete();const en=new Array(st);let _n=st,Gn=st;for(let Rr=0;Rr<st;Rr++){let Wn=!1;(0,Te.Xf)(I[Rr]).subscribe((0,Ae.x)(Q,Or=>{Wn||(Wn=!0,Gn--),en[Rr]=Or},()=>_n--,void 0,()=>{(!_n||!Wn)&&(Gn||Q.next(y?(0,ge.n)(y,en):en),Q.complete())}))}});return f?P.pipe((0,Ve.Z)(f)):P}(ze(I,f).map(W)).pipe((0,pe.U)(nt))}}(xt(j)):null}function Sn(j,f){return null===j?[f]:Array.isArray(j)?[...j,f]:[j,f]}function ar(j){return j?Array.isArray(j)?j:[j]:[]}function wr(j,f){return Array.isArray(j)?j.includes(f):j===f}function Sr(j,f){const I=ar(f);return ar(j).forEach(P=>{wr(I,P)||I.push(P)}),I}function Cn(j,f){return ar(f).filter(I=>!wr(j,I))}class lr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(f){this._rawValidators=f||[],this._composedValidatorFn=dn(this._rawValidators)}_setAsyncValidators(f){this._rawAsyncValidators=f||[],this._composedAsyncValidatorFn=Tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(f){this._onDestroyCallbacks.push(f)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(f=>f()),this._onDestroyCallbacks=[]}reset(f){this.control&&this.control.reset(f)}hasError(f,I){return!!this.control&&this.control.hasError(f,I)}getError(f,I){return this.control?this.control.getError(f,I):null}}class Yt extends lr{get formDirective(){return null}get path(){return null}}class dr extends lr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pr{constructor(f){this._cd=f}get isTouched(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.touched)}get isUntouched(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.untouched)}get isPristine(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.pristine)}get isDirty(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.dirty)}get isValid(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.valid)}get isInvalid(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.invalid)}get isPending(){var f,I;return!(null===(f=this._cd)||void 0===f||null===(I=f.control)||void 0===I||!I.pending)}get isSubmitted(){var f;return!(null===(f=this._cd)||void 0===f||!f.submitted)}}let qn=(()=>{class j extends Pr{constructor(I){super(I)}}return j.\u0275fac=function(I){return new(I||j)(a.Y36(dr,2))},j.\u0275dir=a.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,y){2&I&&a.ekj("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)},features:[a.qOj]}),j})();const Rn="VALID",Vr="INVALID",xe="PENDING",Ie="DISABLED";function Le(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}class vt{constructor(f,I){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(f),this._assignAsyncValidators(I)}get validator(){return this._composedValidatorFn}set validator(f){this._rawValidators=this._composedValidatorFn=f}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(f){this._rawAsyncValidators=this._composedAsyncValidatorFn=f}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===Vr}get pending(){return this.status==xe}get disabled(){return this.status===Ie}get enabled(){return this.status!==Ie}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(f){this._assignValidators(f)}setAsyncValidators(f){this._assignAsyncValidators(f)}addValidators(f){this.setValidators(Sr(f,this._rawValidators))}addAsyncValidators(f){this.setAsyncValidators(Sr(f,this._rawAsyncValidators))}removeValidators(f){this.setValidators(Cn(f,this._rawValidators))}removeAsyncValidators(f){this.setAsyncValidators(Cn(f,this._rawAsyncValidators))}hasValidator(f){return wr(this._rawValidators,f)}hasAsyncValidator(f){return wr(this._rawAsyncValidators,f)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(f={}){this.touched=!0,this._parent&&!f.onlySelf&&this._parent.markAsTouched(f)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(f=>f.markAllAsTouched())}markAsUntouched(f={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(I=>{I.markAsUntouched({onlySelf:!0})}),this._parent&&!f.onlySelf&&this._parent._updateTouched(f)}markAsDirty(f={}){this.pristine=!1,this._parent&&!f.onlySelf&&this._parent.markAsDirty(f)}markAsPristine(f={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(I=>{I.markAsPristine({onlySelf:!0})}),this._parent&&!f.onlySelf&&this._parent._updatePristine(f)}markAsPending(f={}){this.status=xe,!1!==f.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!f.onlySelf&&this._parent.markAsPending(f)}disable(f={}){const I=this._parentMarkedDirty(f.onlySelf);this.status=Ie,this.errors=null,this._forEachChild(y=>{y.disable({...f,onlySelf:!0})}),this._updateValue(),!1!==f.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...f,skipPristineCheck:I}),this._onDisabledChange.forEach(y=>y(!0))}enable(f={}){const I=this._parentMarkedDirty(f.onlySelf);this.status=Rn,this._forEachChild(y=>{y.enable({...f,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:f.emitEvent}),this._updateAncestors({...f,skipPristineCheck:I}),this._onDisabledChange.forEach(y=>y(!1))}_updateAncestors(f){this._parent&&!f.onlySelf&&(this._parent.updateValueAndValidity(f),f.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(f){this._parent=f}getRawValue(){return this.value}updateValueAndValidity(f={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rn||this.status===xe)&&this._runAsyncValidator(f.emitEvent)),!1!==f.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!f.onlySelf&&this._parent.updateValueAndValidity(f)}_updateTreeValidity(f={emitEvent:!0}){this._forEachChild(I=>I._updateTreeValidity(f)),this.updateValueAndValidity({onlySelf:!0,emitEvent:f.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ie:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(f){if(this.asyncValidator){this.status=xe,this._hasOwnPendingAsyncValidator=!0;const I=W(this.asyncValidator(this));this._asyncValidationSubscription=I.subscribe(y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(y,{emitEvent:f})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(f,I={}){this.errors=f,this._updateControlsErrors(!1!==I.emitEvent)}get(f){let I=f;return null==I||(Array.isArray(I)||(I=I.split(".")),0===I.length)?null:I.reduce((y,P)=>y&&y._find(P),this)}getError(f,I){const y=I?this.get(I):this;return y&&y.errors?y.errors[f]:null}hasError(f,I){return!!this.getError(f,I)}get root(){let f=this;for(;f._parent;)f=f._parent;return f}_updateControlsErrors(f){this.status=this._calculateStatus(),f&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(f)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ie:this.errors?Vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xe)?xe:this._anyControlsHaveStatus(Vr)?Vr:Rn}_anyControlsHaveStatus(f){return this._anyControls(I=>I.status===f)}_anyControlsDirty(){return this._anyControls(f=>f.dirty)}_anyControlsTouched(){return this._anyControls(f=>f.touched)}_updatePristine(f={}){this.pristine=!this._anyControlsDirty(),this._parent&&!f.onlySelf&&this._parent._updatePristine(f)}_updateTouched(f={}){this.touched=this._anyControlsTouched(),this._parent&&!f.onlySelf&&this._parent._updateTouched(f)}_registerOnCollectionChange(f){this._onCollectionChange=f}_setUpdateStrategy(f){Le(f)&&null!=f.updateOn&&(this._updateOn=f.updateOn)}_parentMarkedDirty(f){return!f&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(f){return null}_assignValidators(f){this._rawValidators=Array.isArray(f)?f.slice():f,this._composedValidatorFn=function Mt(j){return Array.isArray(j)?dn(j):j||null}(this._rawValidators)}_assignAsyncValidators(f){this._rawAsyncValidators=Array.isArray(f)?f.slice():f,this._composedAsyncValidatorFn=function hn(j){return Array.isArray(j)?Tn(j):j||null}(this._rawAsyncValidators)}}const Ci=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ki}),ki="always";function fi(j,f,I=ki){var y,P;(function Yi(j,f){const I=function Fn(j){return j._rawValidators}(j);null!==f.validator?j.setValidators(Sn(I,f.validator)):"function"==typeof I&&j.setValidators([I]);const y=function on(j){return j._rawAsyncValidators}(j);null!==f.asyncValidator?j.setAsyncValidators(Sn(y,f.asyncValidator)):"function"==typeof y&&j.setAsyncValidators([y]);const P=()=>j.updateValueAndValidity();xr(f._rawValidators,P),xr(f._rawAsyncValidators,P)})(j,f),f.valueAccessor.writeValue(j.value),(j.disabled||"always"===I)&&(null===(y=(P=f.valueAccessor).setDisabledState)||void 0===y||y.call(P,j.disabled)),function Xr(j,f){f.valueAccessor.registerOnChange(I=>{j._pendingValue=I,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&mi(j,f)})}(j,f),function si(j,f){const I=(y,P)=>{f.valueAccessor.writeValue(y),P&&f.viewToModelUpdate(y)};j.registerOnChange(I),f._registerOnDestroy(()=>{j._unregisterOnChange(I)})}(j,f),function Nr(j,f){f.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&mi(j,f),"submit"!==j.updateOn&&j.markAsTouched()})}(j,f),function is(j,f){if(f.valueAccessor.setDisabledState){const I=y=>{f.valueAccessor.setDisabledState(y)};j.registerOnDisabledChange(I),f._registerOnDestroy(()=>{j._unregisterOnDisabledChange(I)})}}(j,f)}function xr(j,f){j.forEach(I=>{I.registerOnValidatorChange&&I.registerOnValidatorChange(f)})}function mi(j,f){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),f.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function dt(j,f){const I=j.indexOf(f);I>-1&&j.splice(I,1)}function wt(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const Ft=class extends vt{constructor(f=null,I,y){super(function We(j){return(Le(j)?j.validators:j)||null}(I),function yt(j,f){return(Le(f)?f.asyncValidators:j)||null}(y,I)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(f),this._setUpdateStrategy(I),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(I)&&(I.nonNullable||I.initialValueIsDefault)&&(this.defaultValue=wt(f)?f.value:f)}setValue(f,I={}){this.value=this._pendingValue=f,this._onChange.length&&!1!==I.emitModelToViewChange&&this._onChange.forEach(y=>y(this.value,!1!==I.emitViewToModelChange)),this.updateValueAndValidity(I)}patchValue(f,I={}){this.setValue(f,I)}reset(f=this.defaultValue,I={}){this._applyFormState(f),this.markAsPristine(I),this.markAsUntouched(I),this.setValue(this.value,I),this._pendingChange=!1}_updateValue(){}_anyControls(f){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(f){this._onChange.push(f)}_unregisterOnChange(f){dt(this._onChange,f)}registerOnDisabledChange(f){this._onDisabledChange.push(f)}_unregisterOnDisabledChange(f){dt(this._onDisabledChange,f)}_forEachChild(f){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(f){wt(f)?(this.value=this._pendingValue=f.value,f.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=f}},rn={provide:dr,useExisting:(0,a.Gpc)(()=>sr)},En=(()=>Promise.resolve())();let sr=(()=>{class j extends dr{constructor(I,y,P,Q,st,en){super(),this._changeDetectorRef=st,this.callSetDisabledState=en,this.control=new Ft,this._registered=!1,this.update=new a.vpe,this._parent=I,this._setValidators(y),this._setAsyncValidators(P),this.valueAccessor=function he(j,f){if(!f)return null;let I,y,P;return Array.isArray(f),f.forEach(Q=>{Q.constructor===ot?I=Q:function zr(j){return Object.getPrototypeOf(j.constructor)===Ue}(Q)?y=Q:P=Q}),P||y||I||null}(0,Q)}ngOnChanges(I){if(this._checkForErrors(),!this._registered||"name"in I){if(this._registered&&(this._checkName(),this.formDirective)){const y=I.name.previousValue;this.formDirective.removeControl({name:y,path:this._getPath(y)})}this._setUpControl()}"isDisabled"in I&&this._updateDisabled(I),function xi(j,f){if(!j.hasOwnProperty("model"))return!1;const I=j.model;return!!I.isFirstChange()||!Object.is(f,I.currentValue)}(I,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(I){En.then(()=>{var y;this.control.setValue(I,{emitViewToModelChange:!1}),null===(y=this._changeDetectorRef)||void 0===y||y.markForCheck()})}_updateDisabled(I){const y=I.isDisabled.currentValue,P=0!==y&&(0,a.D6c)(y);En.then(()=>{var Q;P&&!this.control.disabled?this.control.disable():!P&&this.control.disabled&&this.control.enable(),null===(Q=this._changeDetectorRef)||void 0===Q||Q.markForCheck()})}_getPath(I){return this._parent?function Ki(j,f){return[...f.path,j]}(I,this._parent):[I]}}return j.\u0275fac=function(I){return new(I||j)(a.Y36(Yt,9),a.Y36(Oe,10),a.Y36(J,10),a.Y36(lt,10),a.Y36(a.sBO,8),a.Y36(Ci,8))},j.\u0275dir=a.lG2({type:j,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([rn]),a.qOj,a.TTD]}),j})(),ji=(()=>{class j{}return j.\u0275fac=function(I){return new(I||j)},j.\u0275mod=a.oAB({type:j}),j.\u0275inj=a.cJS({}),j})(),nr=(()=>{class j{}return j.\u0275fac=function(I){return new(I||j)},j.\u0275mod=a.oAB({type:j}),j.\u0275inj=a.cJS({imports:[ji]}),j})(),Wt=(()=>{class j{static withConfig(I){var y;return{ngModule:j,providers:[{provide:Ci,useValue:null!==(y=I.callSetDisabledState)&&void 0!==y?y:ki}]}}}return j.\u0275fac=function(I){return new(I||j)},j.\u0275mod=a.oAB({type:j}),j.\u0275inj=a.cJS({imports:[nr]}),j})()},1481:(cn,gt,$)=>{"use strict";$.d(gt,{Dx:()=>Pn,b2:()=>dr,q6:()=>Sr});var a=$(6895),te=$(4650);class z extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends z{static makeCurrent(){(0,a.HT)(new Se)}onAndCancel(Be,me,vt){return Be.addEventListener(me,vt,!1),()=>{Be.removeEventListener(me,vt,!1)}}dispatchEvent(Be,me){Be.dispatchEvent(me)}remove(Be){Be.parentNode&&Be.parentNode.removeChild(Be)}createElement(Be,me){return(me=me||this.getDefaultDocument()).createElement(Be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Be){return Be.nodeType===Node.ELEMENT_NODE}isShadowRoot(Be){return Be instanceof DocumentFragment}getGlobalEventTarget(Be,me){return"window"===me?window:"document"===me?Be:"body"===me?Be.body:null}getBaseHref(Be){const me=function Te(){return Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null}();return null==me?null:function Ae(Le){de=de||document.createElement("a"),de.setAttribute("href",Le);const Be=de.pathname;return"/"===Be.charAt(0)?Be:`/${Be}`}(me)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(Be){return(0,a.Mx)(document.cookie,Be)}}let de,Me=null;const Ve=new te.OlP("TRANSITION_ID"),fe=[{provide:te.ip1,useFactory:function ge(Le,Be,me){return()=>{me.get(te.CZH).donePromise.then(()=>{const vt=(0,a.q)(),Ot=Be.querySelectorAll(`style[ng-transition="${Le}"]`);for(let Ht=0;Ht<Ot.length;Ht++)vt.remove(Ot[Ht])})}},deps:[Ve,a.K0,te.zs3],multi:!0}];let ke=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(me){return new(me||Le)},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ue=new te.OlP("EventManagerPlugins");let lt=(()=>{class Le{constructor(me,vt){this._zone=vt,this._eventNameToPlugin=new Map,me.forEach(Ot=>{Ot.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,vt,Ot){return this._findPluginFor(vt).addEventListener(me,vt,Ot)}addGlobalEventListener(me,vt,Ot){return this._findPluginFor(vt).addGlobalEventListener(me,vt,Ot)}getZone(){return this._zone}_findPluginFor(me){const vt=this._eventNameToPlugin.get(me);if(vt)return vt;const Ot=this._plugins;for(let Ht=0;Ht<Ot.length;Ht++){const xn=Ot[Ht];if(xn.supports(me))return this._eventNameToPlugin.set(me,xn),xn}throw new Error(`No event manager plugin found for event ${me}`)}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(Ue),te.LFG(te.R0b))},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class St{constructor(Be){this._doc=Be}addGlobalEventListener(Be,me,vt){const Ot=(0,a.q)().getGlobalEventTarget(this._doc,Be);if(!Ot)throw new Error(`Unsupported event target ${Ot} for event ${me}`);return this.addEventListener(Ot,me,vt)}}let Re=(()=>{class Le{constructor(){this.usageCount=new Map}addStyles(me){for(const vt of me)1===this.changeUsageCount(vt,1)&&this.onStyleAdded(vt)}removeStyles(me){for(const vt of me)0===this.changeUsageCount(vt,-1)&&this.onStyleRemoved(vt)}onStyleRemoved(me){}onStyleAdded(me){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(me,vt){var Ot;const Ht=this.usageCount;let xn=null!==(Ot=Ht.get(me))&&void 0!==Ot?Ot:0;return xn+=vt,xn>0?Ht.set(me,xn):Ht.delete(me),xn}ngOnDestroy(){for(const me of this.getAllStyles())this.onStyleRemoved(me);this.usageCount.clear()}}return Le.\u0275fac=function(me){return new(me||Le)},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),_e=(()=>{class Le extends Re{constructor(me){super(),this.doc=me,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(me){for(const vt of this.hostNodes)this.addStyleToHost(vt,me)}onStyleRemoved(me){const vt=this.styleRef,Ot=vt.get(me);null==Ot||Ot.forEach(Ht=>Ht.remove()),vt.delete(me)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(me){this.hostNodes.add(me);for(const vt of this.getAllStyles())this.addStyleToHost(me,vt)}removeHost(me){this.hostNodes.delete(me)}addStyleToHost(me,vt){const Ot=this.doc.createElement("style");Ot.textContent=vt,me.appendChild(Ot);const Ht=this.styleRef.get(vt);Ht?Ht.push(Ot):this.styleRef.set(vt,[Ot])}resetHostNodes(){const me=this.hostNodes;me.clear(),me.add(this.doc.head)}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(a.K0))},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g,J=new te.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ge(Le,Be){return Be.flat(100).map(me=>me.replace(at,Le))}function Ke(Le){return Be=>{if("__ngUnwrap__"===Be)return Le;!1===Le(Be)&&(Be.preventDefault(),Be.returnValue=!1)}}let it=(()=>{class Le{constructor(me,vt,Ot,Ht){this.eventManager=me,this.sharedStylesHost=vt,this.appId=Ot,this.removeStylesOnCompDestory=Ht,this.rendererByCompId=new Map,this.defaultRenderer=new je(me)}createRenderer(me,vt){if(!me||!vt)return this.defaultRenderer;const Ot=this.getOrCreateRenderer(me,vt);return Ot instanceof Je?Ot.applyToHost(me):Ot instanceof be&&Ot.applyStyles(),Ot}getOrCreateRenderer(me,vt){const Ot=this.rendererByCompId;let Ht=Ot.get(vt.id);if(!Ht){const xn=this.eventManager,zn=this.sharedStylesHost,pr=this.removeStylesOnCompDestory;switch(vt.encapsulation){case te.ifc.Emulated:Ht=new Je(xn,zn,vt,this.appId,pr);break;case te.ifc.ShadowDom:return new Ee(xn,zn,me,vt);default:Ht=new be(xn,zn,vt,pr)}Ht.onDestroy=()=>Ot.delete(vt.id),Ot.set(vt.id,Ht)}return Ht}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(lt),te.LFG(_e),te.LFG(te.AFp),te.LFG(J))},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class je{constructor(Be){this.eventManager=Be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Be,me){return me?document.createElementNS(le[me]||me,Be):document.createElement(Be)}createComment(Be){return document.createComment(Be)}createText(Be){return document.createTextNode(Be)}appendChild(Be,me){(we(Be)?Be.content:Be).appendChild(me)}insertBefore(Be,me,vt){Be&&(we(Be)?Be.content:Be).insertBefore(me,vt)}removeChild(Be,me){Be&&Be.removeChild(me)}selectRootElement(Be,me){let vt="string"==typeof Be?document.querySelector(Be):Be;if(!vt)throw new Error(`The selector "${Be}" did not match any elements`);return me||(vt.textContent=""),vt}parentNode(Be){return Be.parentNode}nextSibling(Be){return Be.nextSibling}setAttribute(Be,me,vt,Ot){if(Ot){me=Ot+":"+me;const Ht=le[Ot];Ht?Be.setAttributeNS(Ht,me,vt):Be.setAttribute(me,vt)}else Be.setAttribute(me,vt)}removeAttribute(Be,me,vt){if(vt){const Ot=le[vt];Ot?Be.removeAttributeNS(Ot,me):Be.removeAttribute(`${vt}:${me}`)}else Be.removeAttribute(me)}addClass(Be,me){Be.classList.add(me)}removeClass(Be,me){Be.classList.remove(me)}setStyle(Be,me,vt,Ot){Ot&(te.JOm.DashCase|te.JOm.Important)?Be.style.setProperty(me,vt,Ot&te.JOm.Important?"important":""):Be.style[me]=vt}removeStyle(Be,me,vt){vt&te.JOm.DashCase?Be.style.removeProperty(me):Be.style[me]=""}setProperty(Be,me,vt){Be[me]=vt}setValue(Be,me){Be.nodeValue=me}listen(Be,me,vt){return"string"==typeof Be?this.eventManager.addGlobalEventListener(Be,me,Ke(vt)):this.eventManager.addEventListener(Be,me,Ke(vt))}}function we(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class Ee extends je{constructor(Be,me,vt,Ot){super(Be),this.sharedStylesHost=me,this.hostEl=vt,this.shadowRoot=vt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ht=Ge(Ot.id,Ot.styles);for(const xn of Ht){const zn=document.createElement("style");zn.textContent=xn,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(Be){return Be===this.hostEl?this.shadowRoot:Be}appendChild(Be,me){return super.appendChild(this.nodeOrShadowRoot(Be),me)}insertBefore(Be,me,vt){return super.insertBefore(this.nodeOrShadowRoot(Be),me,vt)}removeChild(Be,me){return super.removeChild(this.nodeOrShadowRoot(Be),me)}parentNode(Be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Be)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class be extends je{constructor(Be,me,vt,Ot,Ht=vt.id){super(Be),this.sharedStylesHost=me,this.removeStylesOnCompDestory=Ot,this.rendererUsageCount=0,this.styles=Ge(Ht,vt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var Be;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(Be=this.onDestroy)||void 0===Be||Be.call(this))}}class Je extends be{constructor(Be,me,vt,Ot,Ht){const xn=Ot+"-"+vt.id;super(Be,me,vt,Ht,xn),this.contentAttr=function Xe(Le){return"_ngcontent-%COMP%".replace(at,Le)}(xn),this.hostAttr=function Fe(Le){return"_nghost-%COMP%".replace(at,Le)}(xn)}applyToHost(Be){this.applyStyles(),this.setAttribute(Be,this.hostAttr,"")}createElement(Be,me){const vt=super.createElement(Be,me);return super.setAttribute(vt,this.contentAttr,""),vt}}let W=(()=>{class Le extends St{constructor(me){super(me)}supports(me){return!0}addEventListener(me,vt,Ot){return me.addEventListener(vt,Ot,!1),()=>this.removeEventListener(me,vt,Ot)}removeEventListener(me,vt,Ot){return me.removeEventListener(vt,Ot)}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(a.K0))},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const nt=["alt","control","meta","shift"],ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nt={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let xt=(()=>{class Le extends St{constructor(me){super(me)}supports(me){return null!=Le.parseEventName(me)}addEventListener(me,vt,Ot){const Ht=Le.parseEventName(vt),xn=Le.eventCallback(Ht.fullKey,Ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(me,Ht.domEventName,xn))}static parseEventName(me){const vt=me.toLowerCase().split("."),Ot=vt.shift();if(0===vt.length||"keydown"!==Ot&&"keyup"!==Ot)return null;const Ht=Le._normalizeKey(vt.pop());let xn="",zn=vt.indexOf("code");if(zn>-1&&(vt.splice(zn,1),xn="code."),nt.forEach(Ci=>{const ki=vt.indexOf(Ci);ki>-1&&(vt.splice(ki,1),xn+=Ci+".")}),xn+=Ht,0!=vt.length||0===Ht.length)return null;const pr={};return pr.domEventName=Ot,pr.fullKey=xn,pr}static matchEventFullKeyCode(me,vt){let Ot=ze[me.key]||me.key,Ht="";return vt.indexOf("code.")>-1&&(Ot=me.code,Ht="code."),!(null==Ot||!Ot)&&(Ot=Ot.toLowerCase()," "===Ot?Ot="space":"."===Ot&&(Ot="dot"),nt.forEach(xn=>{xn!==Ot&&(0,Nt[xn])(me)&&(Ht+=xn+".")}),Ht+=Ot,Ht===vt)}static eventCallback(me,vt,Ot){return Ht=>{Le.matchEventFullKeyCode(Ht,me)&&Ot.runGuarded(()=>vt(Ht))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(a.K0))},Le.\u0275prov=te.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Sr=(0,te.eFA)(te._c5,"browser",[{provide:te.Lbi,useValue:a.bD},{provide:te.g9A,useValue:function Fn(){Se.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function ar(){return(0,te.RDi)(document),document},deps:[]}]),Cn=new te.OlP(""),lr=[{provide:te.rWj,useClass:class pe{addToWindow(Be){te.dqk.getAngularTestability=(vt,Ot=!0)=>{const Ht=Be.findTestabilityInTree(vt,Ot);if(null==Ht)throw new Error("Could not find testability for element.");return Ht},te.dqk.getAllAngularTestabilities=()=>Be.getAllTestabilities(),te.dqk.getAllAngularRootElements=()=>Be.getAllRootElements(),te.dqk.frameworkStabilizers||(te.dqk.frameworkStabilizers=[]),te.dqk.frameworkStabilizers.push(vt=>{const Ot=te.dqk.getAllAngularTestabilities();let Ht=Ot.length,xn=!1;const zn=function(pr){xn=xn||pr,Ht--,0==Ht&&vt(xn)};Ot.forEach(function(pr){pr.whenStable(zn)})})}findTestabilityInTree(Be,me,vt){if(null==me)return null;const Ot=Be.getTestability(me);return null!=Ot?Ot:vt?(0,a.q)().isShadowRoot(me)?this.findTestabilityInTree(Be,me.host,!0):this.findTestabilityInTree(Be,me.parentElement,!0):null}},deps:[]},{provide:te.lri,useClass:te.dDg,deps:[te.R0b,te.eoX,te.rWj]},{provide:te.dDg,useClass:te.dDg,deps:[te.R0b,te.eoX,te.rWj]}],Yt=[{provide:te.zSh,useValue:"root"},{provide:te.qLn,useFactory:function on(){return new te.qLn},deps:[]},{provide:Ue,useClass:W,multi:!0,deps:[a.K0,te.R0b,te.Lbi]},{provide:Ue,useClass:xt,multi:!0,deps:[a.K0]},{provide:it,useClass:it,deps:[lt,_e,te.AFp,J]},{provide:te.FYo,useExisting:it},{provide:Re,useExisting:_e},{provide:_e,useClass:_e,deps:[a.K0]},{provide:lt,useClass:lt,deps:[Ue,te.R0b]},{provide:a.JF,useClass:ke,deps:[]},[]];let dr=(()=>{class Le{constructor(me){}static withServerTransition(me){return{ngModule:Le,providers:[{provide:te.AFp,useValue:me.appId},{provide:Ve,useExisting:te.AFp},fe]}}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(Cn,12))},Le.\u0275mod=te.oAB({type:Le}),Le.\u0275inj=te.cJS({providers:[...Yt,...lr],imports:[a.ez,te.hGG]}),Le})(),Pn=(()=>{class Le{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return Le.\u0275fac=function(me){return new(me||Le)(te.LFG(a.K0))},Le.\u0275prov=te.Yz7({token:Le,factory:function(me){let vt=null;return vt=me?new me:function qn(){return new Pn((0,te.LFG)(a.K0))}(),vt},providedIn:"root"}),Le})();typeof window<"u"&&window},2435:(cn,gt,$)=>{"use strict";$.d(gt,{gz:()=>gs,y6:()=>Ts,OD:()=>Ft,eC:()=>on,wm:()=>Zl,wN:()=>rl,F0:()=>Wi,rH:()=>Ko,Bz:()=>Il,Hx:()=>Nn});var a=$(4650),te=$(8996),z=$(9646),Se=$(1135),Me=$(6805),Te=$(9751),de=$(4742),Ae=$(4671),Ve=$(3268),ge=$(7669),fe=$(1810),pe=$(5403),ke=$(9672);function Ue(...T){const x=(0,ge.yG)(T),w=(0,ge.jO)(T),{args:M,keys:V}=(0,de.D)(T);if(0===M.length)return(0,te.D)([],x);const X=new Te.y(function lt(T,x,w=Ae.y){return M=>{St(x,()=>{const{length:V}=T,X=new Array(V);let oe=V,Ze=V;for(let At=0;At<V;At++)St(x,()=>{const sn=(0,te.D)(T[At],x);let Mn=!1;sn.subscribe((0,pe.x)(M,In=>{X[At]=In,Mn||(Mn=!0,Ze--),Ze||M.next(w(X.slice()))},()=>{--oe||M.complete()}))},M)},M)}}(M,x,V?oe=>(0,fe.n)(V,oe):Ae.y));return w?X.pipe((0,Ve.Z)(w)):X}function St(T,x,w){T?(0,ke.f)(w,T,x):x()}var Re=$(7272),_e=$(8421);function le(T){return new Te.y(x=>{(0,_e.Xf)(T()).subscribe(x)})}var at=$(9635),ot=$(576);function et(T,x){const w=(0,ot.m)(T)?T:()=>T,M=V=>V.error(w());return new Te.y(x?V=>x.schedule(M,0,V):M)}var Qe=$(515),Pe=$(727),Oe=$(4482);function J(){return(0,Oe.e)((T,x)=>{let w=null;T._refCount++;const M=(0,pe.x)(x,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(w=null);const V=T._connection,X=w;w=null,V&&(!X||V===X)&&V.unsubscribe(),x.unsubscribe()});T.subscribe(M),M.closed||(w=T.connect())})}class Xe extends Te.y{constructor(x,w){super(),this.source=x,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Oe.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Pe.w0;const w=this.getSubject();x.add(this.source.subscribe((0,pe.x)(w,void 0,()=>{this._teardown(),w.complete()},M=>{this._teardown(),w.error(M)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Pe.w0.EMPTY)}return x}refCount(){return J()(this)}}var Fe=$(7579),Ge=$(6895),Ke=$(4004),it=$(3900),je=$(5698),pt=$(8675),tt=$(9300),we=$(5577),Ee=$(590);function be(T,x){return(0,ot.m)(x)?(0,we.z)(T,x,1):(0,we.z)(T,1)}var Je=$(8505);function W(T){return(0,Oe.e)((x,w)=>{let X,M=null,V=!1;M=x.subscribe((0,pe.x)(w,void 0,void 0,oe=>{X=(0,_e.Xf)(T(oe,W(T)(x))),M?(M.unsubscribe(),M=null,X.subscribe(w)):V=!0})),V&&(M.unsubscribe(),M=null,X.subscribe(w))})}var nt=$(5026);function ze(T){return T<=0?()=>Qe.E:(0,Oe.e)((x,w)=>{let M=[];x.subscribe((0,pe.x)(w,V=>{M.push(V),T<M.length&&M.shift()},()=>{for(const V of M)w.next(V);w.complete()},void 0,()=>{M=null}))})}var Nt=$(8068),xt=$(6590);function Pt(T,x){const w=arguments.length>=2;return M=>M.pipe(T?(0,tt.h)((V,X)=>T(V,X,M)):Ae.y,ze(1),w?(0,xt.d)(x):(0,Nt.T)(()=>new Me.K))}function Tn(T){return(0,Oe.e)((x,w)=>{try{x.subscribe(w)}finally{w.add(T)}})}var Sn=$(8189),Fn=$(1481);const on="primary",ar=Symbol("RouteTitle");class wr{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const w=this.params[x];return Array.isArray(w)?w[0]:w}return null}getAll(x){if(this.has(x)){const w=this.params[x];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Sr(T){return new wr(T)}function Cn(T,x,w){const M=w.path.split("/");if(M.length>T.length||"full"===w.pathMatch&&(x.hasChildren()||M.length<T.length))return null;const V={};for(let X=0;X<M.length;X++){const oe=M[X],Ze=T[X];if(oe.startsWith(":"))V[oe.substring(1)]=Ze;else if(oe!==Ze.path)return null}return{consumed:T.slice(0,M.length),posParams:V}}function Yt(T,x){const w=T?Object.keys(T):void 0,M=x?Object.keys(x):void 0;if(!w||!M||w.length!=M.length)return!1;let V;for(let X=0;X<w.length;X++)if(V=w[X],!dr(T[V],x[V]))return!1;return!0}function dr(T,x){if(Array.isArray(T)&&Array.isArray(x)){if(T.length!==x.length)return!1;const w=[...T].sort(),M=[...x].sort();return w.every((V,X)=>M[X]===V)}return T===x}function Pr(T){return Array.prototype.concat.apply([],T)}function $r(T){return T.length>0?T[T.length-1]:null}function qn(T,x){for(const w in T)T.hasOwnProperty(w)&&x(T[w],w)}function Pn(T){return(0,a.CqO)(T)?T:(0,a.QGY)(T)?(0,te.D)(Promise.resolve(T)):(0,z.of)(T)}const vn=!1,bn={exact:function Gt(T,x,w){if(!$t(T.segments,x.segments)||!_r(T.segments,x.segments,w)||T.numberOfChildren!==x.numberOfChildren)return!1;for(const M in x.children)if(!T.children[M]||!Gt(T.children[M],x.children[M],w))return!1;return!0},subset:Ni},ri={exact:function Ar(T,x){return Yt(T,x)},subset:function ii(T,x){return Object.keys(x).length<=Object.keys(T).length&&Object.keys(x).every(w=>dr(T[w],x[w]))},ignored:()=>!0};function pn(T,x,w){return bn[w.paths](T.root,x.root,w.matrixParams)&&ri[w.queryParams](T.queryParams,x.queryParams)&&!("exact"===w.fragment&&T.fragment!==x.fragment)}function Ni(T,x,w){return Cr(T,x,x.segments,w)}function Cr(T,x,w,M){if(T.segments.length>w.length){const V=T.segments.slice(0,w.length);return!(!$t(V,w)||x.hasChildren()||!_r(V,w,M))}if(T.segments.length===w.length){if(!$t(T.segments,w)||!_r(T.segments,w,M))return!1;for(const V in x.children)if(!T.children[V]||!Ni(T.children[V],x.children[V],M))return!1;return!0}{const V=w.slice(0,T.segments.length),X=w.slice(T.segments.length);return!!($t(T.segments,V)&&_r(T.segments,V,M)&&T.children[on])&&Cr(T.children[on],x,X,M)}}function _r(T,x,w){return x.every((M,V)=>ri[w](T[V].parameters,M.parameters))}class ir{constructor(x=new jn([],{}),w={},M=null){this.root=x,this.queryParams=w,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sr(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class jn{constructor(x,w){this.segments=x,this.children=w,this.parent=null,qn(w,(M,V)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class hi{constructor(x,w){this.path=x,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Sr(this.parameters)),this._parameterMap}toString(){return Be(this)}}function $t(T,x){return T.length===x.length&&T.every((w,M)=>w.path===x[M].path)}let Nn=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return new Ln},providedIn:"root"}),T})();class Ln{parse(x){const w=new ki(x);return new ir(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(x){const w=`/${xe(x.root,!0)}`,M=function vt(T){const x=Object.keys(T).map(w=>{const M=T[w];return Array.isArray(M)?M.map(V=>`${We(w)}=${We(V)}`).join("&"):`${We(w)}=${We(M)}`}).filter(w=>!!w);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${w}${M}${"string"==typeof x.fragment?`#${function Mt(T){return encodeURI(T)}(x.fragment)}`:""}`}}const Rn=new Ln;function Vr(T){return T.segments.map(x=>Be(x)).join("/")}function xe(T,x){if(!T.hasChildren())return Vr(T);if(x){const w=T.children[on]?xe(T.children[on],!1):"",M=[];return qn(T.children,(V,X)=>{X!==on&&M.push(`${X}:${xe(V,!1)}`)}),M.length>0?`${w}(${M.join("//")})`:w}{const w=function yn(T,x){let w=[];return qn(T.children,(M,V)=>{V===on&&(w=w.concat(x(M,V)))}),qn(T.children,(M,V)=>{V!==on&&(w=w.concat(x(M,V)))}),w}(T,(M,V)=>V===on?[xe(T.children[on],!1)]:[`${V}:${xe(M,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[on]?`${Vr(T)}/${w[0]}`:`${Vr(T)}/(${w.join("//")})`}}function Ie(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function We(T){return Ie(T).replace(/%3B/gi,";")}function yt(T){return Ie(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(T){return decodeURIComponent(T)}function Le(T){return hn(T.replace(/\+/g,"%20"))}function Be(T){return`${yt(T.path)}${function me(T){return Object.keys(T).map(x=>`;${yt(x)}=${yt(T[x])}`).join("")}(T.parameters)}`}const Ot=/^[^\/()?;=#]+/;function Ht(T){const x=T.match(Ot);return x?x[0]:""}const xn=/^[^=?&#]+/,pr=/^[^&#]+/;class ki{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(x.length>0||Object.keys(w).length>0)&&(M[on]=new jn(x,w)),M}parseSegment(){const x=Ht(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new a.vHH(4009,vn);return this.capture(x),new hi(hn(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const w=Ht(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const V=Ht(this.remaining);V&&(M=V,this.capture(M))}x[hn(w)]=hn(M)}parseQueryParam(x){const w=function zn(T){const x=T.match(xn);return x?x[0]:""}(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const oe=function Ci(T){const x=T.match(pr);return x?x[0]:""}(this.remaining);oe&&(M=oe,this.capture(M))}const V=Le(w),X=Le(M);if(x.hasOwnProperty(V)){let oe=x[V];Array.isArray(oe)||(oe=[oe],x[V]=oe),oe.push(X)}else x[V]=X}parseParens(x){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Ht(this.remaining),V=this.remaining[M.length];if("/"!==V&&")"!==V&&";"!==V)throw new a.vHH(4010,vn);let X;M.indexOf(":")>-1?(X=M.slice(0,M.indexOf(":")),this.capture(X),this.capture(":")):x&&(X=on);const oe=this.parseChildren();w[X]=1===Object.keys(oe).length?oe[on]:new jn([],oe),this.consumeOptional("//")}return w}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new a.vHH(4011,vn)}}function Ki(T){return T.segments.length>0?new jn([],{[on]:T}):T}function fi(T){const x={};for(const M of Object.keys(T.children)){const X=fi(T.children[M]);(X.segments.length>0||X.hasChildren())&&(x[M]=X)}return function Ei(T){if(1===T.numberOfChildren&&T.children[on]){const x=T.children[on];return new jn(T.segments.concat(x.segments),x.children)}return T}(new jn(T.segments,x))}function xr(T){return T instanceof ir}const is=!1;function Nr(T,x,w,M,V){var X;if(0===w.length)return Mr(x.root,x.root,x.root,M,V);const oe=function Hr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Qn(!0,0,T);let x=0,w=!1;const M=T.reduce((V,X,oe)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Ze={};return qn(X.outlets,(At,sn)=>{Ze[sn]="string"==typeof At?At.split("/"):At}),[...V,{outlets:Ze}]}if(X.segmentPath)return[...V,X.segmentPath]}return"string"!=typeof X?[...V,X]:0===oe?(X.split("/").forEach((Ze,At)=>{0==At&&"."===Ze||(0==At&&""===Ze?w=!0:".."===Ze?x++:""!=Ze&&V.push(Ze))}),V):[...V,X]},[]);return new Qn(w,x,M)}(w);return oe.toRoot()?Mr(x.root,x.root,new jn([],{}),M,V):function Ze(sn){var Mn;const In=function di(T,x,w,M){if(T.isAbsolute)return new Jr(x.root,!0,0);if(-1===M)return new Jr(w,w===x.root,0);return function xi(T,x,w){let M=T,V=x,X=w;for(;X>V;){if(X-=V,M=M.parent,!M)throw new a.vHH(4005,is&&"Invalid number of '../'");V=M.segments.length}return new Jr(M,!1,V-X)}(w,M+(mi(T.commands[0])?0:1),T.numberOfDoubleDots)}(oe,x,null===(Mn=T.snapshot)||void 0===Mn?void 0:Mn._urlSegment,sn),F=In.processChildren?he(In.segmentGroup,In.index,oe.commands):ne(In.segmentGroup,In.index,oe.commands);return Mr(x.root,In.segmentGroup,F,M,V)}(null===(X=T.snapshot)||void 0===X?void 0:X._lastPathIndex)}function mi(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function si(T){return"object"==typeof T&&null!=T&&T.outlets}function Mr(T,x,w,M,V){let oe,X={};M&&qn(M,(At,sn)=>{X[sn]=Array.isArray(At)?At.map(Mn=>`${Mn}`):`${At}`}),oe=T===x?w:fn(T,x,w);const Ze=Ki(fi(oe));return new ir(Ze,X,V)}function fn(T,x,w){const M={};return qn(T.children,(V,X)=>{M[X]=V===x?w:fn(V,x,w)}),new jn(T.segments,M)}class Qn{constructor(x,w,M){if(this.isAbsolute=x,this.numberOfDoubleDots=w,this.commands=M,x&&M.length>0&&mi(M[0]))throw new a.vHH(4003,is&&"Root segment cannot have matrix parameters");const V=M.find(si);if(V&&V!==$r(M))throw new a.vHH(4004,is&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jr{constructor(x,w,M){this.segmentGroup=x,this.processChildren=w,this.index=M}}function ne(T,x,w){if(T||(T=new jn([],{})),0===T.segments.length&&T.hasChildren())return he(T,x,w);const M=function Ne(T,x,w){let M=0,V=x;const X={match:!1,pathIndex:0,commandIndex:0};for(;V<T.segments.length;){if(M>=w.length)return X;const oe=T.segments[V],Ze=w[M];if(si(Ze))break;const At=`${Ze}`,sn=M<w.length-1?w[M+1]:null;if(V>0&&void 0===At)break;if(At&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!Ye(At,sn,oe))return X;M+=2}else{if(!Ye(At,{},oe))return X;M++}V++}return{match:!0,pathIndex:V,commandIndex:M}}(T,x,w),V=w.slice(M.commandIndex);if(M.match&&M.pathIndex<T.segments.length){const X=new jn(T.segments.slice(0,M.pathIndex),{});return X.children[on]=new jn(T.segments.slice(M.pathIndex),T.children),he(X,0,V)}return M.match&&0===V.length?new jn(T.segments,{}):M.match&&!T.hasChildren()?ut(T,x,w):M.match?he(T,0,V):ut(T,x,w)}function he(T,x,w){if(0===w.length)return new jn(T.segments,{});{const M=function zr(T){return si(T[0])?T[0].outlets:{[on]:T}}(w),V={};return!M[on]&&T.children[on]&&1===T.numberOfChildren&&0===T.children[on].segments.length?he(T.children[on],x,w):(qn(M,(X,oe)=>{"string"==typeof X&&(X=[X]),null!==X&&(V[oe]=ne(T.children[oe],x,X))}),qn(T.children,(X,oe)=>{void 0===M[oe]&&(V[oe]=X)}),new jn(T.segments,V))}}function ut(T,x,w){const M=T.segments.slice(0,x);let V=0;for(;V<w.length;){const X=w[V];if(si(X)){const At=bt(X.outlets);return new jn(M,At)}if(0===V&&mi(w[0])){M.push(new hi(T.segments[x].path,ce(w[0]))),V++;continue}const oe=si(X)?X.outlets[on]:`${X}`,Ze=V<w.length-1?w[V+1]:null;oe&&Ze&&mi(Ze)?(M.push(new hi(oe,ce(Ze))),V+=2):(M.push(new hi(oe,{})),V++)}return new jn(M,{})}function bt(T){const x={};return qn(T,(w,M)=>{"string"==typeof w&&(w=[w]),null!==w&&(x[M]=ut(new jn([],{}),0,w))}),x}function ce(T){const x={};return qn(T,(w,M)=>x[M]=`${w}`),x}function Ye(T,x,w){return T==w.path&&Yt(x,w.parameters)}const dt="imperative";class wt{constructor(x,w){this.id=x,this.url=w}}class Ft extends wt{constructor(x,w,M="imperative",V=null){super(x,w),this.type=0,this.navigationTrigger=M,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nn extends wt{constructor(x,w,M){super(x,w),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dn extends wt{constructor(x,w,M,V){super(x,w),this.reason=M,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bn extends wt{constructor(x,w,M,V){super(x,w),this.reason=M,this.code=V,this.type=16}}class Kn extends wt{constructor(x,w,M,V){super(x,w),this.error=M,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yi extends wt{constructor(x,w,M,V){super(x,w),this.urlAfterRedirects=M,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends wt{constructor(x,w,M,V){super(x,w),this.urlAfterRedirects=M,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends wt{constructor(x,w,M,V,X){super(x,w),this.urlAfterRedirects=M,this.state=V,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mt extends wt{constructor(x,w,M,V){super(x,w),this.urlAfterRedirects=M,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends wt{constructor(x,w,M,V){super(x,w),this.urlAfterRedirects=M,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rn{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class En{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sr{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(x,w,M){this.routerEvent=x,this.position=w,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ho=(()=>{class T{createUrlTree(w,M,V,X,oe,Ze){return Nr(w||M.root,V,X,oe,Ze)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})(),Qs=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(x){return Ho.\u0275fac(x)},providedIn:"root"}),T})();class Ur{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const w=this.pathFromRoot(x);return w.length>1?w[w.length-2]:null}children(x){const w=Fr(x,this._root);return w?w.children.map(M=>M.value):[]}firstChild(x){const w=Fr(x,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(x){const w=or(x,this._root);return w.length<2?[]:w[w.length-2].children.map(V=>V.value).filter(V=>V!==x)}pathFromRoot(x){return or(x,this._root).map(w=>w.value)}}function Fr(T,x){if(T===x.value)return x;for(const w of x.children){const M=Fr(T,w);if(M)return M}return null}function or(T,x){if(T===x.value)return[x];for(const w of x.children){const M=or(T,w);if(M.length)return M.unshift(x),M}return[]}class bi{constructor(x,w){this.value=x,this.children=w}toString(){return`TreeNode(${this.value})`}}function br(T){const x={};return T&&T.children.forEach(w=>x[w.value.outlet]=w),x}class Xs extends Ur{constructor(x,w){super(x),this.snapshot=w,js(this,x)}toString(){return this.snapshot.toString()}}function Go(T,x){const w=function ps(T,x){const oe=new oi([],{},{},"",{},on,x,null,T.root,-1,{});return new ga("",new bi(oe,[]))}(T,x),M=new Se.X([new hi("",{})]),V=new Se.X({}),X=new Se.X({}),oe=new Se.X({}),Ze=new Se.X(""),At=new gs(M,V,oe,Ze,X,on,x,w.root);return At.snapshot=w.root,new Xs(new bi(At,[]),w)}class gs{constructor(x,w,M,V,X,oe,Ze,At){var sn,Mn;this.url=x,this.params=w,this.queryParams=M,this.fragment=V,this.data=X,this.outlet=oe,this.component=Ze,this.title=null!==(sn=null===(Mn=this.data)||void 0===Mn?void 0:Mn.pipe((0,Ke.U)(In=>In[ar])))&&void 0!==sn?sn:(0,z.of)(void 0),this._futureSnapshot=At}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(x=>Sr(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(x=>Sr(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(T,x="emptyOnly"){const w=T.pathFromRoot;let M=0;if("always"!==x)for(M=w.length-1;M>=1;){const V=w[M],X=w[M-1];if(V.routeConfig&&""===V.routeConfig.path)M--;else{if(X.component)break;M--}}return function hr(T){return T.reduce((x,w)=>{var M;return{params:{...x.params,...w.params},data:{...x.data,...w.data},resolve:{...w.data,...x.resolve,...null===(M=w.routeConfig)||void 0===M?void 0:M.data,...w._resolvedData}}},{params:{},data:{},resolve:{}})}(w.slice(M))}class oi{get title(){var x;return null===(x=this.data)||void 0===x?void 0:x[ar]}constructor(x,w,M,V,X,oe,Ze,At,sn,Mn,In){this.url=x,this.params=w,this.queryParams=M,this.fragment=V,this.data=X,this.outlet=oe,this.component=Ze,this.routeConfig=At,this._urlSegment=sn,this._lastPathIndex=Mn,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ga extends Ur{constructor(x,w){super(w),this.url=x,js(this,w)}toString(){return Hi(this._root)}}function js(T,x){x.value._routerState=T,x.children.forEach(w=>js(T,w))}function Hi(T){const x=T.children.length>0?` { ${T.children.map(Hi).join(", ")} } `:"";return`${T.value}${x}`}function Ri(T){if(T.snapshot){const x=T.snapshot,w=T._futureSnapshot;T.snapshot=w,Yt(x.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),x.fragment!==w.fragment&&T.fragment.next(w.fragment),Yt(x.params,w.params)||T.params.next(w.params),function lr(T,x){if(T.length!==x.length)return!1;for(let w=0;w<T.length;++w)if(!Yt(T[w],x[w]))return!1;return!0}(x.url,w.url)||T.url.next(w.url),Yt(x.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function us(T,x){const w=Yt(T.params,x.params)&&function an(T,x){return $t(T,x)&&T.every((w,M)=>Yt(w.parameters,x[M].parameters))}(T.url,x.url);return w&&!(!T.parent!=!x.parent)&&(!T.parent||us(T.parent,x.parent))}function ns(T,x,w){if(w&&T.shouldReuseRoute(x.value,w.value.snapshot)){const M=w.value;M._futureSnapshot=x.value;const V=function Cs(T,x,w){return x.children.map(M=>{for(const V of w.children)if(T.shouldReuseRoute(M.value,V.value.snapshot))return ns(T,M,V);return ns(T,M)})}(T,x,w);return new bi(M,V)}{if(T.shouldAttach(x.value)){const X=T.retrieve(x.value);if(null!==X){const oe=X.route;return oe.value._futureSnapshot=x.value,oe.children=x.children.map(Ze=>ns(T,Ze)),oe}}const M=function Wr(T){return new gs(new Se.X(T.url),new Se.X(T.params),new Se.X(T.queryParams),new Se.X(T.fragment),new Se.X(T.data),T.outlet,T.component,T)}(x.value),V=x.children.map(X=>ns(T,X));return new bi(M,V)}}const Fi="ngNavigationCancelingError";function Js(T,x){const{redirectTo:w,navigationBehaviorOptions:M}=xr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,V=bs(!1,0,x);return V.url=w,V.navigationBehaviorOptions=M,V}function bs(T,x,w){const M=new Error("NavigationCancelingError: "+(T||""));return M[Fi]=!0,M.cancellationCode=x,w&&(M.url=w),M}function so(T){return cs(T)&&xr(T.url)}function cs(T){return T&&T[Fi]}class Ds{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ts,this.attachRef=null}}let Ts=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(w,M){const V=this.getOrCreateContext(w);V.outlet=M,this.contexts.set(w,V)}onChildOutletDestroyed(w){const M=this.getContext(w);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let M=this.getContext(w);return M||(M=new Ds,this.contexts.set(w,M)),M}getContext(w){return this.contexts.get(w)||null}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Ss=!1;let Xn=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=on,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Ts),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(w){if(w.name){const{firstChange:M,previousValue:V}=w.name;if(M)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){var M;return(null===(M=this.parentContexts.getContext(w))||void 0===M?void 0:M.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Ss);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Ss);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Ss);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,M){this.activated=w,this._activatedRoute=M,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,M){if(this.isActivated)throw new a.vHH(4013,Ss);this._activatedRoute=w;const V=this.location,oe=w.snapshot.component,Ze=this.parentContexts.getOrCreateContext(this.name).children,At=new ss(w,Ze,V.injector);if(M&&function ms(T){return!!T.resolveComponentFactory}(M)){const sn=M.resolveComponentFactory(oe);this.activated=V.createComponent(sn,V.length,At)}else this.activated=V.createComponent(oe,{index:V.length,injector:At,environmentInjector:null!=M?M:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275dir=a.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),T})();class ss{constructor(x,w,M){this.route=x,this.childContexts=w,this.parent=M}get(x,w){return x===gs?this.route:x===Ts?this.childContexts:this.parent.get(x,w)}}let Dr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(w,M){1&w&&a._UZ(0,"router-outlet")},dependencies:[Xn],encapsulation:2}),T})();function qi(T,x){var w;return T.providers&&!T._injector&&(T._injector=(0,a.MMx)(T.providers,x,`Route: ${T.path}`)),null!==(w=T._injector)&&void 0!==w?w:x}function Hs(T){const x=T.children&&T.children.map(Hs),w=x?{...T,children:x}:{...T};return!w.component&&!w.loadComponent&&(x||w.loadChildren)&&w.outlet&&w.outlet!==on&&(w.component=Dr),w}function Di(T){return T.outlet||on}function Oo(T,x){const w=T.filter(M=>Di(M)===x);return w.push(...T.filter(M=>Di(M)!==x)),w}function ds(T){var x;if(!T)return null;if(null!==(x=T.routeConfig)&&void 0!==x&&x._injector)return T.routeConfig._injector;for(let w=T.parent;w;w=w.parent){const M=w.routeConfig;if(null!=M&&M._loadedInjector)return M._loadedInjector;if(null!=M&&M._injector)return M._injector}return null}class zo{constructor(x,w,M,V){this.routeReuseStrategy=x,this.futureState=w,this.currState=M,this.forwardEvent=V}activate(x){const w=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,M,x),Ri(this.futureState.root),this.activateChildRoutes(w,M,x)}deactivateChildRoutes(x,w,M){const V=br(w);x.children.forEach(X=>{const oe=X.value.outlet;this.deactivateRoutes(X,V[oe],M),delete V[oe]}),qn(V,(X,oe)=>{this.deactivateRouteAndItsChildren(X,M)})}deactivateRoutes(x,w,M){const V=x.value,X=w?w.value:null;if(V===X)if(V.component){const oe=M.getContext(V.outlet);oe&&this.deactivateChildRoutes(x,w,oe.children)}else this.deactivateChildRoutes(x,w,M);else X&&this.deactivateRouteAndItsChildren(w,M)}deactivateRouteAndItsChildren(x,w){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,w):this.deactivateRouteAndOutlet(x,w)}detachAndStoreRouteSubtree(x,w){const M=w.getContext(x.value.outlet),V=M&&x.value.component?M.children:w,X=br(x);for(const oe of Object.keys(X))this.deactivateRouteAndItsChildren(X[oe],V);if(M&&M.outlet){const oe=M.outlet.detach(),Ze=M.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:oe,route:x,contexts:Ze})}}deactivateRouteAndOutlet(x,w){const M=w.getContext(x.value.outlet),V=M&&x.value.component?M.children:w,X=br(x);for(const oe of Object.keys(X))this.deactivateRouteAndItsChildren(X[oe],V);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(x,w,M){const V=br(w);x.children.forEach(X=>{this.activateRoutes(X,V[X.value.outlet],M),this.forwardEvent(new ls(X.value.snapshot))}),x.children.length&&this.forwardEvent(new kr(x.value.snapshot))}activateRoutes(x,w,M){const V=x.value,X=w?w.value:null;if(Ri(V),V===X)if(V.component){const Ze=M.getOrCreateContext(V.outlet);this.activateChildRoutes(x,w,Ze.children)}else this.activateChildRoutes(x,w,M);else if(V.component){const Ze=M.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const At=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),Ze.children.onOutletReAttached(At.contexts),Ze.attachRef=At.componentRef,Ze.route=At.route.value,Ze.outlet&&Ze.outlet.attach(At.componentRef,At.route.value),Ri(At.route.value),this.activateChildRoutes(x,null,Ze.children)}else{var oe;const At=ds(V.snapshot),sn=null!==(oe=null==At?void 0:At.get(a._Vd))&&void 0!==oe?oe:null;Ze.attachRef=null,Ze.route=V,Ze.resolver=sn,Ze.injector=At,Ze.outlet&&Ze.outlet.activateWith(V,Ze.injector),this.activateChildRoutes(x,null,Ze.children)}}else this.activateChildRoutes(x,null,M)}}class $a{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class ea{constructor(x,w){this.component=x,this.route=w}}function ta(T,x,w){const M=T._root;return ao(M,x?x._root:null,w,[M.value])}function Gs(T,x){const w=Symbol(),M=x.get(T,w);return M===w?"function"!=typeof T||(0,a.Z0I)(T)?x.get(T):T:M}function ao(T,x,w,M,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=br(x);return T.children.forEach(oe=>{(function Po(T,x,w,M,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=T.value,oe=x?x.value:null,Ze=w?w.getContext(T.value.outlet):null;if(oe&&X.routeConfig===oe.routeConfig){const At=function Wt(T,x,w){if("function"==typeof w)return w(T,x);switch(w){case"pathParamsChange":return!$t(T.url,x.url);case"pathParamsOrQueryParamsChange":return!$t(T.url,x.url)||!Yt(T.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!us(T,x)||!Yt(T.queryParams,x.queryParams);default:return!us(T,x)}}(oe,X,X.routeConfig.runGuardsAndResolvers);At?V.canActivateChecks.push(new $a(M)):(X.data=oe.data,X._resolvedData=oe._resolvedData),ao(T,x,X.component?Ze?Ze.children:null:w,M,V),At&&Ze&&Ze.outlet&&Ze.outlet.isActivated&&V.canDeactivateChecks.push(new ea(Ze.outlet.component,oe))}else oe&&fr(x,Ze,V),V.canActivateChecks.push(new $a(M)),ao(T,null,X.component?Ze?Ze.children:null:w,M,V)})(oe,X[oe.value.outlet],w,M.concat([oe.value]),V),delete X[oe.value.outlet]}),qn(X,(oe,Ze)=>fr(oe,w.getContext(Ze),V)),V}function fr(T,x,w){const M=br(T),V=T.value;qn(M,(X,oe)=>{fr(X,V.component?x?x.children.getContext(oe):null:x,w)}),w.canDeactivateChecks.push(new ea(V.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,V))}function j(T){return"function"==typeof T}function Gn(T){return T instanceof Me.K||"EmptyError"===(null==T?void 0:T.name)}const Rr=Symbol("INITIAL_VALUE");function Wn(){return(0,it.w)(T=>Ue(T.map(x=>x.pipe((0,je.q)(1),(0,pt.O)(Rr)))).pipe((0,Ke.U)(x=>{for(const w of x)if(!0!==w){if(w===Rr)return Rr;if(!1===w||w instanceof ir)return w}return!0}),(0,tt.h)(x=>x!==Rr),(0,je.q)(1)))}function xa(T){return(0,at.z)((0,Je.b)(x=>{if(xr(x))throw Js(0,x)}),(0,Ke.U)(x=>!0===x))}const Fs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ja(T,x,w,M,V){const X=Ha(T,x,w);return X.matched?function Ua(T,x,w,M){const V=x.canMatch;if(!V||0===V.length)return(0,z.of)(!0);const X=V.map(oe=>{const Ze=Gs(oe,T);return Pn(function st(T){return T&&j(T.canMatch)}(Ze)?Ze.canMatch(x,w):T.runInContext(()=>Ze(x,w)))});return(0,z.of)(X).pipe(Wn(),xa())}(M=qi(x,M),x,w).pipe((0,Ke.U)(oe=>!0===oe?X:{...Fs})):(0,z.of)(X)}function Ha(T,x,w){var M;if(""===x.path)return"full"===x.pathMatch&&(T.hasChildren()||w.length>0)?{...Fs}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const X=(x.matcher||Cn)(w,T,x);if(!X)return{...Fs};const oe={};qn(X.posParams,(At,sn)=>{oe[sn]=At.path});const Ze=X.consumed.length>0?{...oe,...X.consumed[X.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:X.consumed,remainingSegments:w.slice(X.consumed.length),parameters:Ze,positionalParamSegments:null!==(M=X.posParams)&&void 0!==M?M:{}}}function co(T,x,w,M){if(w.length>0&&function ya(T,x,w){return w.some(M=>ra(T,x,M)&&Di(M)!==on)}(T,w,M)){const X=new jn(x,function Ga(T,x,w,M){const V={};V[on]=M,M._sourceSegment=T,M._segmentIndexShift=x.length;for(const X of w)if(""===X.path&&Di(X)!==on){const oe=new jn([],{});oe._sourceSegment=T,oe._segmentIndexShift=x.length,V[Di(X)]=oe}return V}(T,x,M,new jn(w,T.children)));return X._sourceSegment=T,X._segmentIndexShift=x.length,{segmentGroup:X,slicedSegments:[]}}if(0===w.length&&function Iu(T,x,w){return w.some(M=>ra(T,x,M))}(T,w,M)){const X=new jn(T.segments,function tl(T,x,w,M,V){const X={};for(const oe of M)if(ra(T,w,oe)&&!V[Di(oe)]){const Ze=new jn([],{});Ze._sourceSegment=T,Ze._segmentIndexShift=x.length,X[Di(oe)]=Ze}return{...V,...X}}(T,x,w,M,T.children));return X._sourceSegment=T,X._segmentIndexShift=x.length,{segmentGroup:X,slicedSegments:w}}const V=new jn(T.segments,T.children);return V._sourceSegment=T,V._segmentIndexShift=x.length,{segmentGroup:V,slicedSegments:w}}function ra(T,x,w){return(!(T.hasChildren()||x.length>0)||"full"!==w.pathMatch)&&""===w.path}function zs(T,x,w,M){return!!(Di(T)===M||M!==on&&ra(x,w,T))&&("**"===T.path||Ha(x,T,w).matched)}function Pl(T,x,w){return 0===x.length&&!T.children[w]}const os=!1;class ho{constructor(x){this.segmentGroup=x||null}}class $i{constructor(x){this.urlTree=x}}function ia(T){return et(new ho(T))}function Ls(T){return et(new $i(T))}class yl{constructor(x,w,M,V,X){this.injector=x,this.configLoader=w,this.urlSerializer=M,this.urlTree=V,this.config=X,this.allowRedirects=!0}apply(){const x=co(this.urlTree.root,[],[],this.config).segmentGroup,w=new jn(x.segments,x.children);return this.expandSegmentGroup(this.injector,this.config,w,on).pipe((0,Ke.U)(X=>this.createUrlTree(fi(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(W(X=>{if(X instanceof $i)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof ho?this.noMatchError(X):X}))}match(x){return this.expandSegmentGroup(this.injector,this.config,x.root,on).pipe((0,Ke.U)(V=>this.createUrlTree(fi(V),x.queryParams,x.fragment))).pipe(W(V=>{throw V instanceof ho?this.noMatchError(V):V}))}noMatchError(x){return new a.vHH(4002,os)}createUrlTree(x,w,M){const V=Ki(x);return new ir(V,w,M)}expandSegmentGroup(x,w,M,V){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(x,w,M).pipe((0,Ke.U)(X=>new jn([],X))):this.expandSegment(x,M,w,M.segments,V,!0)}expandChildren(x,w,M){const V=[];for(const X of Object.keys(M.children))"primary"===X?V.unshift(X):V.push(X);return(0,te.D)(V).pipe(be(X=>{const oe=M.children[X],Ze=Oo(w,X);return this.expandSegmentGroup(x,Ze,oe,X).pipe((0,Ke.U)(At=>({segment:At,outlet:X})))}),(0,nt.R)((X,oe)=>(X[oe.outlet]=oe.segment,X),{}),Pt())}expandSegment(x,w,M,V,X,oe){return(0,te.D)(M).pipe(be(Ze=>this.expandSegmentAgainstRoute(x,w,M,Ze,V,X,oe).pipe(W(sn=>{if(sn instanceof ho)return(0,z.of)(null);throw sn}))),(0,Ee.P)(Ze=>!!Ze),W((Ze,At)=>{if(Gn(Ze))return Pl(w,V,X)?(0,z.of)(new jn([],{})):ia(w);throw Ze}))}expandSegmentAgainstRoute(x,w,M,V,X,oe,Ze){return zs(V,w,X,oe)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(x,w,V,X,oe):Ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,w,M,V,X,oe):ia(w):ia(w)}expandSegmentAgainstRouteUsingRedirect(x,w,M,V,X,oe){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,M,V,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(x,w,M,V,X,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,w,M,V){const X=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Ls(X):this.lineralizeSegments(M,X).pipe((0,we.z)(oe=>{const Ze=new jn(oe,{});return this.expandSegment(x,Ze,w,oe,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,w,M,V,X,oe){const{matched:Ze,consumedSegments:At,remainingSegments:sn,positionalParamSegments:Mn}=Ha(w,V,X);if(!Ze)return ia(w);const In=this.applyRedirectCommands(At,V.redirectTo,Mn);return V.redirectTo.startsWith("/")?Ls(In):this.lineralizeSegments(V,In).pipe((0,we.z)(F=>this.expandSegment(x,w,M,F.concat(sn),oe,!1)))}matchSegmentAgainstRoute(x,w,M,V,X){return"**"===M.path?(x=qi(M,x),M.loadChildren?(M._loadedRoutes?(0,z.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(x,M)).pipe((0,Ke.U)(Ze=>(M._loadedRoutes=Ze.routes,M._loadedInjector=Ze.injector,new jn(V,{})))):(0,z.of)(new jn(V,{}))):ja(w,M,V,x).pipe((0,it.w)(({matched:oe,consumedSegments:Ze,remainingSegments:At})=>{var sn;return oe?(x=null!==(sn=M._injector)&&void 0!==sn?sn:x,this.getChildConfig(x,M,V).pipe((0,we.z)(In=>{var F;const U=null!==(F=In.injector)&&void 0!==F?F:x,ee=In.routes,{segmentGroup:De,slicedSegments:ht}=co(w,Ze,At,ee),_t=new jn(De.segments,De.children);if(0===ht.length&&_t.hasChildren())return this.expandChildren(U,ee,_t).pipe((0,Ke.U)(er=>new jn(Ze,er)));if(0===ee.length&&0===ht.length)return(0,z.of)(new jn(Ze,{}));const Xt=Di(M)===X;return this.expandSegment(U,_t,ee,ht,Xt?on:X,!0).pipe((0,Ke.U)(An=>new jn(Ze.concat(An.segments),An.children)))}))):ia(w)}))}getChildConfig(x,w,M){return w.children?(0,z.of)({routes:w.children,injector:x}):w.loadChildren?void 0!==w._loadedRoutes?(0,z.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ma(T,x,w,M){const V=x.canLoad;if(void 0===V||0===V.length)return(0,z.of)(!0);const X=V.map(oe=>{const Ze=Gs(oe,T);return Pn(function I(T){return T&&j(T.canLoad)}(Ze)?Ze.canLoad(x,w):T.runInContext(()=>Ze(x,w)))});return(0,z.of)(X).pipe(Wn(),xa())}(x,w,M).pipe((0,we.z)(V=>V?this.configLoader.loadChildren(x,w).pipe((0,Je.b)(X=>{w._loadedRoutes=X.routes,w._loadedInjector=X.injector})):function nl(T){return et(bs(os,3))}())):(0,z.of)({routes:[],injector:x})}lineralizeSegments(x,w){let M=[],V=w.root;for(;;){if(M=M.concat(V.segments),0===V.numberOfChildren)return(0,z.of)(M);if(V.numberOfChildren>1||!V.children[on])return x.redirectTo,et(new a.vHH(4e3,os));V=V.children[on]}}applyRedirectCommands(x,w,M){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),x,M)}applyRedirectCreateUrlTree(x,w,M,V){const X=this.createSegmentGroup(x,w.root,M,V);return new ir(X,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(x,w){const M={};return qn(x,(V,X)=>{if("string"==typeof V&&V.startsWith(":")){const Ze=V.substring(1);M[X]=w[Ze]}else M[X]=V}),M}createSegmentGroup(x,w,M,V){const X=this.createSegments(x,w.segments,M,V);let oe={};return qn(w.children,(Ze,At)=>{oe[At]=this.createSegmentGroup(x,Ze,M,V)}),new jn(X,oe)}createSegments(x,w,M,V){return w.map(X=>X.path.startsWith(":")?this.findPosParam(x,X,V):this.findOrReturn(X,M))}findPosParam(x,w,M){const V=M[w.path.substring(1)];if(!V)throw new a.vHH(4001,os);return V}findOrReturn(x,w){let M=0;for(const V of w){if(V.path===x.path)return w.splice(M),V;M++}return x}}class oa{}class N{constructor(x,w,M,V,X,oe,Ze){this.injector=x,this.rootComponentType=w,this.config=M,this.urlTree=V,this.url=X,this.paramsInheritanceStrategy=oe,this.urlSerializer=Ze}recognize(){const x=co(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,on).pipe((0,Ke.U)(w=>{if(null===w)return null;const M=new oi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new bi(M,w),X=new ga(this.url,V);return this.inheritParamsAndData(X._root),X}))}inheritParamsAndData(x){const w=x.value,M=Gr(w,this.paramsInheritanceStrategy);w.params=Object.freeze(M.params),w.data=Object.freeze(M.data),x.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(x,w,M,V){return 0===M.segments.length&&M.hasChildren()?this.processChildren(x,w,M):this.processSegment(x,w,M,M.segments,V)}processChildren(x,w,M){return(0,te.D)(Object.keys(M.children)).pipe(be(V=>{const X=M.children[V],oe=Oo(w,V);return this.processSegmentGroup(x,oe,X,V)}),(0,nt.R)((V,X)=>V&&X?(V.push(...X),V):null),function dn(T,x=!1){return(0,Oe.e)((w,M)=>{let V=0;w.subscribe((0,pe.x)(M,X=>{const oe=T(X,V++);(oe||x)&&M.next(X),!oe&&M.complete()}))})}(V=>null!==V),(0,xt.d)(null),Pt(),(0,Ke.U)(V=>{if(null===V)return null;const X=ye(V);return function K(T){T.sort((x,w)=>x.value.outlet===on?-1:w.value.outlet===on?1:x.value.outlet.localeCompare(w.value.outlet))}(X),X}))}processSegment(x,w,M,V,X){return(0,te.D)(w).pipe(be(oe=>{var Ze;return this.processSegmentAgainstRoute(null!==(Ze=oe._injector)&&void 0!==Ze?Ze:x,oe,M,V,X)}),(0,Ee.P)(oe=>!!oe),W(oe=>{if(Gn(oe))return Pl(M,V,X)?(0,z.of)([]):(0,z.of)(null);throw oe}))}processSegmentAgainstRoute(x,w,M,V,X){if(w.redirectTo||!zs(w,M,V,X))return(0,z.of)(null);let oe;if("**"===w.path){var Ze,At;const sn=V.length>0?$r(V).parameters:{},Mn=On(M)+V.length,In=new oi(V,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bt(w),Di(w),null!==(Ze=null!==(At=w.component)&&void 0!==At?At:w._loadedComponent)&&void 0!==Ze?Ze:null,w,Vt(M),Mn,tr(w));oe=(0,z.of)({snapshot:In,consumedSegments:[],remainingSegments:[]})}else oe=ja(M,w,V,x).pipe((0,Ke.U)(({matched:sn,consumedSegments:Mn,remainingSegments:In,parameters:F})=>{var U,ee;if(!sn)return null;const De=On(M)+Mn.length;return{snapshot:new oi(Mn,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bt(w),Di(w),null!==(U=null!==(ee=w.component)&&void 0!==ee?ee:w._loadedComponent)&&void 0!==U?U:null,w,Vt(M),De,tr(w)),consumedSegments:Mn,remainingSegments:In}}));return oe.pipe((0,it.w)(sn=>{var Mn,In;if(null===sn)return(0,z.of)(null);const{snapshot:F,consumedSegments:U,remainingSegments:ee}=sn;x=null!==(Mn=w._injector)&&void 0!==Mn?Mn:x;const De=null!==(In=w._loadedInjector)&&void 0!==In?In:x,ht=function B(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(w),{segmentGroup:_t,slicedSegments:Xt}=co(M,U,ee,ht.filter(An=>void 0===An.redirectTo));if(0===Xt.length&&_t.hasChildren())return this.processChildren(De,ht,_t).pipe((0,Ke.U)(An=>null===An?null:[new bi(F,An)]));if(0===ht.length&&0===Xt.length)return(0,z.of)([new bi(F,[])]);const kn=Di(w)===X;return this.processSegment(De,ht,_t,Xt,kn?on:X).pipe((0,Ke.U)(An=>null===An?null:[new bi(F,An)]))}))}}function re(T){const x=T.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function ye(T){const x=[],w=new Set;for(const M of T){if(!re(M)){x.push(M);continue}const V=x.find(X=>M.value.routeConfig===X.value.routeConfig);void 0!==V?(V.children.push(...M.children),w.add(V)):x.push(M)}for(const M of w){const V=ye(M.children);x.push(new bi(M.value,V))}return x.filter(M=>!w.has(M))}function Vt(T){let x=T;for(;x._sourceSegment;)x=x._sourceSegment;return x}function On(T){var x;let w=T,M=null!==(x=w._segmentIndexShift)&&void 0!==x?x:0;for(;w._sourceSegment;){var V;w=w._sourceSegment,M+=null!==(V=w._segmentIndexShift)&&void 0!==V?V:0}return M-1}function Bt(T){return T.data||{}}function tr(T){return T.resolve||{}}function Ct(T){return"string"==typeof T.title||null===T.title}function zt(T){return(0,it.w)(x=>{const w=T(x);return w?(0,te.D)(w).pipe((0,Ke.U)(()=>x)):(0,z.of)(x)})}const Do=new a.OlP("ROUTES");let fo=(()=>{class T{constructor(w,M){this.injector=w,this.compiler=M,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,z.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const M=Pn(w.loadComponent()).pipe((0,Ke.U)(po),(0,Je.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=X}),Tn(()=>{this.componentLoaders.delete(w)})),V=new Xe(M,()=>new Fe.x).pipe(J());return this.componentLoaders.set(w,V),V}loadChildren(w,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,z.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const X=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Ke.U)(Ze=>{this.onLoadEndListener&&this.onLoadEndListener(M);let At,sn,Mn=!1;Array.isArray(Ze)?sn=Ze:(At=Ze.create(w).injector,sn=Pr(At.get(Do,[],a.XFs.Self|a.XFs.Optional)));return{routes:sn.map(Hs),injector:At}}),Tn(()=>{this.childrenLoaders.delete(M)})),oe=new Xe(X,()=>new Fe.x).pipe(J());return this.childrenLoaders.set(M,oe),oe}loadModuleFactoryOrRoutes(w){return Pn(w()).pipe((0,Ke.U)(po),(0,we.z)(V=>V instanceof a.YKP||Array.isArray(V)?(0,z.of)(V):(0,te.D)(this.compiler.compileModuleAsync(V))))}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(a.zs3),a.LFG(a.Sil))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function po(T){return function vl(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let ys=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.configLoader=(0,a.f3M)(fo),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Nn),this.rootContexts=(0,a.f3M)(Ts),this.navigationId=0,this.afterPreactivation=()=>(0,z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new En(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new rn(V))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var M;const V=++this.navigationId;null===(M=this.transitions)||void 0===M||M.next({...this.transitions.value,...w,id:V})}setupNavigations(w){return this.transitions=new Se.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dt,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tt.h)(M=>0!==M.id),(0,Ke.U)(M=>({...M,extractedUrl:w.urlHandlingStrategy.extract(M.rawUrl)})),(0,it.w)(M=>{let V=!1,X=!1;return(0,z.of)(M).pipe((0,Je.b)(oe=>{this.currentNavigation={id:oe.id,initialUrl:oe.rawUrl,extractedUrl:oe.extractedUrl,trigger:oe.source,extras:oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,it.w)(oe=>{var Ze;const At=w.browserUrlTree.toString(),sn=!w.navigated||oe.extractedUrl.toString()!==At||At!==w.currentUrlTree.toString(),Mn=null!==(Ze=oe.extras.onSameUrlNavigation)&&void 0!==Ze?Ze:w.onSameUrlNavigation;if(!sn&&"reload"!==Mn){const In="";return this.events.next(new Bn(oe.id,w.serializeUrl(M.rawUrl),In,0)),w.rawUrlTree=oe.rawUrl,oe.resolve(null),Qe.E}if(w.urlHandlingStrategy.shouldProcessUrl(oe.rawUrl))return Nl(oe.source)&&(w.browserUrlTree=oe.extractedUrl),(0,z.of)(oe).pipe((0,it.w)(In=>{var F,U;const ee=null===(F=this.transitions)||void 0===F?void 0:F.getValue();return this.events.next(new Ft(In.id,this.urlSerializer.serialize(In.extractedUrl),In.source,In.restoredState)),ee!==(null===(U=this.transitions)||void 0===U?void 0:U.getValue())?Qe.E:Promise.resolve(In)}),function za(T,x,w,M){return(0,it.w)(V=>function li(T,x,w,M,V){return new yl(T,x,w,M,V).apply()}(T,x,w,V.extractedUrl,M).pipe((0,Ke.U)(X=>({...V,urlAfterRedirects:X}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,Je.b)(In=>{this.currentNavigation={...this.currentNavigation,finalUrl:In.urlAfterRedirects},M.urlAfterRedirects=In.urlAfterRedirects}),function Jn(T,x,w,M,V){return(0,we.z)(X=>function aa(T,x,w,M,V,X,oe="emptyOnly"){return new N(T,x,w,M,V,oe,X).recognize().pipe((0,it.w)(Ze=>null===Ze?function No(T){return new Te.y(x=>x.error(T))}(new oa):(0,z.of)(Ze)))}(T,x,w,X.urlAfterRedirects,M.serialize(X.urlAfterRedirects),M,V).pipe((0,Ke.U)(oe=>({...X,targetSnapshot:oe}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Je.b)(In=>{if(M.targetSnapshot=In.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!In.extras.skipLocationChange){const U=w.urlHandlingStrategy.merge(In.urlAfterRedirects,In.rawUrl);w.setBrowserUrl(U,In)}w.browserUrlTree=In.urlAfterRedirects}const F=new yi(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(F)}));if(sn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:In,extractedUrl:F,source:U,restoredState:ee,extras:De}=oe,ht=new Ft(In,this.urlSerializer.serialize(F),U,ee);this.events.next(ht);const _t=Go(F,this.rootComponentType).snapshot;return M={...oe,targetSnapshot:_t,urlAfterRedirects:F,extras:{...De,skipLocationChange:!1,replaceUrl:!1}},(0,z.of)(M)}{const In="";return this.events.next(new Bn(oe.id,w.serializeUrl(M.extractedUrl),In,1)),w.rawUrlTree=oe.rawUrl,oe.resolve(null),Qe.E}}),(0,Je.b)(oe=>{const Ze=new rt(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(Ze)}),(0,Ke.U)(oe=>M={...oe,guards:ta(oe.targetSnapshot,oe.currentSnapshot,this.rootContexts)}),function Or(T,x){return(0,we.z)(w=>{const{targetSnapshot:M,currentSnapshot:V,guards:{canActivateChecks:X,canDeactivateChecks:oe}}=w;return 0===oe.length&&0===X.length?(0,z.of)({...w,guardsResult:!0}):function Bi(T,x,w,M){return(0,te.D)(T).pipe((0,we.z)(V=>function Va(T,x,w,M,V){const X=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,z.of)(!0);const oe=X.map(Ze=>{var At;const sn=null!==(At=ds(x))&&void 0!==At?At:V,Mn=Gs(Ze,sn);return Pn(function Q(T){return T&&j(T.canDeactivate)}(Mn)?Mn.canDeactivate(T,x,w,M):sn.runInContext(()=>Mn(T,x,w,M))).pipe((0,Ee.P)())});return(0,z.of)(oe).pipe(Wn())}(V.component,V.route,w,x,M)),(0,Ee.P)(V=>!0!==V,!0))}(oe,M,V,T).pipe((0,we.z)(Ze=>Ze&&function f(T){return"boolean"==typeof T}(Ze)?function Gi(T,x,w,M){return(0,te.D)(x).pipe(be(V=>(0,Re.z)(function lo(T,x){return null!==T&&x&&x(new sr(T)),(0,z.of)(!0)}(V.route.parent,M),function ai(T,x){return null!==T&&x&&x(new vr(T)),(0,z.of)(!0)}(V.route,M),function na(T,x,w){const M=x[x.length-1],X=x.slice(0,x.length-1).reverse().map(oe=>function Zr(T){const x=T.routeConfig?T.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:T,guards:x}:null}(oe)).filter(oe=>null!==oe).map(oe=>le(()=>{const Ze=oe.guards.map(At=>{var sn;const Mn=null!==(sn=ds(oe.node))&&void 0!==sn?sn:w,In=Gs(At,Mn);return Pn(function P(T){return T&&j(T.canActivateChild)}(In)?In.canActivateChild(M,T):Mn.runInContext(()=>In(M,T))).pipe((0,Ee.P)())});return(0,z.of)(Ze).pipe(Wn())}));return(0,z.of)(X).pipe(Wn())}(T,V.path,w),function uo(T,x,w){const M=x.routeConfig?x.routeConfig.canActivate:null;if(!M||0===M.length)return(0,z.of)(!0);const V=M.map(X=>le(()=>{var oe;const Ze=null!==(oe=ds(x))&&void 0!==oe?oe:w,At=Gs(X,Ze);return Pn(function y(T){return T&&j(T.canActivate)}(At)?At.canActivate(x,T):Ze.runInContext(()=>At(x,T))).pipe((0,Ee.P)())}));return(0,z.of)(V).pipe(Wn())}(T,V.route,w))),(0,Ee.P)(V=>!0!==V,!0))}(M,X,T,x):(0,z.of)(Ze)),(0,Ke.U)(Ze=>({...w,guardsResult:Ze})))})}(this.environmentInjector,oe=>this.events.next(oe)),(0,Je.b)(oe=>{if(M.guardsResult=oe.guardsResult,xr(oe.guardsResult))throw Js(0,oe.guardsResult);const Ze=new qe(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot,!!oe.guardsResult);this.events.next(Ze)}),(0,tt.h)(oe=>!!oe.guardsResult||(w.restoreHistory(oe),this.cancelNavigationTransition(oe,"",3),!1)),zt(oe=>{if(oe.guards.canActivateChecks.length)return(0,z.of)(oe).pipe((0,Je.b)(Ze=>{const At=new mt(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(At)}),(0,it.w)(Ze=>{let At=!1;return(0,z.of)(Ze).pipe(function vi(T,x){return(0,we.z)(w=>{const{targetSnapshot:M,guards:{canActivateChecks:V}}=w;if(!V.length)return(0,z.of)(w);let X=0;return(0,te.D)(V).pipe(be(oe=>function qt(T,x,w,M){const V=T.routeConfig,X=T._resolve;return void 0!==(null==V?void 0:V.title)&&!Ct(V)&&(X[ar]=V.title),function Jt(T,x,w,M){const V=function Zi(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===V.length)return(0,z.of)({});const X={};return(0,te.D)(V).pipe((0,we.z)(oe=>function un(T,x,w,M){var V;const X=null!==(V=ds(x))&&void 0!==V?V:M,oe=Gs(T,X);return Pn(oe.resolve?oe.resolve(x,w):X.runInContext(()=>oe(x,w)))}(T[oe],x,w,M).pipe((0,Ee.P)(),(0,Je.b)(Ze=>{X[oe]=Ze}))),ze(1),function Rt(T){return(0,Ke.U)(()=>T)}(X),W(oe=>Gn(oe)?Qe.E:et(oe)))}(X,T,x,M).pipe((0,Ke.U)(oe=>(T._resolvedData=oe,T.data=Gr(T,w).resolve,V&&Ct(V)&&(T.data[ar]=V.title),null)))}(oe.route,M,T,x)),(0,Je.b)(()=>X++),ze(1),(0,we.z)(oe=>X===V.length?(0,z.of)(w):Qe.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Je.b)({next:()=>At=!0,complete:()=>{At||(w.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",2))}}))}),(0,Je.b)(Ze=>{const At=new Ut(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(At)}))}),zt(oe=>{const Ze=At=>{var sn;const Mn=[];null!==(sn=At.routeConfig)&&void 0!==sn&&sn.loadComponent&&!At.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(At.routeConfig).pipe((0,Je.b)(In=>{At.component=In}),(0,Ke.U)(()=>{})));for(const In of At.children)Mn.push(...Ze(In));return Mn};return Ue(Ze(oe.targetSnapshot.root)).pipe((0,xt.d)(),(0,je.q)(1))}),zt(()=>this.afterPreactivation()),(0,Ke.U)(oe=>{const Ze=function bo(T,x,w){const M=ns(T,x._root,w?w._root:void 0);return new Xs(M,x)}(w.routeReuseStrategy,oe.targetSnapshot,oe.currentRouterState);return M={...oe,targetRouterState:Ze}}),(0,Je.b)(oe=>{w.currentUrlTree=oe.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),w.routerState=oe.targetRouterState,"deferred"===w.urlUpdateStrategy&&(oe.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,oe),w.browserUrlTree=oe.urlAfterRedirects)}),((T,x,w)=>(0,Ke.U)(M=>(new zo(x,M.targetRouterState,M.currentRouterState,w).activate(T),M)))(this.rootContexts,w.routeReuseStrategy,oe=>this.events.next(oe)),(0,Je.b)({next:oe=>{var Ze;V=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new nn(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),null===(Ze=w.titleStrategy)||void 0===Ze||Ze.updateTitle(oe.targetRouterState.snapshot),oe.resolve(!0)},complete:()=>{V=!0}}),Tn(()=>{var oe;V||X||this.cancelNavigationTransition(M,"",1),(null===(oe=this.currentNavigation)||void 0===oe?void 0:oe.id)===M.id&&(this.currentNavigation=null)}),W(oe=>{if(X=!0,cs(oe)){so(oe)||(w.navigated=!0,w.restoreHistory(M,!0));const At=new Dn(M.id,this.urlSerializer.serialize(M.extractedUrl),oe.message,oe.cancellationCode);if(this.events.next(At),so(oe)){const sn=w.urlHandlingStrategy.merge(oe.url,w.rawUrlTree),Mn={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||Nl(M.source)};w.scheduleNavigation(sn,dt,null,Mn,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{var Ze;w.restoreHistory(M,!0);const At=new Kn(M.id,this.urlSerializer.serialize(M.extractedUrl),oe,null!==(Ze=M.targetSnapshot)&&void 0!==Ze?Ze:void 0);this.events.next(At);try{M.resolve(w.errorHandler(oe))}catch(sn){M.reject(sn)}}return Qe.E}))}))}cancelNavigationTransition(w,M,V){const X=new Dn(w.id,this.urlSerializer.serialize(w.extractedUrl),M,V);this.events.next(X),w.resolve(!1)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Nl(T){return T!==dt}let Wa=(()=>{class T{buildTitle(w){let M,V=w.root;for(;void 0!==V;){var X;M=null!==(X=this.getResolvedTitleForRoute(V))&&void 0!==X?X:M,V=V.children.find(oe=>oe.outlet===on)}return M}getResolvedTitleForRoute(w){return w.data[ar]}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(_l)},providedIn:"root"}),T})(),_l=(()=>{class T extends Wa{constructor(w){super(),this.title=w}updateTitle(w){const M=this.buildTitle(w);void 0!==M&&this.title.setTitle(M)}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Fn.Dx))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),rl=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(la)},providedIn:"root"}),T})();class gr{shouldDetach(x){return!1}store(x,w){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,w){return x.routeConfig===w.routeConfig}}let la=(()=>{class T extends gr{}return T.\u0275fac=function(){let x;return function(M){return(x||(x=a.n5z(T)))(M||T)}}(),T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const wi=new a.OlP("",{providedIn:"root",factory:()=>({})});let Yn=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(Wo)},providedIn:"root"}),T})(),Wo=(()=>{class T{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,M){return w}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function qu(T){throw T}function ci(T,x,w){return x.parse("/")}const gn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},El={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var w;this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(wi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||qu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ci,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Yn),this.routeReuseStrategy=(0,a.f3M)(rl),this.urlCreationStrategy=(0,a.f3M)(Qs),this.titleStrategy=(0,a.f3M)(Wa),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Pr(null!==(w=(0,a.f3M)(Do,{optional:!0}))&&void 0!==w?w:[]),this.navigationTransitions=(0,a.f3M)(ys),this.urlSerializer=(0,a.f3M)(Nn),this.location=(0,a.f3M)(Ge.Ye),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Go(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(M=>{this.lastSuccessfulId=M.id,this.currentPageId=M.targetPageId},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dt,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const M="popstate"===w.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,M,w.state)},0)}))}navigateToSyncWithBrowser(w,M,V){const X={replaceUrl:!0},oe=null!=V&&V.navigationId?V:null;if(V){const At={...V};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(X.state=At)}const Ze=this.parseUrl(w);this.scheduleNavigation(Ze,M,oe,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(Hs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,M={}){const{relativeTo:V,queryParams:X,fragment:oe,queryParamsHandling:Ze,preserveFragment:At}=M,sn=At?this.currentUrlTree.fragment:oe;let Mn=null;switch(Ze){case"merge":Mn={...this.currentUrlTree.queryParams,...X};break;case"preserve":Mn=this.currentUrlTree.queryParams;break;default:Mn=X||null}return null!==Mn&&(Mn=this.removeEmptyProps(Mn)),this.urlCreationStrategy.createUrlTree(V,this.routerState,this.currentUrlTree,w,Mn,null!=sn?sn:null)}navigateByUrl(w,M={skipLocationChange:!1}){const V=xr(w)?w:this.parseUrl(w),X=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(X,dt,null,M)}navigate(w,M={skipLocationChange:!1}){return function ko(T){for(let x=0;x<T.length;x++){const w=T[x];if(null==w)throw new a.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,M),M)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let M;try{M=this.urlSerializer.parse(w)}catch(V){M=this.malformedUriErrorHandler(V,this.urlSerializer,w)}return M}isActive(w,M){let V;if(V=!0===M?{...gn}:!1===M?{...El}:M,xr(w))return pn(this.currentUrlTree,w,V);const X=this.parseUrl(w);return pn(this.currentUrlTree,X,V)}removeEmptyProps(w){return Object.keys(w).reduce((M,V)=>{const X=w[V];return null!=X&&(M[V]=X),M},{})}scheduleNavigation(w,M,V,X,oe){if(this.disposed)return Promise.resolve(!1);let Ze,At,sn,Mn;if(oe?(Ze=oe.resolve,At=oe.reject,sn=oe.promise):sn=new Promise((U,ee)=>{Ze=U,At=ee}),"computed"===this.canceledNavigationResolution)if(V&&V.\u0275routerPageId)Mn=V.\u0275routerPageId;else if(X.replaceUrl||X.skipLocationChange){var In;Mn=null!==(In=this.browserPageId)&&void 0!==In?In:0}else{var F;Mn=(null!==(F=this.browserPageId)&&void 0!==F?F:0)+1}else Mn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:Mn,source:M,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:X,resolve:Ze,reject:At,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(U=>Promise.reject(U))}setBrowserUrl(w,M){const V=this.urlSerializer.serialize(w),X={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(V)||M.extras.replaceUrl?this.location.replaceState(V,"",X):this.location.go(V,"",X)}restoreHistory(w,M=!1){if("computed"===this.canceledNavigationResolution){var V,X;const oe=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.getCurrentNavigation())||void 0===V?void 0:V.finalUrl)||0===oe?this.currentUrlTree===(null===(X=this.getCurrentNavigation())||void 0===X?void 0:X.finalUrl)&&0===oe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(oe)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,M){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:M}:{navigationId:w}}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Ko=(()=>{class T{constructor(w,M,V,X,oe,Ze){var At;this.router=w,this.route=M,this.tabIndexAttribute=V,this.renderer=X,this.el=oe,this.locationStrategy=Ze,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Fe.x;const sn=null===(At=oe.nativeElement.tagName)||void 0===At?void 0:At.toLowerCase();this.isAnchorElement="a"===sn||"area"===sn,this.isAnchorElement?this.subscription=w.events.subscribe(Mn=>{Mn instanceof nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,a.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,a.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,a.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,M,V,X,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||M||V||X||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(w,M){const V=this.renderer,X=this.el.nativeElement;null!==M?V.setAttribute(X,w,M):V.removeAttribute(X,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(w){return new(w||T)(a.Y36(Wi),a.Y36(gs),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ge.S$))},T.\u0275dir=a.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,M){1&w&&a.NdJ("click",function(X){return M.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&w&&a.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),T})();class _a{}let Zl=(()=>{class T{preload(w,M){return M().pipe(W(()=>(0,z.of)(null)))}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Ws=(()=>{class T{constructor(w,M,V,X,oe){this.router=w,this.injector=V,this.preloadingStrategy=X,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,tt.h)(w=>w instanceof nn),be(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,M){const V=[];for(const At of M){var X,oe;At.providers&&!At._injector&&(At._injector=(0,a.MMx)(At.providers,w,`Route: ${At.path}`));const sn=null!==(X=At._injector)&&void 0!==X?X:w,Mn=null!==(oe=At._loadedInjector)&&void 0!==oe?oe:sn;if(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)V.push(this.preloadConfig(sn,At));else if(At.children||At._loadedRoutes){var Ze;V.push(this.processRoutes(Mn,null!==(Ze=At.children)&&void 0!==Ze?Ze:At._loadedRoutes))}}return(0,te.D)(V).pipe((0,Sn.J)())}preloadConfig(w,M){return this.preloadingStrategy.preload(M,()=>{let V;V=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(w,M):(0,z.of)(null);const X=V.pipe((0,we.z)(oe=>{var Ze;return null===oe?(0,z.of)(void 0):(M._loadedRoutes=oe.routes,M._loadedInjector=oe.injector,this.processRoutes(null!==(Ze=oe.injector)&&void 0!==Ze?Ze:w,oe.routes))}));if(M.loadComponent&&!M._loadedComponent){const oe=this.loader.loadComponent(M);return(0,te.D)([X,oe]).pipe((0,Sn.J)())}return X})}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Wi),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(_a),a.LFG(fo))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ua=new a.OlP("");let Ea=(()=>{class T{constructor(w,M,V,X,oe={}){this.urlSerializer=w,this.transitions=M,this.viewportScroller=V,this.zone=X,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof nn&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ts&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ts(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){var w,M;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(M=this.scrollEventsSubscription)||void 0===M||M.unsubscribe()}}return T.\u0275fac=function(w){a.$Z()},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})();var Qi=(()=>((Qi=Qi||{})[Qi.COMPLETE=0]="COMPLETE",Qi[Qi.FAILED=1]="FAILED",Qi[Qi.REDIRECTING=2]="REDIRECTING",Qi))();const Ia=!1;function Rs(T,x){return{\u0275kind:T,\u0275providers:x}}const pi=new a.OlP("",{providedIn:"root",factory:()=>!1});function Pa(){const T=(0,a.f3M)(a.zs3);return x=>{var w,M;const V=T.get(a.z2F);if(x!==V.components[0])return;const X=T.get(Wi),oe=T.get(il);1===T.get(kl)&&X.initialNavigation(),null===(w=T.get(Cc,null,a.XFs.Optional))||void 0===w||w.setUpPreloading(),null===(M=T.get(ua,null,a.XFs.Optional))||void 0===M||M.init(),X.resetRootComponentType(V.componentTypes[0]),oe.closed||(oe.next(),oe.unsubscribe())}}const il=new a.OlP(Ia?"bootstrap done indicator":"",{factory:()=>new Fe.x}),kl=new a.OlP(Ia?"initial navigation":"",{providedIn:"root",factory:()=>1});function go(){let T=[];return T=Ia?[{provide:a.Xts,multi:!0,useFactory:()=>{const x=(0,a.f3M)(Wi);return()=>x.events.subscribe(w=>{var M,V,X,oe;null===(M=(V=console).group)||void 0===M||M.call(V,`Router Event: ${w.constructor.name}`),console.log(function Mi(T){var x,w,M,V;if(!("type"in T))return`Unknown Router Event: ${T.constructor.name}`;switch(T.type){case 14:return`ActivationEnd(path: '${(null===(x=T.snapshot.routeConfig)||void 0===x?void 0:x.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(w=T.snapshot.routeConfig)||void 0===w?void 0:w.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(M=T.snapshot.routeConfig)||void 0===M?void 0:M.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(V=T.snapshot.routeConfig)||void 0===V?void 0:V.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state}, shouldActivate: ${T.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 2:return`NavigationCancel(id: ${T.id}, url: '${T.url}')`;case 16:return`NavigationSkipped(id: ${T.id}, url: '${T.url}')`;case 1:return`NavigationEnd(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${T.id}, url: '${T.url}', error: ${T.error})`;case 0:return`NavigationStart(id: ${T.id}, url: '${T.url}')`;case 6:return`ResolveEnd(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 5:return`ResolveStart(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 10:return`RouteConfigLoadEnd(path: ${T.route.path})`;case 9:return`RouteConfigLoadStart(path: ${T.route.path})`;case 4:return`RoutesRecognized(id: ${T.id}, url: '${T.url}', urlAfterRedirects: '${T.urlAfterRedirects}', state: ${T.state})`;case 15:return`Scroll(anchor: '${T.anchor}', position: '${T.position?`${T.position[0]}, ${T.position[1]}`:null}')`}}(w)),console.log(w),null===(X=(oe=console).groupEnd)||void 0===X||X.call(oe)})}}]:[],Rs(1,T)}const Cc=new a.OlP(Ia?"router preloader":"");function Xi(T){return Rs(0,[{provide:Cc,useExisting:Ws},{provide:_a,useExisting:T}])}const Os=!1,ol=new a.OlP(Os?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),To=[Ge.Ye,{provide:Nn,useClass:Ln},Wi,Ts,{provide:gs,useFactory:function Xl(T){return T.routerState.root},deps:[Wi]},fo,Os?{provide:pi,useValue:!0}:[]];function no(){return new a.PXZ("Router",Wi)}let Il=(()=>{class T{constructor(w){}static forRoot(w,M){return{ngModule:T,providers:[To,Os&&null!=M&&M.enableTracing?go().\u0275providers:[],{provide:Do,multi:!0,useValue:w},{provide:ol,useFactory:Ks,deps:[[Wi,new a.FiY,new a.tp0]]},{provide:wi,useValue:M||{}},null!=M&&M.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:ua,useFactory:()=>{const T=(0,a.f3M)(Ge.EM),x=(0,a.f3M)(a.R0b),w=(0,a.f3M)(wi),M=(0,a.f3M)(ys),V=(0,a.f3M)(Nn);return w.scrollOffset&&T.setOffset(w.scrollOffset),new Ea(V,M,T,x,w)}},null!=M&&M.preloadingStrategy?Xi(M.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:no},null!=M&&M.initialNavigation?ca(M):[],[{provide:_i,useFactory:Pa},{provide:a.tb,multi:!0,useExisting:_i}]]}}static forChild(w){return{ngModule:T,providers:[{provide:Do,multi:!0,useValue:w}]}}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(ol,8))},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[Dr]}),T})();function Ks(T){if(Os&&T)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ca(T){return["disabled"===T.initialNavigation?Rs(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const x=(0,a.f3M)(Wi);return()=>{x.setUpLocationChangeListener()}}},{provide:kl,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Rs(2,[{provide:kl,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:x=>{const w=x.get(Ge.V_,Promise.resolve());return()=>w.then(()=>new Promise(M=>{const V=x.get(Wi),X=x.get(il);(function Ra(T,x){T.events.pipe((0,tt.h)(w=>w instanceof nn||w instanceof Dn||w instanceof Kn||w instanceof Bn),(0,Ke.U)(w=>w instanceof nn||w instanceof Bn?Qi.COMPLETE:w instanceof Dn&&(0===w.code||1===w.code)?Qi.REDIRECTING:Qi.FAILED),(0,tt.h)(w=>w!==Qi.REDIRECTING),(0,je.q)(1)).subscribe(()=>{x()})})(V,()=>{M(!0)}),x.get(ys).afterPreactivation=()=>(M(!0),X.closed?(0,z.of)(void 0):X),V.initialNavigation()}))}}]).\u0275providers:[]]}const _i=new a.OlP(Os?"Router Initializer":"")},3942:(cn,gt,$)=>{"use strict";$.d(gt,{Z:()=>lt});var a=$(2090),te=$(4859),z=$(9681),Se=$(1877);class Me{constructor(Re,_e){this._delegate=Re,this.firebase=_e,(0,z._addComponent)(Re,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Re,_e=z._DEFAULT_ENTRY_NAME){var le;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Re);return!at.isInitialized()&&"EXPLICIT"===(null===(le=at.getComponent())||void 0===le?void 0:le.instantiationMode)&&at.initialize(),at.getImmediate({identifier:_e})}_removeServiceInstance(Re,_e=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(_e)}_addComponent(Re){(0,z._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,z._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function Ve(){const St=function Ae(St){const Re={},_e={__esModule:!0,initializeApp:function ot(Oe,J={}){const Xe=z.initializeApp(Oe,J);if((0,a.r3)(Re,Xe.name))return Re[Xe.name];const Fe=new St(Xe,_e);return Re[Xe.name]=Fe,Fe},app:at,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Qe(Oe){const J=Oe.name,Xe=J.replace("-compat","");if(z._registerComponent(Oe)&&"PUBLIC"===Oe.type){const Fe=(Ge=at())=>{if("function"!=typeof Ge[Xe])throw de.create("invalid-app-argument",{appName:J});return Ge[Xe]()};void 0!==Oe.serviceProps&&(0,a.ZB)(Fe,Oe.serviceProps),_e[Xe]=Fe,St.prototype[Xe]=function(...Ge){return this._getService.bind(this,J).apply(this,Oe.multipleInstances?Ge:[])}}return"PUBLIC"===Oe.type?_e[Xe]:null},removeApp:function le(Oe){delete Re[Oe]},useAsService:function Pe(Oe,J){return"serverAuth"===J?null:J},modularAPIs:z}};function at(Oe){if(!(0,a.r3)(Re,Oe=Oe||z._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Oe});return Re[Oe]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function et(){return Object.keys(Re).map(Oe=>Re[Oe])}}),at.App=St,_e}(Me);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function Re(_e){(0,a.ZB)(St,_e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),St}(),fe=new Se.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=ge;!function Ue(St){(0,z.registerVersion)("@firebase/app-compat","0.2.4",St)}()},9681:(cn,gt,$)=>{"use strict";$.r(gt),$.d(gt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Fn,_DEFAULT_ENTRY_NAME:()=>Ee,_addComponent:()=>nt,_addOrOverwriteComponent:()=>ze,_apps:()=>Je,_clearComponents:()=>dn,_components:()=>W,_getProvider:()=>xt,_registerComponent:()=>Nt,_removeServiceInstance:()=>Pt,deleteApp:()=>Sr,getApp:()=>ar,getApps:()=>wr,initializeApp:()=>on,onLog:()=>Yt,registerVersion:()=>lr,setLogLevel:()=>dr});var a=$(5861),te=$(4859),z=$(1877),Se=$(2090),Me=$(8766);class Te{constructor($t){this.container=$t}getPlatformInfoString(){return this.container.getProviders().map(yn=>{if(function de(an){const $t=an.getComponent();return"VERSION"===(null==$t?void 0:$t.type)}(yn)){const Nn=yn.getImmediate();return`${Nn.library}/${Nn.version}`}return null}).filter(yn=>yn).join(" ")}}const Ae="@firebase/app",ge=new z.Yd("@firebase/app"),Ee="[DEFAULT]",be={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,W=new Map;function nt(an,$t){try{an.container.addComponent($t)}catch(yn){ge.debug(`Component ${$t.name} failed to register with FirebaseApp ${an.name}`,yn)}}function ze(an,$t){an.container.addOrOverwriteComponent($t)}function Nt(an){const $t=an.name;if(W.has($t))return ge.debug(`There were multiple attempts to register component ${$t}.`),!1;W.set($t,an);for(const yn of Je.values())nt(yn,an);return!0}function xt(an,$t){const yn=an.container.getProvider("heartbeat").getImmediate({optional:!0});return yn&&yn.triggerHeartbeat(),an.container.getProvider($t)}function Pt(an,$t,yn=Ee){xt(an,$t).clearInstance(yn)}function dn(){W.clear()}const Tn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor($t,yn,Nn){this._isDeleted=!1,this._options=Object.assign({},$t),this._config=Object.assign({},yn),this._name=yn.name,this._automaticDataCollectionEnabled=yn.automaticDataCollectionEnabled,this._container=Nn,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($t){this.checkDestroyed(),this._automaticDataCollectionEnabled=$t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($t){this._isDeleted=$t}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Fn="9.17.2";function on(an,$t={}){let yn=an;"object"!=typeof $t&&($t={name:$t});const Nn=Object.assign({name:Ee,automaticDataCollectionEnabled:!1},$t),Ln=Nn.name;if("string"!=typeof Ln||!Ln)throw Tn.create("bad-app-name",{appName:String(Ln)});if(yn||(yn=(0,Se.aH)()),!yn)throw Tn.create("no-options");const Rn=Je.get(Ln);if(Rn){if((0,Se.vZ)(yn,Rn.options)&&(0,Se.vZ)(Nn,Rn.config))return Rn;throw Tn.create("duplicate-app",{appName:Ln})}const Vr=new te.H0(Ln);for(const Ie of W.values())Vr.addComponent(Ie);const xe=new Sn(yn,Nn,Vr);return Je.set(Ln,xe),xe}function ar(an=Ee){const $t=Je.get(an);if(!$t&&an===Ee)return on();if(!$t)throw Tn.create("no-app",{appName:an});return $t}function wr(){return Array.from(Je.values())}function Sr(an){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(an){const $t=an.name;Je.has($t)&&(Je.delete($t),yield Promise.all(an.container.getProviders().map(yn=>yn.delete())),an.isDeleted=!0)})).apply(this,arguments)}function lr(an,$t,yn){var Nn;let Ln=null!==(Nn=be[an])&&void 0!==Nn?Nn:an;yn&&(Ln+=`-${yn}`);const Rn=Ln.match(/\s|\//),Vr=$t.match(/\s|\//);if(Rn||Vr){const xe=[`Unable to register library "${Ln}" with version "${$t}":`];return Rn&&xe.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),Rn&&Vr&&xe.push("and"),Vr&&xe.push(`version name "${$t}" contains illegal characters (whitespace or "/")`),void ge.warn(xe.join(" "))}Nt(new te.wA(`${Ln}-version`,()=>({library:Ln,version:$t}),"VERSION"))}function Yt(an,$t){if(null!==an&&"function"!=typeof an)throw Tn.create("invalid-log-argument");(0,z.Am)(an,$t)}function dr(an){(0,z.Ub)(an)}const Pr="firebase-heartbeat-database",$r=1,Yr="firebase-heartbeat-store";let qn=null;function Pn(){return qn||(qn=(0,Me.X3)(Pr,$r,{upgrade:(an,$t)=>{0===$t&&an.createObjectStore(Yr)}}).catch(an=>{throw Tn.create("idb-open",{originalErrorMessage:an.message})})),qn}function bn(){return(bn=(0,a.Z)(function*(an){try{return(yield Pn()).transaction(Yr).objectStore(Yr).get(Ar(an))}catch($t){if($t instanceof Se.ZR)ge.warn($t.message);else{const yn=Tn.create("idb-get",{originalErrorMessage:null==$t?void 0:$t.message});ge.warn(yn.message)}}})).apply(this,arguments)}function ri(an,$t){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(an,$t){try{const Nn=(yield Pn()).transaction(Yr,"readwrite");return yield Nn.objectStore(Yr).put($t,Ar(an)),Nn.done}catch(yn){if(yn instanceof Se.ZR)ge.warn(yn.message);else{const Nn=Tn.create("idb-set",{originalErrorMessage:null==yn?void 0:yn.message});ge.warn(Nn.message)}}})).apply(this,arguments)}function Ar(an){return`${an.name}!${an.options.appId}`}class Ni{constructor($t){this.container=$t,this._heartbeatsCache=null;const yn=this.container.getProvider("app").getImmediate();this._storage=new ir(yn),this._heartbeatsCachePromise=this._storage.read().then(Nn=>(this._heartbeatsCache=Nn,Nn))}triggerHeartbeat(){var $t=this;return(0,a.Z)(function*(){const Nn=$t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ln=Cr();if(null===$t._heartbeatsCache&&($t._heartbeatsCache=yield $t._heartbeatsCachePromise),$t._heartbeatsCache.lastSentHeartbeatDate!==Ln&&!$t._heartbeatsCache.heartbeats.some(Rn=>Rn.date===Ln))return $t._heartbeatsCache.heartbeats.push({date:Ln,agent:Nn}),$t._heartbeatsCache.heartbeats=$t._heartbeatsCache.heartbeats.filter(Rn=>{const Vr=new Date(Rn.date).valueOf();return Date.now()-Vr<=2592e6}),$t._storage.overwrite($t._heartbeatsCache)})()}getHeartbeatsHeader(){var $t=this;return(0,a.Z)(function*(){if(null===$t._heartbeatsCache&&(yield $t._heartbeatsCachePromise),null===$t._heartbeatsCache||0===$t._heartbeatsCache.heartbeats.length)return"";const yn=Cr(),{heartbeatsToSend:Nn,unsentEntries:Ln}=function _r(an,$t=1024){const yn=[];let Nn=an.slice();for(const Ln of an){const Rn=yn.find(Vr=>Vr.agent===Ln.agent);if(Rn){if(Rn.dates.push(Ln.date),jn(yn)>$t){Rn.dates.pop();break}}else if(yn.push({agent:Ln.agent,dates:[Ln.date]}),jn(yn)>$t){yn.pop();break}Nn=Nn.slice(1)}return{heartbeatsToSend:yn,unsentEntries:Nn}}($t._heartbeatsCache.heartbeats),Rn=(0,Se.L)(JSON.stringify({version:2,heartbeats:Nn}));return $t._heartbeatsCache.lastSentHeartbeatDate=yn,Ln.length>0?($t._heartbeatsCache.heartbeats=Ln,yield $t._storage.overwrite($t._heartbeatsCache)):($t._heartbeatsCache.heartbeats=[],$t._storage.overwrite($t._heartbeatsCache)),Rn})()}}function Cr(){return(new Date).toISOString().substring(0,10)}class ir{constructor($t){this.app=$t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $t=this;return(0,a.Z)(function*(){return(yield $t._canUseIndexedDBPromise)&&(yield function vn(an){return bn.apply(this,arguments)}($t.app))||{heartbeats:[]}})()}overwrite($t){var yn=this;return(0,a.Z)(function*(){var Nn;if(yield yn._canUseIndexedDBPromise){const Rn=yield yn.read();return ri(yn.app,{lastSentHeartbeatDate:null!==(Nn=$t.lastSentHeartbeatDate)&&void 0!==Nn?Nn:Rn.lastSentHeartbeatDate,heartbeats:$t.heartbeats})}})()}add($t){var yn=this;return(0,a.Z)(function*(){var Nn;if(yield yn._canUseIndexedDBPromise){const Rn=yield yn.read();return ri(yn.app,{lastSentHeartbeatDate:null!==(Nn=$t.lastSentHeartbeatDate)&&void 0!==Nn?Nn:Rn.lastSentHeartbeatDate,heartbeats:[...Rn.heartbeats,...$t.heartbeats]})}})()}}function jn(an){return(0,Se.L)(JSON.stringify({version:2,heartbeats:an})).length}!function hi(an){Nt(new te.wA("platform-logger",$t=>new Te($t),"PRIVATE")),Nt(new te.wA("heartbeat",$t=>new Ni($t),"PRIVATE")),lr(Ae,"0.9.4",an),lr(Ae,"0.9.4","esm2017"),lr("fire-js","")}("")},4859:(cn,gt,$)=>{"use strict";$.d(gt,{H0:()=>Ae,wA:()=>z,zt:()=>Me});var a=$(5861),te=$(2090);class z{constructor(ge,fe,pe){this.name=ge,this.instanceFactory=fe,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const Se="[DEFAULT]";class Me{constructor(ge,fe){this.name=ge,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const fe=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(fe)){const pe=new te.BH;if(this.instancesDeferred.set(fe,pe),this.isInitialized(fe)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:fe});ke&&pe.resolve(ke)}catch(ke){}}return this.instancesDeferred.get(fe).promise}getImmediate(ge){var fe;const pe=this.normalizeInstanceIdentifier(null==ge?void 0:ge.identifier),ke=null!==(fe=null==ge?void 0:ge.optional)&&void 0!==fe&&fe;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ue){if(ke)return null;throw Ue}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function de(Ve){return"EAGER"===Ve.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(fe){}for(const[fe,pe]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(fe);try{const Ue=this.getOrInitializeService({instanceIdentifier:ke});pe.resolve(Ue)}catch(Ue){}}}}clearInstance(ge=Se){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,a.Z)(function*(){const fe=Array.from(ge.instances.values());yield Promise.all([...fe.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...fe.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=Se){return this.instances.has(ge)}getOptions(ge=Se){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:fe={}}=ge,pe=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:pe,options:fe});for(const[Ue,lt]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Ue)&&lt.resolve(ke);return ke}onInit(ge,fe){var pe;const ke=this.normalizeInstanceIdentifier(fe),Ue=null!==(pe=this.onInitCallbacks.get(ke))&&void 0!==pe?pe:new Set;Ue.add(ge),this.onInitCallbacks.set(ke,Ue);const lt=this.instances.get(ke);return lt&&ge(lt,ke),()=>{Ue.delete(ge)}}invokeOnInitCallbacks(ge,fe){const pe=this.onInitCallbacks.get(fe);if(pe)for(const ke of pe)try{ke(ge,fe)}catch(Ue){}}getOrInitializeService({instanceIdentifier:ge,options:fe={}}){let pe=this.instances.get(ge);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=ge,Ve===Se?void 0:Ve),options:fe}),this.instances.set(ge,pe),this.instancesOptions.set(ge,fe),this.invokeOnInitCallbacks(pe,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,pe)}catch(ke){}var Ve;return pe||null}normalizeInstanceIdentifier(ge=Se){return this.component?this.component.multipleInstances?ge:Se:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const fe=this.getProvider(ge.name);if(fe.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);fe.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const fe=new Me(ge,this);return this.providers.set(ge,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(cn,gt,$)=>{"use strict";$.d(gt,{Am:()=>Ve,Ub:()=>Ae,Yd:()=>de,in:()=>te});const a=[];var te=(()=>{return(ge=te||(te={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",te;var ge})();const z={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Se=te.INFO,Me={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Te=(ge,fe,...pe)=>{if(fe<ge.logLevel)return;const ke=(new Date).toISOString(),Ue=Me[fe];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Ue](`[${ke}]  ${ge.name}:`,...pe)};class de{constructor(fe){this.name=fe,this._logLevel=Se,this._logHandler=Te,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in te))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?z[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...fe),this._logHandler(this,te.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...fe),this._logHandler(this,te.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,te.INFO,...fe),this._logHandler(this,te.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,te.WARN,...fe),this._logHandler(this,te.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...fe),this._logHandler(this,te.ERROR,...fe)}}function Ae(ge){a.forEach(fe=>{fe.setLogLevel(ge)})}function Ve(ge,fe){for(const pe of a){let ke=null;fe&&fe.level&&(ke=z[fe.level]),pe.userLogHandler=null===ge?null:(Ue,lt,...St)=>{const Re=St.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(le){return null}}).filter(_e=>_e).join(" ");lt>=(null!=ke?ke:Ue.logLevel)&&ge({level:te[lt].toLowerCase(),message:Re,args:St,type:Ue.name})}}}},259:(cn,gt,$)=>{"use strict";$.d(gt,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=$(9681);(0,a.registerVersion)("firebase","9.17.2","app")},9260:(cn,gt,$)=>{"use strict";$.d(gt,{Z:()=>a.Z});var a=$(3942);a.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(cn,gt,$)=>{"use strict";$.r(gt);var a=$(5861),te=$(3942),z=$(2090),Se=$(9681),Me=$(1877),Te=$(655),de=$(4859);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pe_EMAIL_SIGNIN="EMAIL_SIGNIN",pe_PASSWORD_RESET="PASSWORD_RESET",pe_RECOVER_EMAIL="RECOVER_EMAIL",pe_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",pe_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",pe_VERIFY_EMAIL="VERIFY_EMAIL";const lt=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},St=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),le=new Me.Yd("@firebase/auth");function at(b,...g){le.logLevel<=Me.in.ERROR&&le.error(`Auth (${Se.SDK_VERSION}): ${b}`,...g)}function ot(b,...g){throw Oe(b,...g)}function et(b,...g){return Oe(b,...g)}function Qe(b,g,E){const A=Object.assign(Object.assign({},St()),{[g]:E});return new z.LL("auth","Firebase",A).create(g,{appName:b.name})}function Pe(b,g,E){if(!(g instanceof E))throw E.name!==g.constructor.name&&ot(b,"argument-error"),Qe(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(b,...g){if("string"!=typeof b){const E=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(E,...A)}return Re.create(b,...g)}function J(b,g,...E){if(!b)throw Oe(g,...E)}function Xe(b){const g="INTERNAL ASSERTION FAILED: "+b;throw at(g),new Error(g)}function Fe(b,g){b||Xe(g)}const Ge=new Map;function Ke(b){Fe(b instanceof Function,"Expected a class definition");let g=Ge.get(b);return g?(Fe(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Ge.set(b,g),g)}function pt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function tt(){return"http:"===we()||"https:"===we()}function we(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Je{constructor(g,E){this.shortDelay=g,this.longDelay=E,Fe(E>g,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Ee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function W(b,g){Fe(b.emulator,"Emulator should always be set here");const{url:E}=b.emulator;return g?`${E}${g.startsWith("/")?g.slice(1):g}`:E}class nt{static initialize(g,E,A){this.fetchImpl=g,E&&(this.headersImpl=E),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nt=new Je(3e4,6e4);function xt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Pt(b,g,E,A){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(b,g,E,A,q={}){return Rt(b,q,(0,a.Z)(function*(){let ae={},ft={};A&&("GET"===g?ft=A:ae={body:JSON.stringify(A)});const jt=(0,z.xO)(Object.assign({key:b.config.apiKey},ft)).slice(1),wn=yield b._getAdditionalHeaders();return wn["Content-Type"]="application/json",b.languageCode&&(wn["X-Firebase-Locale"]=b.languageCode),nt.fetch()(on(b,b.config.apiHost,E,jt),Object.assign({method:g,headers:wn,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function Rt(b,g,E){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(b,g,E){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},ze),g);try{const q=new ar(b),ae=yield Promise.race([E(),q.promise]);q.clearNetworkTimeout();const ft=yield ae.json();if("needConfirmation"in ft)throw wr(b,"account-exists-with-different-credential",ft);if(ae.ok&&!("errorMessage"in ft))return ft;{const jt=ae.ok?ft.errorMessage:ft.error.message,[wn,$n]=jt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wn)throw wr(b,"credential-already-in-use",ft);if("EMAIL_EXISTS"===wn)throw wr(b,"email-already-in-use",ft);if("USER_DISABLED"===wn)throw wr(b,"user-disabled",ft);const Ir=A[wn]||wn.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw Qe(b,Ir,$n);ot(b,Ir)}}catch(q){if(q instanceof z.ZR)throw q;ot(b,"internal-error",{message:String(q)})}})).apply(this,arguments)}function Sn(b,g,E,A){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.Z)(function*(b,g,E,A,q={}){const ae=yield Pt(b,g,E,A,q);return"mfaPendingCredential"in ae&&ot(b,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function on(b,g,E,A){const q=`${g}${E}?${A}`;return b.config.emulator?W(b.config,q):`${b.config.apiScheme}://${q}`}class ar{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((E,A)=>{this.timer=setTimeout(()=>A(et(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(b,g,E){const A={appName:b.name};E.email&&(A.email=E.email),E.phoneNumber&&(A.phoneNumber=E.phoneNumber);const q=et(b,g,A);return q.customData._tokenResponse=E,q}function Cn(){return(Cn=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pr(){return(Pr=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function $r(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Pn(){return(Pn=(0,a.Z)(function*(b,g=!1){const E=(0,z.m9)(b),A=yield E.getIdToken(g),q=bn(A);J(q&&q.exp&&q.auth_time&&q.iat,E.auth,"internal-error");const ae="object"==typeof q.firebase?q.firebase:void 0,ft=null==ae?void 0:ae.sign_in_provider;return{claims:q,token:A,authTime:$r(vn(q.auth_time)),issuedAtTime:$r(vn(q.iat)),expirationTime:$r(vn(q.exp)),signInProvider:ft||null,signInSecondFactor:(null==ae?void 0:ae.sign_in_second_factor)||null}})).apply(this,arguments)}function vn(b){return 1e3*Number(b)}function bn(b){const[g,E,A]=b.split(".");if(void 0===g||void 0===E||void 0===A)return at("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,z.tV)(E);return q?JSON.parse(q):(at("Failed to decode base64 JWT payload"),null)}catch(q){return at("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function pn(b,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(b,g,E=!1){if(E)return g;try{return yield g}catch(A){throw A instanceof z.ZR&&function Gt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class ii{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var E;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(g=!1){var E=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield E.iteration()}),A)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null==E?void 0:E.code)&&g.schedule(!0))}g.schedule()})()}}class Ni{constructor(g,E){this.createdAt=g,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=$r(this.lastLoginAt),this.creationTime=$r(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cr(b){return _r.apply(this,arguments)}function _r(){return _r=(0,a.Z)(function*(b){var g;const E=b.auth,A=yield b.getIdToken(),q=yield pn(b,function dr(b,g){return Pr.apply(this,arguments)}(E,{idToken:A}));J(null==q?void 0:q.users.length,E,"internal-error");const ae=q.users[0];b._notifyReloadListener(ae);const ft=null!==(g=ae.providerUserInfo)&&void 0!==g&&g.length?function an(b){return b.map(g=>{var{providerId:E}=g,A=(0,Te._T)(g,["providerId"]);return{providerId:E,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(ae.providerUserInfo):[],jt=function hi(b,g){return[...b.filter(A=>!g.some(q=>q.providerId===A.providerId)),...g]}(b.providerData,ft),Ir=!!b.isAnonymous&&!(b.email&&ae.passwordHash||null!=jt&&jt.length),mr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:jt,metadata:new Ni(ae.createdAt,ae.lastLoginAt),isAnonymous:Ir};Object.assign(b,mr)}),_r.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(b){const g=(0,z.m9)(b);yield Cr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(b,g){const E=yield Rt(b,{},(0,a.Z)(function*(){const A=(0,z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:q,apiKey:ae}=b.config,ft=on(b,q,"/v1/token",`key=${ae}`),jt=yield b._getAdditionalHeaders();return jt["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(ft,{method:"POST",headers:jt,body:A})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){J(g.idToken,"internal-error"),J(typeof g.idToken<"u","internal-error"),J(typeof g.refreshToken<"u","internal-error");const E="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ri(b){const g=bn(b);return J(g,"internal-error"),J(typeof g.exp<"u","internal-error"),J(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,E)}getToken(g,E=!1){var A=this;return(0,a.Z)(function*(){return J(!A.accessToken||A.refreshToken,g,"user-token-expired"),E||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,E){var A=this;return(0,a.Z)(function*(){const{accessToken:q,refreshToken:ae,expiresIn:ft}=yield function $t(b,g){return yn.apply(this,arguments)}(g,E);A.updateTokensAndExpiration(q,ae,Number(ft))})()}updateTokensAndExpiration(g,E,A){this.refreshToken=E||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,E){const{refreshToken:A,accessToken:q,expirationTime:ae}=E,ft=new Nn;return A&&(J("string"==typeof A,"internal-error",{appName:g}),ft.refreshToken=A),q&&(J("string"==typeof q,"internal-error",{appName:g}),ft.accessToken=q),ae&&(J("number"==typeof ae,"internal-error",{appName:g}),ft.expirationTime=ae),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Nn,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function Ln(b,g){J("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Rn{constructor(g){var{uid:E,auth:A,stsTokenManager:q}=g,ae=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new Ni(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(g){var E=this;return(0,a.Z)(function*(){const A=yield pn(E,E.stsTokenManager.getToken(E.auth,g));return J(A,E.auth,"internal-error"),E.accessToken!==A&&(E.accessToken=A,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),A})()}getIdTokenResult(g){return function qn(b){return Pn.apply(this,arguments)}(this,g)}reload(){return function ir(b){return jn.apply(this,arguments)}(this)}_assign(g){this!==g&&(J(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(E=>Object.assign({},E)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Rn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,E=!1){var A=this;return(0,a.Z)(function*(){let q=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),q=!0),E&&(yield Cr(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,a.Z)(function*(){const E=yield g.getIdToken();return yield pn(g,function Sr(b,g){return Cn.apply(this,arguments)}(g.auth,{idToken:E})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,E){var A,q,ae,ft,jt,wn,$n,Ir;const mr=null!==(A=E.displayName)&&void 0!==A?A:void 0,qs=null!==(q=E.email)&&void 0!==q?q:void 0,Ta=null!==(ae=E.phoneNumber)&&void 0!==ae?ae:void 0,hu=null!==(ft=E.photoURL)&&void 0!==ft?ft:void 0,pl=null!==(jt=E.tenantId)&&void 0!==jt?jt:void 0,Hl=null!==(wn=E._redirectEventId)&&void 0!==wn?wn:void 0,dd=null!==($n=E.createdAt)&&void 0!==$n?$n:void 0,hd=null!==(Ir=E.lastLoginAt)&&void 0!==Ir?Ir:void 0,{uid:Nc,emailVerified:Gl,isAnonymous:Fu,providerData:Sa,stsTokenManager:kc}=E;J(Nc&&kc,g,"internal-error");const Lu=Nn.fromJSON(this.name,kc);J("string"==typeof Nc,g,"internal-error"),Ln(mr,g.name),Ln(qs,g.name),J("boolean"==typeof Gl,g,"internal-error"),J("boolean"==typeof Fu,g,"internal-error"),Ln(Ta,g.name),Ln(hu,g.name),Ln(pl,g.name),Ln(Hl,g.name),Ln(dd,g.name),Ln(hd,g.name);const So=new Rn({uid:Nc,auth:g,email:qs,emailVerified:Gl,displayName:mr,isAnonymous:Fu,photoURL:hu,phoneNumber:Ta,tenantId:pl,stsTokenManager:Lu,createdAt:dd,lastLoginAt:hd});return Sa&&Array.isArray(Sa)&&(So.providerData=Sa.map(Tf=>Object.assign({},Tf))),Hl&&(So._redirectEventId=Hl),So}static _fromIdTokenResponse(g,E,A=!1){return(0,a.Z)(function*(){const q=new Nn;q.updateFromServerResponse(E);const ae=new Rn({uid:E.localId,auth:g,stsTokenManager:q,isAnonymous:A});return yield Cr(ae),ae})()}}const xe=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(E,A){var q=this;return(0,a.Z)(function*(){q.storage[E]=A})()}_get(E){var A=this;return(0,a.Z)(function*(){const q=A.storage[E];return void 0===q?null:q})()}_remove(E){var A=this;return(0,a.Z)(function*(){delete A.storage[E]})()}_addListener(E,A){}_removeListener(E,A){}}return b.type="NONE",b})();function Ie(b,g,E){return`firebase:${b}:${g}:${E}`}class We{constructor(g,E,A){this.persistence=g,this.auth=E,this.userKey=A;const{config:q,name:ae}=this.auth;this.fullUserKey=Ie(this.userKey,q.apiKey,ae),this.fullPersistenceKey=Ie("persistence",q.apiKey,ae),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const E=yield g.persistence._get(g.fullUserKey);return E?Rn._fromJSON(g.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var E=this;return(0,a.Z)(function*(){if(E.persistence===g)return;const A=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=g,A?E.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,E,A="authUser"){return(0,a.Z)(function*(){if(!E.length)return new We(Ke(xe),g,A);const q=(yield Promise.all(E.map(function(){var $n=(0,a.Z)(function*(Ir){if(yield Ir._isAvailable())return Ir});return function(Ir){return $n.apply(this,arguments)}}()))).filter($n=>$n);let ae=q[0]||Ke(xe);const ft=Ie(A,g.config.apiKey,g.name);let jt=null;for(const $n of E)try{const Ir=yield $n._get(ft);if(Ir){const mr=Rn._fromJSON(g,Ir);$n!==ae&&(jt=mr),ae=$n;break}}catch(Ir){}const wn=q.filter($n=>$n._shouldAllowMigration);return ae._shouldAllowMigration&&wn.length?(ae=wn[0],jt&&(yield ae._set(ft,jt.toJSON())),yield Promise.all(E.map(function(){var $n=(0,a.Z)(function*(Ir){if(Ir!==ae)try{yield Ir._remove(ft)}catch(mr){}});return function(Ir){return $n.apply(this,arguments)}}())),new We(ae,g,A)):new We(ae,g,A)})()}}function Mt(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Be(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(yt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(vt(g))return"Blackberry";if(Ot(g))return"Webos";if(hn(g))return"Safari";if((g.includes("chrome/")||Le(g))&&!g.includes("edge/"))return"Chrome";if(me(g))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function yt(b=(0,z.z$)()){return/firefox\//i.test(b)}function hn(b=(0,z.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Le(b=(0,z.z$)()){return/crios\//i.test(b)}function Be(b=(0,z.z$)()){return/iemobile/i.test(b)}function me(b=(0,z.z$)()){return/android/i.test(b)}function vt(b=(0,z.z$)()){return/blackberry/i.test(b)}function Ot(b=(0,z.z$)()){return/webos/i.test(b)}function Ht(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ci(b=(0,z.z$)()){return Ht(b)||me(b)||Ot(b)||vt(b)||/windows phone/i.test(b)||Be(b)}function Ki(b,g=[]){let E;switch(b){case"Browser":E=Mt((0,z.z$)());break;case"Worker":E=`${Mt((0,z.z$)())}-${b}`;break;default:E=b}const A=g.length?g.join(","):"FirebaseCore-web";return`${E}/JsCore/${Se.SDK_VERSION}/${A}`}class fi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,E){const A=ae=>new Promise((ft,jt)=>{try{ft(g(ae))}catch(wn){jt(wn)}});A.onAbort=E,this.queue.push(A);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(g){var E=this;return(0,a.Z)(function*(){if(E.auth.currentUser===g)return;const A=[];try{for(const q of E.queue)yield q(g),q.onAbort&&A.push(q.onAbort)}catch(q){A.reverse();for(const ae of A)try{ae()}catch(ft){}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}class Ei{constructor(g,E,A){this.app=g,this.heartbeatServiceProvider=E,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new is(this),this.idTokenSubscription=new is(this),this.beforeStateQueue=new fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,E){var A=this;return E&&(this._popupRedirectResolver=Ke(E)),this._initializationPromise=this.queue((0,a.Z)(function*(){var q,ae;if(!A._deleted&&(A.persistenceManager=yield We.create(A,g),!A._deleted)){if(null!==(q=A._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(ft){}yield A.initializeCurrentUser(E),A.lastNotifiedUid=(null===(ae=A.currentUser)||void 0===ae?void 0:ae.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const E=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||E){if(g.currentUser&&E&&g.currentUser.uid===E.uid)return g._currentUser._assign(E),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(E,!0)}})()}initializeCurrentUser(g){var E=this;return(0,a.Z)(function*(){var A;const q=yield E.assertedPersistence.getCurrentUser();let ae=q,ft=!1;if(g&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const jt=null===(A=E.redirectUser)||void 0===A?void 0:A._redirectEventId,wn=null==ae?void 0:ae._redirectEventId,$n=yield E.tryRedirectSignIn(g);(!jt||jt===wn)&&null!=$n&&$n.user&&(ae=$n.user,ft=!0)}if(!ae)return E.directlySetCurrentUser(null);if(!ae._redirectEventId){if(ft)try{yield E.beforeStateQueue.runMiddleware(ae)}catch(jt){ae=q,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(jt))}return ae?E.reloadAndSetCurrentUserOrClear(ae):E.directlySetCurrentUser(null)}return J(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===ae._redirectEventId?E.directlySetCurrentUser(ae):E.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(g){var E=this;return(0,a.Z)(function*(){let A=null;try{A=yield E._popupRedirectResolver._completeRedirectFn(E,g,!0)}catch(q){yield E._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var E=this;return(0,a.Z)(function*(){try{yield Cr(g)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var E=this;return(0,a.Z)(function*(){const A=g?(0,z.m9)(g):null;return A&&J(A.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(A&&A._clone(E))})()}_updateCurrentUser(g,E=!1){var A=this;return(0,a.Z)(function*(){if(!A._deleted)return g&&J(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),E||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,a.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var E=this;return this.queue((0,a.Z)(function*(){yield E.assertedPersistence.setPersistence(Ke(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new z.LL("auth","Firebase",g())}onAuthStateChanged(g,E,A){return this.registerStateListener(this.authStateSubscription,g,E,A)}beforeAuthStateChanged(g,E){return this.beforeStateQueue.pushCallback(g,E)}onIdTokenChanged(g,E,A){return this.registerStateListener(this.idTokenSubscription,g,E,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,E){var A=this;return(0,a.Z)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(E);return null===g?q.removeCurrentUser():q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var E=this;return(0,a.Z)(function*(){if(!E.redirectPersistenceManager){const A=g&&Ke(g)||E._popupRedirectResolver;J(A,E,"argument-error"),E.redirectPersistenceManager=yield We.create(E,[Ke(A._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(g){var E=this;return(0,a.Z)(function*(){var A,q;return E._isInitialized&&(yield E.queue((0,a.Z)(function*(){}))),(null===(A=E._currentUser)||void 0===A?void 0:A._redirectEventId)===g?E._currentUser:(null===(q=E.redirectUser)||void 0===q?void 0:q._redirectEventId)===g?E.redirectUser:null})()}_persistUserIfCurrent(g){var E=this;return(0,a.Z)(function*(){if(g===E.currentUser)return E.queue((0,a.Z)(function*(){return E.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(E=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,E,A,q){if(this._deleted)return()=>{};const ae="function"==typeof E?E:E.next.bind(E),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return J(ft,this,"internal-error"),ft.then(()=>ae(this.currentUser)),"function"==typeof E?g.addObserver(E,A,q):g.addObserver(E)}directlySetCurrentUser(g){var E=this;return(0,a.Z)(function*(){E.currentUser&&E.currentUser!==g&&E._currentUser._stopProactiveRefresh(),g&&E.isProactiveRefreshEnabled&&g._startProactiveRefresh(),E.currentUser=g,g?yield E.assertedPersistence.setCurrentUser(g):yield E.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var E;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const q=yield null===(E=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return q&&(A["X-Firebase-Client"]=q),A})()}}function xr(b){return(0,z.m9)(b)}class is{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,z.ne)(E=>this.observer=E)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zn(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Nr(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class si{constructor(g,E){this.providerId=g,this.signInMethod=E}toJSON(){return Xe("not implemented")}_getIdTokenResponse(g){return Xe("not implemented")}_linkToIdToken(g,E){return Xe("not implemented")}_getReauthenticationResolver(g){return Xe("not implemented")}}function Mr(b,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:resetPassword",xt(b,g))})).apply(this,arguments)}function Qn(b,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:update",xt(b,g))})).apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithPassword",xt(b,g))})).apply(this,arguments)}function zr(b,g){return ne.apply(this,arguments)}function ne(){return(ne=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:sendOobCode",xt(b,g))})).apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(b,g){return zr(b,g)})).apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(b,g){return zr(b,g)})).apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(b,g){return zr(b,g)})).apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(b,g){return zr(b,g)})).apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithEmailLink",xt(b,g))})).apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithEmailLink",xt(b,g))})).apply(this,arguments)}class Kn extends si{constructor(g,E,A,q=null){super("password",A),this._email=g,this._password=E,this._tenantId=q}static _fromEmailAndPassword(g,E){return new Kn(g,E,"password")}static _fromEmailAndCode(g,E,A=null){return new Kn(g,E,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const E="string"==typeof g?JSON.parse(g):g;if(null!=E&&E.email&&null!=E&&E.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(g){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return function di(b,g){return xi.apply(this,arguments)}(g,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ft(b,g){return nn.apply(this,arguments)}(g,{email:E._email,oobCode:E._password});default:ot(g,"internal-error")}})()}_linkToIdToken(g,E){var A=this;return(0,a.Z)(function*(){switch(A.signInMethod){case"password":return Qn(g,{idToken:E,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Dn(b,g){return Bn.apply(this,arguments)}(g,{idToken:E,email:A._email,oobCode:A._password});default:ot(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function yi(b,g){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithIdp",xt(b,g))})).apply(this,arguments)}class mt extends si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const E=new mt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(E.idToken=g.idToken),g.accessToken&&(E.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(E.nonce=g.nonce),g.pendingToken&&(E.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(E.accessToken=g.oauthToken,E.secret=g.oauthTokenSecret):ot("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const E="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:q}=E,ae=(0,Te._T)(E,["providerId","signInMethod"]);if(!A||!q)return null;const ft=new mt(A,q);return ft.idToken=ae.idToken||void 0,ft.accessToken=ae.accessToken||void 0,ft.secret=ae.secret,ft.nonce=ae.nonce,ft.pendingToken=ae.pendingToken||null,ft}_getIdTokenResponse(g){return yi(g,this.buildRequest())}_linkToIdToken(g,E){const A=this.buildRequest();return A.idToken=E,yi(g,A)}_getReauthenticationResolver(g){const E=this.buildRequest();return E.autoCreate=!1,yi(g,E)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),g.postBody=(0,z.xO)(E)}return g}}function rn(){return(rn=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:sendVerificationCode",xt(b,g))})).apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithPhoneNumber",xt(b,g))})).apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(b,g){const E=yield Sn(b,"POST","/v1/accounts:signInWithPhoneNumber",xt(b,g));if(E.temporaryProof)throw wr(b,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const ls={USER_NOT_FOUND:"user-not-found"};function Mi(){return(Mi=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithPhoneNumber",xt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ls)})).apply(this,arguments)}class ji extends si{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,E){return new ji({verificationId:g,verificationCode:E})}static _fromTokenResponse(g,E){return new ji({phoneNumber:g,temporaryProof:E})}_getIdTokenResponse(g){return function En(b,g){return sr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,E){return function kr(b,g){return vr.apply(this,arguments)}(g,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ts(b,g){return Mi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:E,verificationId:A,verificationCode:q}=this.params;return g&&E?{temporaryProof:g,phoneNumber:E}:{sessionInfo:A,code:q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:E,verificationCode:A,phoneNumber:q,temporaryProof:ae}=g;return A||E||q||ae?new ji({verificationId:E,verificationCode:A,phoneNumber:q,temporaryProof:ae}):null}}class Qs{constructor(g){var E,A,q,ae,ft,jt;const wn=(0,z.zd)((0,z.pd)(g)),$n=null!==(E=wn.apiKey)&&void 0!==E?E:null,Ir=null!==(A=wn.oobCode)&&void 0!==A?A:null,mr=function Ho(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=wn.mode)&&void 0!==q?q:null);J($n&&Ir&&mr,"argument-error"),this.apiKey=$n,this.operation=mr,this.code=Ir,this.continueUrl=null!==(ae=wn.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(ft=wn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(jt=wn.tenantId)&&void 0!==jt?jt:null}static parseLink(g){const E=function Co(b){const g=(0,z.zd)((0,z.pd)(b)).link,E=g?(0,z.zd)((0,z.pd)(g)).deep_link_id:null,A=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(A?(0,z.zd)((0,z.pd)(A)).link:null)||A||E||g||b}(g);try{return new Qs(E)}catch(A){return null}}}let Fr=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(E,A){return Kn._fromEmailAndPassword(E,A)}static credentialWithLink(E,A){const q=Qs.parseLink(A);return J(q,"argument-error"),Kn._fromEmailAndCode(E,q.code,q.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class or{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class bi extends or{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class br extends bi{static credentialFromJSON(g){const E="string"==typeof g?JSON.parse(g):g;return J("providerId"in E&&"signInMethod"in E,"argument-error"),mt._fromParams(E)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return J(g.idToken||g.accessToken,"argument-error"),mt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return br.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return br.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A,oauthTokenSecret:q,pendingToken:ae,nonce:ft,providerId:jt}=g;if(!A&&!q&&!E&&!ae||!jt)return null;try{return new br(jt)._credential({idToken:E,accessToken:A,nonce:ft,pendingToken:ae})}catch(wn){return null}}}let Xs=(()=>{class b extends bi{constructor(){super("facebook.com")}static credential(E){return mt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return b.credential(E.oauthAccessToken)}catch(A){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Go=(()=>{class b extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(E,A){return mt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:A})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:A,oauthAccessToken:q}=E;if(!A&&!q)return null;try{return b.credential(A,q)}catch(ae){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ps=(()=>{class b extends bi{constructor(){super("github.com")}static credential(E){return mt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return b.credential(E.oauthAccessToken)}catch(A){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Gr extends si{constructor(g,E){super(g,g),this.pendingToken=E}_getIdTokenResponse(g){return yi(g,this.buildRequest())}_linkToIdToken(g,E){const A=this.buildRequest();return A.idToken=E,yi(g,A)}_getReauthenticationResolver(g){const E=this.buildRequest();return E.autoCreate=!1,yi(g,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const E="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:q,pendingToken:ae}=E;return A&&q&&ae&&A===q?new Gr(A,ae):null}static _create(g,E){return new Gr(g,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oi extends or{constructor(g){J(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return oi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return oi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const E=Gr.fromJSON(g);return J(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:E,providerId:A}=g;if(!E||!A)return null;try{return Gr._create(A,E)}catch(q){return null}}}let ga=(()=>{class b extends bi{constructor(){super("twitter.com")}static credential(E,A){return mt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:A})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:A,oauthTokenSecret:q}=E;if(!A||!q)return null;try{return b.credential(A,q)}catch(ae){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function js(b,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signUp",xt(b,g))})).apply(this,arguments)}class Ri{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,E,A,q=!1){return(0,a.Z)(function*(){const ae=yield Rn._fromIdTokenResponse(g,A,q),ft=us(A);return new Ri({user:ae,providerId:ft,_tokenResponse:A,operationType:E})})()}static _forOperation(g,E,A){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const q=us(A);return new Ri({user:g,providerId:q,_tokenResponse:A,operationType:E})})()}}function us(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ns(){return(ns=(0,a.Z)(function*(b){var g;const E=xr(b);if(yield E._initializationPromise,null!==(g=E.currentUser)&&void 0!==g&&g.isAnonymous)return new Ri({user:E.currentUser,providerId:null,operationType:"signIn"});const A=yield js(E,{returnSecureToken:!0}),q=yield Ri._fromIdTokenResponse(E,"signIn",A,!0);return yield E._updateCurrentUser(q.user),q})).apply(this,arguments)}class Cs extends z.ZR{constructor(g,E,A,q){var ae;super(E.code,E.message),this.operationType=A,this.user=q,Object.setPrototypeOf(this,Cs.prototype),this.customData={appName:g.name,tenantId:null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:E.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,E,A,q){return new Cs(g,E,A,q)}}function Wr(b,g,E,A){return("reauthenticate"===g?E._getReauthenticationResolver(b):E._getIdTokenResponse(b)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Cs._fromErrorAndOperation(b,ae,g,A):ae})}function Fi(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function bs(){return bs=(0,a.Z)(function*(b,g){const E=(0,z.m9)(b);yield Ds(!0,E,g);const{providerUserInfo:A}=yield function lr(b,g){return Yt.apply(this,arguments)}(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[g]}),q=Fi(A||[]);return E.providerData=E.providerData.filter(ae=>q.has(ae.providerId)),q.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E}),bs.apply(this,arguments)}function so(b,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,a.Z)(function*(b,g,E=!1){const A=yield pn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),E);return Ri._forOperation(b,"link",A)})).apply(this,arguments)}function Ds(b,g,E){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(b,g,E){yield Cr(g);const q=!1===b?"provider-already-linked":"no-such-provider";J(Fi(g.providerData).has(E)===b,g.auth,q)})).apply(this,arguments)}function Ss(b,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(b,g,E=!1){const{auth:A}=b,q="reauthenticate";try{const ae=yield pn(b,Wr(A,q,g,b),E);J(ae.idToken,A,"internal-error");const ft=bn(ae.idToken);J(ft,A,"internal-error");const{sub:jt}=ft;return J(b.uid===jt,A,"user-mismatch"),Ri._forOperation(b,q,ae)}catch(ae){throw"auth/user-not-found"===(null==ae?void 0:ae.code)&&ot(A,"user-mismatch"),ae}})).apply(this,arguments)}function ss(b,g){return ms.apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(b,g,E=!1){const A="signIn",q=yield Wr(b,A,g),ae=yield Ri._fromIdTokenResponse(b,A,q);return E||(yield b._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Dr(b,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(b,g){return ss(xr(b),g)})).apply(this,arguments)}function As(b,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(b,g){const E=(0,z.m9)(b);return yield Ds(!1,E,g.providerId),so(E,g)})).apply(this,arguments)}function Jo(b,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(b,g){return Ss((0,z.m9)(b),g)})).apply(this,arguments)}function Oi(){return(Oi=(0,a.Z)(function*(b,g){return Sn(b,"POST","/v1/accounts:signInWithCustomToken",xt(b,g))})).apply(this,arguments)}function oo(){return oo=(0,a.Z)(function*(b,g){const E=xr(b),A=yield function xs(b,g){return Oi.apply(this,arguments)}(E,{token:g,returnSecureToken:!0}),q=yield Ri._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(q.user),q}),oo.apply(this,arguments)}class Hs{constructor(g,E){this.factorId=g,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(g,E){return"phoneInfo"in E?Di._fromServerResponse(g,E):ot(g,"internal-error")}}class Di extends Hs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,E){return new Di(E)}}function Oo(b,g,E){var A;J((null===(A=E.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),J(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=E.url,g.dynamicLinkDomain=E.dynamicLinkDomain,g.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(J(E.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=E.iOS.bundleId),E.android&&(J(E.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=E.android.installApp,g.androidMinimumVersionCode=E.android.minimumVersion,g.androidPackageName=E.android.packageName)}function nr(){return nr=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b),q={requestType:"PASSWORD_RESET",email:g};E&&Oo(A,q,E),yield function ut(b,g){return bt.apply(this,arguments)}(A,q)}),nr.apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(b,g,E){yield Mr((0,z.m9)(b),{oobCode:g,newPassword:E})})).apply(this,arguments)}function ta(){return ta=(0,a.Z)(function*(b,g){yield function Jr(b,g){return Ai.apply(this,arguments)}((0,z.m9)(b),{oobCode:g})}),ta.apply(this,arguments)}function Zr(b,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(b,g){const E=(0,z.m9)(b),A=yield Mr(E,{oobCode:g}),q=A.requestType;switch(J(q,E,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(A.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(A.mfaInfo,E,"internal-error");default:J(A.email,E,"internal-error")}let ae=null;return A.mfaInfo&&(ae=Hs._fromServerResponse(xr(E),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ae},operation:q}})).apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(b,g){const{data:E}=yield Zr((0,z.m9)(b),g);return E.email})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(b,g,E){const A=xr(b),q=yield js(A,{returnSecureToken:!0,email:g,password:E}),ae=yield Ri._fromIdTokenResponse(A,"signIn",q);return yield A._updateCurrentUser(ae.user),ae})).apply(this,arguments)}function I(){return I=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b),q={requestType:"EMAIL_SIGNIN",email:g};J(E.handleCodeInApp,A,"argument-error"),E&&Oo(A,q,E),yield function ce(b,g){return Ye.apply(this,arguments)}(A,q)}),I.apply(this,arguments)}function Q(){return(Q=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b),q=Fr.credentialWithLink(g,E||pt());return J(q._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Dr(A,q)})).apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:createAuthUri",xt(b,g))})).apply(this,arguments)}function Gn(){return Gn=(0,a.Z)(function*(b,g){const A={identifier:g,continueUri:tt()?pt():"http://localhost"},{signinMethods:q}=yield function st(b,g){return en.apply(this,arguments)}((0,z.m9)(b),A);return q||[]}),Gn.apply(this,arguments)}function Wn(){return Wn=(0,a.Z)(function*(b,g){const E=(0,z.m9)(b),q={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Oo(E.auth,q,g);const{email:ae}=yield function he(b,g){return Ne.apply(this,arguments)}(E.auth,q);ae!==b.email&&(yield b.reload())}),Wn.apply(this,arguments)}function Bi(){return Bi=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};E&&Oo(A.auth,ae,E);const{email:ft}=yield function dt(b,g){return wt.apply(this,arguments)}(A.auth,ae);ft!==b.email&&(yield b.reload())}),Bi.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(b,g){return Pt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function uo(){return uo=(0,a.Z)(function*(b,{displayName:g,photoURL:E}){if(void 0===g&&void 0===E)return;const A=(0,z.m9)(b),ae={idToken:yield A.getIdToken(),displayName:g,photoUrl:E,returnSecureToken:!0},ft=yield pn(A,function Gi(b,g){return ai.apply(this,arguments)}(A.auth,ae));A.displayName=ft.displayName||null,A.photoURL=ft.photoUrl||null;const jt=A.providerData.find(({providerId:wn})=>"password"===wn);jt&&(jt.displayName=A.displayName,jt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ft)}),uo.apply(this,arguments)}function ma(b,g,E){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(b,g,E){const{auth:A}=b,ae={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(ae.email=g),E&&(ae.password=E);const ft=yield pn(b,Qn(A,ae));yield b._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class Fs{constructor(g,E,A={}){this.isNewUser=g,this.providerId=E,this.profile=A}}class ja extends Fs{constructor(g,E,A,q){super(g,E,A),this.username=q}}class Ha extends Fs{constructor(g,E){super(g,"facebook.com",E)}}class co extends ja{constructor(g,E){super(g,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class tl extends Fs{constructor(g,E){super(g,"google.com",E)}}class Ga extends ja{constructor(g,E,A){super(g,"twitter.com",E,A)}}function ya(b){const{user:g,_tokenResponse:E}=b;return g.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Ua(b){var g,E;if(!b)return null;const{providerId:A}=b,q=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ae=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&null!=b&&b.idToken){const ft=null===(E=null===(g=bn(b.idToken))||void 0===g?void 0:g.firebase)||void 0===E?void 0:E.sign_in_provider;if(ft)return new Fs(ae,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!A)return null;switch(A){case"facebook.com":return new Ha(ae,q);case"github.com":return new co(ae,q);case"google.com":return new tl(ae,q);case"twitter.com":return new Ga(ae,q,b.screenName||null);case"custom":case"anonymous":return new Fs(ae,null);default:return new Fs(ae,A,q)}}(E)}class va{constructor(g,E,A){this.type=g,this.credential=E,this.auth=A}static _fromIdtoken(g,E){return new va("enroll",g,E)}static _fromMfaPendingCredential(g){return new va("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var E,A;if(null!=g&&g.multiFactorSession){if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.pendingCredential)return va._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return va._fromIdtoken(g.multiFactorSession.idToken)}return null}}class nl{constructor(g,E,A){this.session=g,this.hints=E,this.signInResolver=A}static _fromError(g,E){const A=xr(g),q=E.customData._serverResponse,ae=(q.mfaInfo||[]).map(jt=>Hs._fromServerResponse(A,jt));J(q.mfaPendingCredential,A,"internal-error");const ft=va._fromMfaPendingCredential(q.mfaPendingCredential);return new nl(ft,ae,function(){var jt=(0,a.Z)(function*(wn){const $n=yield wn._process(A,ft);delete q.mfaInfo,delete q.mfaPendingCredential;const Ir=Object.assign(Object.assign({},q),{idToken:$n.idToken,refreshToken:$n.refreshToken});switch(E.operationType){case"signIn":const mr=yield Ri._fromIdTokenResponse(A,E.operationType,Ir);return yield A._updateCurrentUser(mr.user),mr;case"reauthenticate":return J(E.user,A,"internal-error"),Ri._forOperation(E.user,E.operationType,Ir);default:ot(A,"internal-error")}});return function(wn){return jt.apply(this,arguments)}}())}resolveSignIn(g){var E=this;return(0,a.Z)(function*(){return E.signInResolver(g)})()}}class oa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(A=>Hs._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new oa(g)}getSession(){var g=this;return(0,a.Z)(function*(){return va._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,E){var A=this;return(0,a.Z)(function*(){const q=g,ae=yield A.getSession(),ft=yield pn(A.user,q._process(A.user.auth,ae,E));return yield A.user._updateTokensIfNecessary(ft),A.user.reload()})()}unenroll(g){var E=this;return(0,a.Z)(function*(){const A="string"==typeof g?g:g.uid,q=yield E.user.getIdToken();try{const ae=yield pn(E.user,function sa(b,g){return Pt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",xt(b,g))}(E.user.auth,{idToken:q,mfaEnrollmentId:A}));E.enrolledFactors=E.enrolledFactors.filter(({uid:ft})=>ft!==A),yield E.user._updateTokensIfNecessary(ae),yield E.user.reload()}catch(ae){throw ae}})()}}const No=new WeakMap,N="__sak";class K{constructor(g,E){this.storageRetriever=g,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(N,"1"),this.storage.removeItem(N),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,E){return this.storage.setItem(g,JSON.stringify(E)),Promise.resolve()}_get(g){const E=this.storage.getItem(g);return Promise.resolve(E?JSON.parse(E):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vt=(()=>{class b extends K{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,A)=>this.onStorageEvent(E,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function B(){const b=(0,z.z$)();return hn(b)||Ht(b)}()&&function ki(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Ci(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),ae=this.localCache[A];q!==ae&&E(A,ae,q)}}onStorageEvent(E,A=!1){if(!E.key)return void this.forAllChangedKeys((jt,wn,$n)=>{this.notifyListeners(jt,$n)});const q=E.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const jt=this.storage.getItem(q);if(E.newValue!==jt)null!==E.newValue?this.storage.setItem(q,E.newValue):this.storage.removeItem(q);else if(this.localCache[q]===E.newValue&&!A)return}const ae=()=>{const jt=this.storage.getItem(q);!A&&this.localCache[q]===jt||this.notifyListeners(q,jt)},ft=this.storage.getItem(q);!function pr(){return(0,z.w1)()&&10===document.documentMode}()||ft===E.newValue||E.newValue===E.oldValue?ae():setTimeout(ae,10)}notifyListeners(E,A){this.localCache[E]=A;const q=this.listeners[E];if(q)for(const ae of Array.from(q))ae(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(A)}_removeListener(E,A){this.listeners[E]&&(this.listeners[E].delete(A),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,A){var q=()=>super._set,ae=this;return(0,a.Z)(function*(){yield q().call(ae,E,A),ae.localCache[E]=JSON.stringify(A)})()}_get(E){var A=()=>super._get,q=this;return(0,a.Z)(function*(){const ae=yield A().call(q,E);return q.localCache[E]=JSON.stringify(ae),ae})()}_remove(E){var A=()=>super._remove,q=this;return(0,a.Z)(function*(){yield A().call(q,E),delete q.localCache[E]})()}}return b.type="LOCAL",b})(),Tr=(()=>{class b extends K{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,A){}_removeListener(E,A){}}return b.type="SESSION",b})();let tr=(()=>{class b{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const A=this.receivers.find(ae=>ae.isListeningto(E));if(A)return A;const q=new b(E);return this.receivers.push(q),q}isListeningto(E){return this.eventTarget===E}handleEvent(E){var A=this;return(0,a.Z)(function*(){const q=E,{eventId:ae,eventType:ft,data:jt}=q.data,wn=A.handlersMap[ft];if(null==wn||!wn.size)return;q.ports[0].postMessage({status:"ack",eventId:ae,eventType:ft});const $n=Array.from(wn).map(function(){var mr=(0,a.Z)(function*(qs){return qs(q.origin,jt)});return function(qs){return mr.apply(this,arguments)}}()),Ir=yield function Bt(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(A){return{fulfilled:!1,reason:A}}});return function(E){return g.apply(this,arguments)}}()))}($n);q.ports[0].postMessage({status:"done",eventId:ae,eventType:ft,response:Ir})})()}_subscribe(E,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(A)}_unsubscribe(E,A){this.handlersMap[E]&&A&&this.handlersMap[E].delete(A),(!A||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Jn(b="",g=10){let E="";for(let A=0;A<g;A++)E+=Math.floor(10*Math.random());return b+E}class vi{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,E,A=50){var q=this;return(0,a.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let ft,jt;return new Promise((wn,$n)=>{const Ir=Jn("",20);ae.port1.start();const mr=setTimeout(()=>{$n(new Error("unsupported_event"))},A);jt={messageChannel:ae,onMessage(qs){const Ta=qs;if(Ta.data.eventId===Ir)switch(Ta.data.status){case"ack":clearTimeout(mr),ft=setTimeout(()=>{$n(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),wn(Ta.data.response);break;default:clearTimeout(mr),clearTimeout(ft),$n(new Error("invalid_response"))}}},q.handlers.add(jt),ae.port1.addEventListener("message",jt.onMessage),q.target.postMessage({eventType:g,eventId:Ir,data:E},[ae.port2])}).finally(()=>{jt&&q.removeMessageHandler(jt)})})()}}function qt(){return window}function Zi(){return typeof qt().WorkerGlobalScope<"u"&&"function"==typeof qt().importScripts}function Ct(){return(Ct=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Ms="firebaseLocalStorageDb",Do=1,fo="firebaseLocalStorage",vl="fbase_key";class po{constructor(g){this.request=g}toPromise(){return new Promise((g,E)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Ma(b,g){return b.transaction([fo],g?"readwrite":"readonly").objectStore(fo)}function Nl(){const b=indexedDB.open(Ms,Do);return new Promise((g,E)=>{b.addEventListener("error",()=>{E(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(fo,{keyPath:vl})}catch(q){E(q)}}),b.addEventListener("success",(0,a.Z)(function*(){const A=b.result;A.objectStoreNames.contains(fo)?g(A):(A.close(),yield function ys(){const b=indexedDB.deleteDatabase(Ms);return new po(b).toPromise()}(),g(yield Nl()))}))})}function Wa(b,g,E){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(b,g,E){const A=Ma(b,!0).put({[vl]:g,value:E});return new po(A).toPromise()})).apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(b,g){const E=Ma(b,!1).get(g),A=yield new po(E).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function la(b,g){const E=Ma(b,!0).delete(g);return new po(E).toPromise()}const Wo=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,a.Z)(function*(){return E.db||(E.db=yield Nl()),E.db})()}_withRetries(E){var A=this;return(0,a.Z)(function*(){let q=0;for(;;)try{const ae=yield A._openDb();return yield E(ae)}catch(ae){if(q++>3)throw ae;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,a.Z)(function*(){return Zi()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,a.Z)(function*(){E.receiver=tr._getInstance(function Ii(){return Zi()?self:null}()),E.receiver._subscribe("keyChanged",function(){var A=(0,a.Z)(function*(q,ae){return{keyProcessed:(yield E._poll()).includes(ae.key)}});return function(q,ae){return A.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var A=(0,a.Z)(function*(q,ae){return["keyChanged"]});return function(q,ae){return A.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,a.Z)(function*(){var A,q;if(E.activeServiceWorker=yield function un(){return Ct.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new vi(E.activeServiceWorker);const ae=yield E.sender._send("ping",{},800);ae&&null!==(A=ae[0])&&void 0!==A&&A.fulfilled&&null!==(q=ae[0])&&void 0!==q&&q.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var A=this;return(0,a.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function zt(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:E},A.serviceWorkerReceiverAvailable?800:50)}catch(q){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Nl();return yield Wa(E,N,"1"),yield la(E,N),!0}catch(E){}return!1})()}_withPendingWrite(E){var A=this;return(0,a.Z)(function*(){A.pendingWrites++;try{yield E()}finally{A.pendingWrites--}})()}_set(E,A){var q=this;return(0,a.Z)(function*(){return q._withPendingWrite((0,a.Z)(function*(){return yield q._withRetries(ae=>Wa(ae,E,A)),q.localCache[E]=A,q.notifyServiceWorker(E)}))})()}_get(E){var A=this;return(0,a.Z)(function*(){const q=yield A._withRetries(ae=>function rl(b,g){return gr.apply(this,arguments)}(ae,E));return A.localCache[E]=q,q})()}_remove(E){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(q=>la(q,E)),delete A.localCache[E],A.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,a.Z)(function*(){const A=yield E._withRetries(ft=>{const jt=Ma(ft,!1).getAll();return new po(jt).toPromise()});if(!A)return[];if(0!==E.pendingWrites)return[];const q=[],ae=new Set;for(const{fbase_key:ft,value:jt}of A)ae.add(ft),JSON.stringify(E.localCache[ft])!==JSON.stringify(jt)&&(E.notifyListeners(ft,jt),q.push(ft));for(const ft of Object.keys(E.localCache))E.localCache[ft]&&!ae.has(ft)&&(E.notifyListeners(ft,null),q.push(ft));return q})()}notifyListeners(E,A){this.localCache[E]=A;const q=this.listeners[E];if(q)for(const ae of Array.from(q))ae(A)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(A)}_removeListener(E,A){this.listeners[E]&&(this.listeners[E].delete(A),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function gn(){return(gn=(0,a.Z)(function*(b){return(yield Pt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wi(b){return new Promise((g,E)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=g,A.onerror=q=>{const ae=et("internal-error");ae.customData=q,E(ae)},A.type="text/javascript",A.charset="UTF-8",function El(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(A)})}function ko(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Ka=1e12;class _a{constructor(g){this.auth=g,this.counter=Ka,this._widgets=new Map}render(g,E){const A=this.counter;return this._widgets.set(A,new Zl(g,this.auth.name,E||{})),this.counter++,A}reset(g){var E;const A=g||Ka;null===(E=this._widgets.get(A))||void 0===E||E.delete(),this._widgets.delete(A)}getResponse(g){var E;return(null===(E=this._widgets.get(g||Ka))||void 0===E?void 0:E.getResponse())||""}execute(g){var E=this;return(0,a.Z)(function*(){var A;return null===(A=E._widgets.get(g||Ka))||void 0===A||A.execute(),""})()}}class Zl{constructor(g,E,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof g?document.getElementById(g):g;J(q,"argument-error",{appName:E}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ql(b){const g=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)g.push(E.charAt(Math.floor(Math.random()*E.length)));return g.join("")}(50);const{callback:g,"expired-callback":E}=this.params;if(g)try{g(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ws=ko("rcb"),ua=new Je(3e4,6e4);class Qi{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=qt().grecaptcha)||void 0===g||!g.render)}load(g,E=""){return J(function Ra(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(E),g,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(qt().grecaptcha):new Promise((A,q)=>{const ae=qt().setTimeout(()=>{q(et(g,"network-request-failed"))},ua.get());qt()[Ws]=()=>{qt().clearTimeout(ae),delete qt()[Ws];const jt=qt().grecaptcha;if(!jt)return void q(et(g,"internal-error"));const wn=jt.render;jt.render=($n,Ir)=>{const mr=wn($n,Ir);return this.counter++,mr},this.hostLanguage=E,A(jt)},Wi(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Ws,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(ae),q(et(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var E;return!(null===(E=qt().grecaptcha)||void 0===E||!E.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ia{load(g){return(0,a.Z)(function*(){return new _a(g)})()}clearedOneInstance(){}}const Dt="recaptcha",Xl={theme:"light",type:"image"};class Rs{constructor(g,E=Object.assign({},Xl),A){this.parameters=E,this.type=Dt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xr(A),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof g?document.getElementById(g):g;J(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ia:new Qi,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const E=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(E)||new Promise(ae=>{const ft=jt=>{jt&&(g.tokenChangeListeners.delete(ft),ae(jt))};g.tokenChangeListeners.add(ft),g.isInvisible&&A.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return E=>{if(this.tokenChangeListeners.forEach(A=>A(E)),"function"==typeof g)g(E);else if("string"==typeof g){const A=qt()[g];"function"==typeof A&&A(E)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let E=g.container;if(!g.isInvisible){const A=document.createElement("div");E.appendChild(A),E=A}g.widgetId=g.getAssertedRecaptcha().render(E,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){J(tt()&&!Zi(),g.auth,"internal-error"),yield function pi(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const E=yield function ci(b){return gn.apply(this,arguments)}(g.auth);J(E,g.auth,"internal-error"),g.parameters.sitekey=E})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ya{constructor(g,E){this.verificationId=g,this.onConfirmation=E}confirm(g){const E=ji._fromVerification(this.verificationId,g);return this.onConfirmation(E)}}function wu(){return(wu=(0,a.Z)(function*(b,g,E){const A=xr(b),q=yield Na(A,g,(0,z.m9)(E));return new Ya(q,ae=>Dr(A,ae))})).apply(this,arguments)}function il(){return(il=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b);yield Ds(!1,A,"phone");const q=yield Na(A.auth,g,(0,z.m9)(E));return new Ya(q,ae=>As(A,ae))})).apply(this,arguments)}function Cu(){return(Cu=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b),q=yield Na(A.auth,g,(0,z.m9)(E));return new Ya(q,ae=>Jo(A,ae))})).apply(this,arguments)}function Na(b,g,E){return go.apply(this,arguments)}function go(){return go=(0,a.Z)(function*(b,g,E){var A;const q=yield E.verify();try{let ae;if(J("string"==typeof q,b,"argument-error"),J(E.type===Dt,b,"argument-error"),ae="string"==typeof g?{phoneNumber:g}:g,"session"in ae){const ft=ae.session;if("phoneNumber"in ae)return J("enroll"===ft.type,b,"internal-error"),(yield function yl(b,g){return Pt(b,"POST","/v2/accounts/mfaEnrollment:start",xt(b,g))}(b,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{J("signin"===ft.type,b,"internal-error");const jt=(null===(A=ae.multiFactorHint)||void 0===A?void 0:A.uid)||ae.multiFactorUid;return J(jt,b,"missing-multi-factor-info"),(yield function Kr(b,g){return Pt(b,"POST","/v2/accounts/mfaSignIn:start",xt(b,g))}(b,{mfaPendingCredential:ft.credential,mfaEnrollmentId:jt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield function Ut(b,g){return rn.apply(this,arguments)}(b,{phoneNumber:ae.phoneNumber,recaptchaToken:q});return ft}}finally{E._reset()}}),go.apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(b,g){yield so((0,z.m9)(b),g)})).apply(this,arguments)}let sl=(()=>{class b{constructor(E){this.providerId=b.PROVIDER_ID,this.auth=xr(E)}verifyPhoneNumber(E,A){return Na(this.auth,E,(0,z.m9)(A))}static credential(E,A){return ji._fromVerification(E,A)}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:A,temporaryProof:q}=E;return A&&q?ji._fromTokenResponse(A,q):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Yo(b,g){return g?Ke(g):(J(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class wa extends si{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return yi(g,this._buildIdpRequest())}_linkToIdToken(g,E){return yi(g,this._buildIdpRequest(E))}_getReauthenticationResolver(g){return yi(g,this._buildIdpRequest())}_buildIdpRequest(g){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(E.idToken=g),E}}function Os(b){return ss(b.auth,new wa(b),b.bypassAuthState)}function to(b){const{auth:g,user:E}=b;return J(E,g,"internal-error"),Ss(E,new wa(b),b.bypassAuthState)}function ol(b){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(b){const{auth:g,user:E}=b;return J(E,g,"internal-error"),so(E,new wa(b),b.bypassAuthState)})).apply(this,arguments)}class no{constructor(g,E,A,q,ae=!1){this.auth=g,this.resolver=A,this.user=q,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var g=this;return new Promise(function(){var E=(0,a.Z)(function*(A,q){g.pendingPromise={resolve:A,reject:q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ae){g.reject(ae)}});return function(A,q){return E.apply(this,arguments)}}())}onAuthEvent(g){var E=this;return(0,a.Z)(function*(){const{urlResponse:A,sessionId:q,postBody:ae,tenantId:ft,error:jt,type:wn}=g;if(jt)return void E.reject(jt);const $n={auth:E.auth,requestUri:A,sessionId:q,tenantId:ft||void 0,postBody:ae||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(wn)($n))}catch(Ir){E.reject(Ir)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return ol;case"reauthViaPopup":case"reauthViaRedirect":return to;default:ot(this.auth,"internal-error")}}resolve(g){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Il=new Je(2e3,1e4);function wl(){return(wl=(0,a.Z)(function*(b,g,E){const A=xr(b);Pe(b,g,or);const q=Yo(A,E);return new ka(A,"signInViaPopup",g,q).executeNotNull()})).apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b);Pe(A.auth,g,or);const q=Yo(A.auth,E);return new ka(A.auth,"reauthViaPopup",g,q,A).executeNotNull()})).apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b);Pe(A.auth,g,or);const q=Yo(A.auth,E);return new ka(A.auth,"linkViaPopup",g,q,A).executeNotNull()})).apply(this,arguments)}let ka=(()=>{class b extends no{constructor(E,A,q,ae,ft){super(E,A,ae,ft),this.provider=q,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var E=this;return(0,a.Z)(function*(){const A=yield E.execute();return J(A,E.auth,"internal-error"),A})()}onExecution(){var E=this;return(0,a.Z)(function*(){Fe(1===E.filter.length,"Popup operations only handle one event");const A=Jn();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],A),E.authWindow.associatedEvent=A,E.resolver._originValidation(E.auth).catch(q=>{E.reject(q)}),E.resolver._isIframeWebStorageSupported(E.auth,q=>{q||E.reject(et(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const E=()=>{var A,q;this.pollId=null!==(q=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Il.get())};E()}}return b.currentPopupAction=null,b})();const Ca="pendingRedirect",T=new Map;class x extends no{constructor(g,E,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,E=this;return(0,a.Z)(function*(){let A=T.get(E.auth._key());if(!A){try{const ae=(yield function w(b,g){return M.apply(this,arguments)}(E.resolver,E.auth))?yield g().call(E):null;A=()=>Promise.resolve(ae)}catch(q){A=()=>Promise.reject(q)}T.set(E.auth._key(),A)}return E.bypassAuthState||T.set(E.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var E=()=>super.onAuthEvent,A=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return E().call(A,g);if("unknown"!==g.type){if(g.eventId){const q=yield A.auth._redirectUserForId(g.eventId);if(q)return A.user=q,E().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function M(){return(M=(0,a.Z)(function*(b,g){const E=sn(g),A=At(b);if(!(yield A._isAvailable()))return!1;const q="true"===(yield A._get(E));return yield A._remove(E),q})).apply(this,arguments)}function V(b,g){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(b,g){return At(b)._set(sn(g),"true")})).apply(this,arguments)}function Ze(b,g){T.set(b._key(),g)}function At(b){return Ke(b._redirectPersistence)}function sn(b){return Ie(Ca,b.config.apiKey,b.name)}function Mn(b,g,E){return function In(b,g,E){return F.apply(this,arguments)}(b,g,E)}function F(){return(F=(0,a.Z)(function*(b,g,E){const A=xr(b);Pe(b,g,or),yield A._initializationPromise;const q=Yo(A,E);return yield V(q,A),q._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function U(b,g,E){return function ee(b,g,E){return De.apply(this,arguments)}(b,g,E)}function De(){return(De=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b);Pe(A.auth,g,or),yield A.auth._initializationPromise;const q=Yo(A.auth,E);yield V(q,A.auth);const ae=yield rr(A);return q._openRedirect(A.auth,g,"reauthViaRedirect",ae)})).apply(this,arguments)}function ht(b,g,E){return function _t(b,g,E){return Xt.apply(this,arguments)}(b,g,E)}function Xt(){return(Xt=(0,a.Z)(function*(b,g,E){const A=(0,z.m9)(b);Pe(A.auth,g,or),yield A.auth._initializationPromise;const q=Yo(A.auth,E);yield Ds(!1,A,g.providerId),yield V(q,A.auth);const ae=yield rr(A);return q._openRedirect(A.auth,g,"linkViaRedirect",ae)})).apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(b,g){return yield xr(b)._initializationPromise,er(b,g,!1)})).apply(this,arguments)}function er(b,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(b,g,E=!1){const A=xr(b),q=Yo(A,g),ft=yield new x(A,q,E).execute();return ft&&!E&&(delete ft.user._redirectEventId,yield A._persistUserIfCurrent(ft.user),yield A._setRedirectUser(null,g)),ft})).apply(this,arguments)}function rr(b){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(b){const g=Jn(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Cl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let E=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(E=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function vs(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ni(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=g,E=!0)),E}sendToConsumer(g,E){var A;if(g.error&&!ni(g)){const q=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";E.onError(et(this.auth,q))}else E.onAuthEvent(g)}isEventForConsumer(g,E){const A=null===E.eventId||!!g.eventId&&g.eventId===E.eventId;return E.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jr(g))}saveEventToCache(g){this.cachedEventUids.add(jr(g)),this.lastProcessedEventTime=Date.now()}}function jr(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function ni({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Fo(b){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(b,g={}){return Pt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Qc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function Jc(){return(Jc=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Fo(b);for(const E of g)try{if($d(E))return}catch(A){}ot(b,"unauthorized-domain")})).apply(this,arguments)}function $d(b){const g=pt(),{protocol:E,hostname:A}=new URL(g);if(b.startsWith("chrome-extension://")){const ft=new URL(b);return""===ft.hostname&&""===A?"chrome-extension:"===E&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===E&&ft.hostname===A}if(!Du.test(E))return!1;if(Qc.test(b))return A===b;const q=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const ed=new Je(3e4,6e4);function Tu(){const b=qt().___jsl;if(null!=b&&b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let E=0;E<b.CP.length;E++)b.CP[E]=null}let Zu=null;const Mh=new Je(5e3,15e3),Rh="__/auth/iframe",Vd="emulator/auth/iframe",Jl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ud=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function as(b){const g=b.config;J(g.authDomain,b,"auth-domain-config-required");const E=g.emulator?W(g,Vd):`https://${b.config.authDomain}/${Rh}`,A={apiKey:g.apiKey,appName:b.name,v:Se.SDK_VERSION},q=Ud.get(b.config.apiHost);q&&(A.eid=q);const ae=b._getFrameworks();return ae.length&&(A.fw=ae.join(",")),`${E}?${(0,z.xO)(A).slice(1)}`}function _s(){return _s=(0,a.Z)(function*(b){const g=yield function td(b){return Zu=Zu||function Df(b){return new Promise((g,E)=>{var A,q,ae;function ft(){Tu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Tu(),E(et(b,"network-request-failed"))},timeout:ed.get()})}if(null!==(q=null===(A=qt().gapi)||void 0===A?void 0:A.iframes)&&void 0!==q&&q.Iframe)g(gapi.iframes.getContext());else{if(null===(ae=qt().gapi)||void 0===ae||!ae.load){const jt=ko("iframefcb");return qt()[jt]=()=>{gapi.load?ft():E(et(b,"network-request-failed"))},Wi(`https://apis.google.com/js/api.js?onload=${jt}`).catch(wn=>E(wn))}ft()}}).catch(g=>{throw Zu=null,g})}(b),Zu}(b),E=qt().gapi;return J(E,b,"internal-error"),g.open({where:document.body,url:as(b),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jl,dontclear:!0},A=>new Promise(function(){var q=(0,a.Z)(function*(ae,ft){yield A.restyle({setHideOnLeave:!1});const jt=et(b,"network-request-failed"),wn=qt().setTimeout(()=>{ft(jt)},Mh.get());function $n(){qt().clearTimeout(wn),ae(A)}A.ping($n).then($n,()=>{ft(jt)})});return function(ae,ft){return q.apply(this,arguments)}}()))}),_s.apply(this,arguments)}const Vi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nd=500,ll=600,hs="_blank",yo="http://localhost";class eu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}const Qu="__/auth/handler",tu="emulator/auth/handler";function bl(b,g,E,A,q,ae){J(b.config.authDomain,b,"auth-domain-config-required"),J(b.config.apiKey,b,"invalid-api-key");const ft={apiKey:b.config.apiKey,appName:b.name,authType:E,redirectUrl:A,v:Se.SDK_VERSION,eventId:q};if(g instanceof or){g.setDefaultLanguage(b.languageCode),ft.providerId=g.providerId||"",(0,z.xb)(g.getCustomParameters())||(ft.customParameters=JSON.stringify(g.getCustomParameters()));for(const[wn,$n]of Object.entries(ae||{}))ft[wn]=$n}if(g instanceof bi){const wn=g.getScopes().filter($n=>""!==$n);wn.length>0&&(ft.scopes=wn.join(","))}b.tenantId&&(ft.tid=b.tenantId);const jt=ft;for(const wn of Object.keys(jt))void 0===jt[wn]&&delete jt[wn];return`${function nu({config:b}){return b.emulator?W(b,tu):`https://${b.authDomain}/${Qu}`}(b)}?${(0,z.xO)(jt).slice(1)}`}const Fl="webStorageSupport",ru=class Hd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tr,this._completeRedirectFn=er,this._overrideRedirectResult=Ze}_openPopup(g,E,A,q){var ae=this;return(0,a.Z)(function*(){var ft;Fe(null===(ft=ae.eventManagers[g._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const jt=bl(g,E,A,pt(),q);return function Ji(b,g,E,A=nd,q=ll){const ae=Math.max((window.screen.availHeight-q)/2,0).toString(),ft=Math.max((window.screen.availWidth-A)/2,0).toString();let jt="";const wn=Object.assign(Object.assign({},Vi),{width:A.toString(),height:q.toString(),top:ae,left:ft}),$n=(0,z.z$)().toLowerCase();E&&(jt=Le($n)?hs:E),yt($n)&&(g=g||yo,wn.scrollbars="yes");const Ir=Object.entries(wn).reduce((qs,[Ta,hu])=>`${qs}${Ta}=${hu},`,"");if(function zn(b=(0,z.z$)()){var g;return Ht(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}($n)&&"_self"!==jt)return function jd(b,g){const E=document.createElement("a");E.href=b,E.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(A)}(g||"",jt),new eu(null);const mr=window.open(g||"",jt,Ir);J(mr,b,"popup-blocked");try{mr.focus()}catch(qs){}return new eu(mr)}(g,jt,Jn())})()}_openRedirect(g,E,A,q){var ae=this;return(0,a.Z)(function*(){return yield ae._originValidation(g),function Jt(b){qt().location.href=b}(bl(g,E,A,pt(),q)),new Promise(()=>{})})()}_initialize(g){const E=g._key();if(this.eventManagers[E]){const{manager:q,promise:ae}=this.eventManagers[E];return q?Promise.resolve(q):(Fe(ae,"If manager is not set, promise should be"),ae)}const A=this.initAndGetManager(g);return this.eventManagers[E]={promise:A},A.catch(()=>{delete this.eventManagers[E]}),A}initAndGetManager(g){var E=this;return(0,a.Z)(function*(){const A=yield function qa(b){return _s.apply(this,arguments)}(g),q=new Cl(g);return A.register("authEvent",ae=>(J(null==ae?void 0:ae.authEvent,g,"invalid-auth-event"),{status:q.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[g._key()]={manager:q},E.iframes[g._key()]=A,q})()}_isIframeWebStorageSupported(g,E){this.iframes[g._key()].send(Fl,{type:Fl},q=>{var ae;const ft=null===(ae=null==q?void 0:q[0])||void 0===ae?void 0:ae[Fl];void 0!==ft&&E(!!ft),ot(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const E=g._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Xc(b){return Jc.apply(this,arguments)}(g)),this.originValidationPromises[E]}get _shouldInitProactively(){return Ci()||hn()||Ht()}};class Pi{constructor(g){this.factorId=g}_process(g,E,A){switch(E.type){case"enroll":return this._finalizeEnroll(g,E.credential,A);case"signin":return this._finalizeSignIn(g,E.credential);default:return Xe("unexpected MultiFactorSessionType")}}}class ul extends Pi{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ul(g)}_finalizeEnroll(g,E,A){return function za(b,g){return Pt(b,"POST","/v2/accounts/mfaEnrollment:finalize",xt(b,g))}(g,{idToken:E,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,E){return function qu(b,g){return Pt(b,"POST","/v2/accounts/mfaSignIn:finalize",xt(b,g))}(g,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iu=(()=>{class b{constructor(){}static assertion(E){return ul._fromCredential(E)}}return b.FACTOR_ID="phone",b})();var Su="@firebase/auth";class Fa{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var E=this;return(0,a.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const E=this.auth.onIdTokenChanged(A=>{g((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,E),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const E=this.internalListeners.get(g);E&&(this.internalListeners.delete(g),E(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ps(){return window}(0,z.Pz)("authIdTokenMaxAge"),function Bl(b){(0,Se._registerComponent)(new de.wA("auth",(g,{options:E})=>{const A=g.getProvider("app").getImmediate(),q=g.getProvider("heartbeat"),{apiKey:ae,authDomain:ft}=A.options;return((jt,wn)=>{J(ae&&!ae.includes(":"),"invalid-api-key",{appName:jt.name}),J(!(null!=ft&&ft.includes(":")),"argument-error",{appName:jt.name});const $n={apiKey:ae,authDomain:ft,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ki(b)},Ir=new Ei(jt,wn,$n);return function je(b,g){const E=(null==g?void 0:g.persistence)||[],A=(Array.isArray(E)?E:[E]).map(Ke);null!=g&&g.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(Ir,E),Ir})(A,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,E,A)=>{g.getProvider("auth-internal").initialize()})),(0,Se._registerComponent)(new de.wA("auth-internal",g=>{const E=xr(g.getProvider("auth").getImmediate());return new Fa(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)(Su,"0.21.4",function Ll(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Se.registerVersion)(Su,"0.21.4","esm2017")}("Browser");const Au=2e3;function su(){return su=(0,a.Z)(function*(b,g,E){var A;const{BuildInfo:q}=Ps();Fe(g.sessionId,"AuthEvent did not contain a session ID");const ae=yield function Tc(b){return ec.apply(this,arguments)}(g.sessionId),ft={};return Ht()?ft.ibi=q.packageName:me()?ft.apn=q.packageName:ot(b,"operation-not-supported-in-this-environment"),q.displayName&&(ft.appDisplayName=q.displayName),ft.sessionId=ae,bl(b,E,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,ft)}),su.apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(b){const{BuildInfo:g}=Ps(),E={};Ht()?E.iosBundleId=g.packageName:me()?E.androidPackageName=g.packageName:ot(b,"operation-not-supported-in-this-environment"),yield Fo(b,E)})).apply(this,arguments)}function cl(){return(cl=(0,a.Z)(function*(b,g,E){const{cordova:A}=Ps();let q=()=>{};try{yield new Promise((ae,ft)=>{let jt=null;function wn(){var mr;ae();const qs=null===(mr=A.plugins.browsertab)||void 0===mr?void 0:mr.close;"function"==typeof qs&&qs(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function $n(){jt||(jt=window.setTimeout(()=>{ft(et(b,"redirect-cancelled-by-user"))},Au))}function Ir(){"visible"===(null==document?void 0:document.visibilityState)&&$n()}g.addPassiveListener(wn),document.addEventListener("resume",$n,!1),me()&&document.addEventListener("visibilitychange",Ir,!1),q=()=>{g.removePassiveListener(wn),document.removeEventListener("resume",$n,!1),document.removeEventListener("visibilitychange",Ir,!1),jt&&window.clearTimeout(jt)}})}finally{q()}})).apply(this,arguments)}function ec(){return(ec=(0,a.Z)(function*(b){const g=function ba(b){if(Fe(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),E=new Uint8Array(g);for(let A=0;A<b.length;A++)E[A]=b.charCodeAt(A);return E}(b),E=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(E)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const La=20;class sd extends Cl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(g)),super.onEvent(g)}initialized(){var g=this;return(0,a.Z)(function*(){yield g.initPromise})()}}function ou(b){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,a.Z)(function*(b){const g=yield ad()._get(ld(b));return g&&(yield ad()._remove(ld(b))),g})).apply(this,arguments)}function tc(){const b=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<La;E++){const A=Math.floor(Math.random()*g.length);b.push(g.charAt(A))}return b.join("")}function ad(){return Ke(Vt)}function ld(b){return Ie("authEvent",b.config.apiKey,b.name)}function $l(b){if(null==b||!b.includes("?"))return{};const[g,...E]=b.split("?");return(0,z.zd)(E.join("?"))}const nc=class Vl{constructor(){this._redirectPersistence=Tr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=er,this._overrideRedirectResult=Ze}_initialize(g){var E=this;return(0,a.Z)(function*(){const A=g._key();let q=E.eventManagers.get(A);return q||(q=new sd(g),E.eventManagers.set(A,q),E.attachCallbackListeners(g,q)),q})()}_openPopup(g){ot(g,"operation-not-supported-in-this-environment")}_openRedirect(g,E,A,q){var ae=this;return(0,a.Z)(function*(){!function Dc(b){var g,E,A,q,ae,ft,jt,wn,$n,Ir;const mr=Ps();J("function"==typeof(null===(g=null==mr?void 0:mr.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(E=null==mr?void 0:mr.BuildInfo)||void 0===E?void 0:E.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(ae=null===(q=null===(A=null==mr?void 0:mr.cordova)||void 0===A?void 0:A.plugins)||void 0===q?void 0:q.browsertab)||void 0===ae?void 0:ae.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(wn=null===(jt=null===(ft=null==mr?void 0:mr.cordova)||void 0===ft?void 0:ft.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===wn?void 0:wn.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Ir=null===($n=null==mr?void 0:mr.cordova)||void 0===$n?void 0:$n.InAppBrowser)||void 0===Ir?void 0:Ir.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ft=yield ae._initialize(g);yield ft.initialized(),ft.resetRedirect(),function oe(){T.clear()}(),yield ae._originValidation(g);const jt=function Tl(b,g,E=null){return{type:g,eventId:E,urlResponse:null,sessionId:tc(),postBody:null,tenantId:b.tenantId,error:et(b,"no-auth-event")}}(g,A,q);yield function Sc(b,g){return ad()._set(ld(b),g)}(g,jt);const wn=yield function zd(b,g,E){return su.apply(this,arguments)}(g,jt,E),$n=yield function xu(b){const{cordova:g}=Ps();return new Promise(E=>{g.plugins.browsertab.isAvailable(A=>{let q=null;A?g.plugins.browsertab.openUrl(b):q=g.InAppBrowser.open(b,function xn(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),E(q)})})}(wn);return function id(b,g,E){return cl.apply(this,arguments)}(g,ft,$n)})()}_isIframeWebStorageSupported(g,E){throw new Error("Method not implemented.")}_originValidation(g){const E=g._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function rd(b){return bc.apply(this,arguments)}(g)),this.originValidationPromises[E]}attachCallbackListeners(g,E){const{universalLinks:A,handleOpenURL:q,BuildInfo:ae}=Ps(),ft=setTimeout((0,a.Z)(function*(){yield ou(g),E.onEvent(rc())}),500),jt=function(){var Ir=(0,a.Z)(function*(mr){clearTimeout(ft);const qs=yield ou(g);let Ta=null;qs&&null!=mr&&mr.url&&(Ta=function od(b,g){var E,A;const q=function au(b){const g=$l(b),E=g.link?decodeURIComponent(g.link):void 0,A=$l(E).link,q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return $l(q).link||q||A||E||b}(g);if(q.includes("/__/auth/callback")){const ae=$l(q),ft=ae.firebaseError?function es(b){try{return JSON.parse(b)}catch(g){return null}}(decodeURIComponent(ae.firebaseError)):null,jt=null===(A=null===(E=null==ft?void 0:ft.code)||void 0===E?void 0:E.split("auth/"))||void 0===A?void 0:A[1],wn=jt?et(jt):null;return wn?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:q,postBody:null}}return null}(qs,mr.url)),E.onEvent(Ta||rc())});return function(qs){return Ir.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,jt);const wn=q,$n=`${ae.packageName.toLowerCase()}://`;Ps().handleOpenURL=function(){var Ir=(0,a.Z)(function*(mr){if(mr.toLowerCase().startsWith($n)&&jt({url:mr}),"function"==typeof wn)try{wn(mr)}catch(qs){console.error(qs)}});return function(mr){return Ir.apply(this,arguments)}}()}};function rc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:et("no-auth-event")}}const ud=1e3;function lu(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function Za(b=(0,z.z$)()){return!("file:"!==lu()&&"ionic:"!==lu()&&"capacitor:"!==lu()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function ic(){try{const b=self.localStorage,g=Jn();if(b)return b.setItem(g,"1"),b.removeItem(g),!function gi(b=(0,z.z$)()){return function xc(){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Es(b=(0,z.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,z.hl)()}catch(b){return uu()&&(0,z.hl)()}return!1}function uu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Da(){return(function Wd(){return"http:"===lu()||"https:"===lu()}()||(0,z.ru)()||Za())&&!function Ru(){return(0,z.b$)()||(0,z.UG)()}()&&ic()&&!uu()}function Ou(){return Za()&&typeof document<"u"}function cu(){return(cu=(0,a.Z)(function*(){return!!Ou()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},ud);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const vo={LOCAL:"local",NONE:"none",SESSION:"session"},ro=J,Lo="persistence";function dl(b){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,a.Z)(function*(b){yield b._initializationPromise;const g=xl(),E=Ie(Lo,b.config.apiKey,b.name);g&&g.setItem(E,b._getPersistence())})).apply(this,arguments)}function xl(){var b;try{return(null===(b=function Ul(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch(g){return null}}const Nu=J;class Bo{constructor(){this.browserResolver=Ke(ru),this.cordovaResolver=Ke(nc),this.underlyingResolver=null,this._redirectPersistence=Tr,this._completeRedirectFn=er,this._overrideRedirectResult=Ze}_initialize(g){var E=this;return(0,a.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,E,A,q){var ae=this;return(0,a.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openPopup(g,E,A,q)})()}_openRedirect(g,E,A,q){var ae=this;return(0,a.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openRedirect(g,E,A,q)})()}_isIframeWebStorageSupported(g,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,E)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ou()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,a.Z)(function*(){if(g.underlyingResolver)return;const E=yield function Zo(){return cu.apply(this,arguments)}();g.underlyingResolver=E?g.cordovaResolver:g.browserResolver})()}}function da(b){return b.unwrap()}function Kd(b){return Mc(b)}function Mc(b){const{_tokenResponse:g}=b instanceof z.ZR?b.customData:b;if(!g)return null;if(!(b instanceof z.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return sl.credentialFromResult(b);const E=g.providerId;if(!E||E===Ve.PASSWORD)return null;let A;switch(E){case Ve.GOOGLE:A=Go;break;case Ve.FACEBOOK:A=Xs;break;case Ve.GITHUB:A=ps;break;case Ve.TWITTER:A=ga;break;default:const{oauthIdToken:q,oauthAccessToken:ae,oauthTokenSecret:ft,pendingToken:jt,nonce:wn}=g;return ae||ft||q||jt?jt?E.startsWith("saml.")?Gr._create(E,jt):mt._fromParams({providerId:E,signInMethod:E,pendingToken:jt,idToken:q,accessToken:ae}):new br(E).credential({idToken:q,accessToken:ae,rawNonce:wn}):null}return b instanceof z.ZR?A.credentialFromError(b):A.credentialFromResult(b)}function ha(b,g){return g.catch(E=>{throw E instanceof z.ZR&&function Yd(b,g){var E;const A=null===(E=g.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===(null==g?void 0:g.code))g.resolver=new qd(b,function li(b,g){var E;const A=(0,z.m9)(b),q=g;return J(g.customData.operationType,A,"argument-error"),J(null===(E=q.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,A,"argument-error"),nl._fromError(A,q)}(b,g));else if(A){const q=Mc(g),ae=g;q&&(ae.credential=q,ae.tenantId=A.tenantId||void 0,ae.email=A.email||void 0,ae.phoneNumber=A.phoneNumber||void 0)}}(b,E),E}).then(E=>{const q=E.user;return{operationType:E.operationType,credential:Kd(E),additionalUserInfo:ya(E),user:$o.getOrCreate(q)}})}function ku(b,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(b,g){const E=yield g;return{verificationId:E.verificationId,confirm:A=>ha(b,E.confirm(A))}})).apply(this,arguments)}class qd{constructor(g,E){this.resolver=E,this.auth=function jl(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return ha(da(this.auth),this.resolver.resolveSignIn(g))}}class $o{constructor(g){this._delegate=g,this.multiFactor=function aa(b){const g=(0,z.m9)(b);return No.has(g)||No.set(g,oa._fromUser(g)),No.get(g)}(g)}static getOrCreate(g){return $o.USER_MAP.has(g)||$o.USER_MAP.set(g,new $o(g)),$o.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var E=this;return(0,a.Z)(function*(){return ha(E.auth,As(E._delegate,g))})()}linkWithPhoneNumber(g,E){var A=this;return(0,a.Z)(function*(){return ku(A.auth,function Pa(b,g,E){return il.apply(this,arguments)}(A._delegate,g,E))})()}linkWithPopup(g){var E=this;return(0,a.Z)(function*(){return ha(E.auth,function ca(b,g,E){return _i.apply(this,arguments)}(E._delegate,g,Bo))})()}linkWithRedirect(g){var E=this;return(0,a.Z)(function*(){return yield dl(xr(E.auth)),ht(E._delegate,g,Bo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var E=this;return(0,a.Z)(function*(){return ha(E.auth,Jo(E._delegate,g))})()}reauthenticateWithPhoneNumber(g,E){return ku(this.auth,function kl(b,g,E){return Cu.apply(this,arguments)}(this._delegate,g,E))}reauthenticateWithPopup(g){return ha(this.auth,function Bs(b,g,E){return Ks.apply(this,arguments)}(this._delegate,g,Bo))}reauthenticateWithRedirect(g){var E=this;return(0,a.Z)(function*(){return yield dl(xr(E.auth)),U(E._delegate,g,Bo)})()}sendEmailVerification(g){return function Rr(b,g){return Wn.apply(this,arguments)}(this._delegate,g)}unlink(g){var E=this;return(0,a.Z)(function*(){return yield function Js(b,g){return bs.apply(this,arguments)}(E._delegate,g),E})()}updateEmail(g){return function na(b,g){return ma((0,z.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function Va(b,g){return ma((0,z.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Cc(b,g){return Xi.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function lo(b,g){return uo.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,E){return function Or(b,g,E){return Bi.apply(this,arguments)}(this._delegate,g,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$o.USER_MAP=new WeakMap;const hl=J;let du=(()=>{class b{constructor(E,A){if(this.app=E,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=E.options;hl(q,"invalid-api-key",{appName:E.name}),hl(q,"invalid-api-key",{appName:E.name});const ae=typeof window<"u"?Bo:void 0;this._delegate=A.initialize({options:{persistence:Oc(q,E.name),popupRedirectResolver:ae}}),this._delegate._updateErrorMap(lt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$o.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,A){!function Yi(b,g,E){const A=xr(b);J(A._canInitEmulator,A,"emulator-config-failed"),J(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const q=!(null==E||!E.disableWarnings),ae=Zn(g),{host:ft,port:jt}=function Xr(b){const g=Zn(b),E=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!E)return{host:"",port:null};const A=E[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const ae=q[1];return{host:ae,port:Nr(A.substr(ae.length+1))}}{const[ae,ft]=A.split(":");return{host:ae,port:Nr(ft)}}}(g);A.config.emulator={url:`${ae}//${ft}${null===jt?"":`:${jt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ft,port:jt,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function mi(){function b(){const g=document.createElement("p"),E=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,E,A)}applyActionCode(E){return function ea(b,g){return ta.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return Zr(this._delegate,E)}confirmPasswordReset(E,A){return function zo(b,g,E){return $a.apply(this,arguments)}(this._delegate,E,A)}createUserWithEmailAndPassword(E,A){var q=this;return(0,a.Z)(function*(){return ha(q._delegate,function Wt(b,g,E){return fr.apply(this,arguments)}(q._delegate,E,A))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function _n(b,g){return Gn.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function y(b,g){const E=Qs.parseLink(g);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,a.Z)(function*(){hl(Da(),E._delegate,"operation-not-supported-in-this-environment");const A=yield function kn(b,g){return An.apply(this,arguments)}(E._delegate,Bo);return A?ha(E._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function Mu(b,g){xr(b)._logFramework(g)}(this._delegate,E)}onAuthStateChanged(E,A,q){const{next:ae,error:ft,complete:jt}=fl(E,A,q);return this._delegate.onAuthStateChanged(ae,ft,jt)}onIdTokenChanged(E,A,q){const{next:ae,error:ft,complete:jt}=fl(E,A,q);return this._delegate.onIdTokenChanged(ae,ft,jt)}sendSignInLinkToEmail(E,A){return function f(b,g,E){return I.apply(this,arguments)}(this._delegate,E,A)}sendPasswordResetEmail(E,A){return function ds(b,g,E){return nr.apply(this,arguments)}(this._delegate,E,A||void 0)}setPersistence(E){var A=this;return(0,a.Z)(function*(){let q;switch(function Al(b,g){ro(Object.values(vo).includes(g),b,"invalid-persistence-type"),(0,z.b$)()?ro(g!==vo.SESSION,b,"unsupported-persistence-type"):(0,z.UG)()?ro(g===vo.NONE,b,"unsupported-persistence-type"):uu()?ro(g===vo.NONE||g===vo.LOCAL&&(0,z.hl)(),b,"unsupported-persistence-type"):ro(g===vo.NONE||ic(),b,"unsupported-persistence-type")}(A._delegate,E),E){case vo.SESSION:q=Tr;break;case vo.LOCAL:q=(yield Ke(Wo)._isAvailable())?Wo:Vt;break;case vo.NONE:q=xe;break;default:return ot("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return ha(this._delegate,function bo(b){return ns.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return ha(this._delegate,Dr(this._delegate,E))}signInWithCustomToken(E){return ha(this._delegate,function Ro(b,g){return oo.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,A){return ha(this._delegate,function j(b,g,E){return Dr((0,z.m9)(b),Fr.credential(g,E))}(this._delegate,E,A))}signInWithEmailLink(E,A){return ha(this._delegate,function P(b,g,E){return Q.apply(this,arguments)}(this._delegate,E,A))}signInWithPhoneNumber(E,A){return ku(this._delegate,function Oa(b,g,E){return wu.apply(this,arguments)}(this._delegate,E,A))}signInWithPopup(E){var A=this;return(0,a.Z)(function*(){return hl(Da(),A._delegate,"operation-not-supported-in-this-environment"),ha(A._delegate,function bu(b,g,E){return wl.apply(this,arguments)}(A._delegate,E,Bo))})()}signInWithRedirect(E){var A=this;return(0,a.Z)(function*(){return hl(Da(),A._delegate,"operation-not-supported-in-this-environment"),yield dl(A._delegate),Mn(A._delegate,E,Bo)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function ao(b,g){return Po.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=vo,b})();function fl(b,g,E){let A=b;"function"!=typeof b&&({next:A,error:g,complete:E}=b);const q=A;return{next:ft=>q(ft&&$o.getOrCreate(ft)),error:g,complete:E}}function Oc(b,g){const E=function Er(b,g){const E=xl();if(!E)return[];const A=Ie(Lo,b,g);switch(E.getItem(A)){case vo.NONE:return[xe];case vo.LOCAL:return[Wo,Tr];case vo.SESSION:return[Tr];default:return[]}}(b,g);if(typeof self<"u"&&!E.includes(Wo)&&E.push(Wo),typeof window<"u")for(const A of[Vt,Tr])E.includes(A)||E.push(A);return E.includes(xe)||E.push(xe),E}class sc{constructor(){this.providerId="phone",this._delegate=new sl(da(te.Z.auth()))}static credential(g,E){return sl.credential(g,E)}verifyPhoneNumber(g,E){return this._delegate.verifyPhoneNumber(g,E)}unwrap(){return this._delegate}}sc.PHONE_SIGN_IN_METHOD=sl.PHONE_SIGN_IN_METHOD,sc.PROVIDER_ID=sl.PROVIDER_ID;const Ns=J;class Pc{constructor(g,E,A=te.Z.app()){var q;Ns(null===(q=A.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Rs(g,E,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qo(b){b.INTERNAL.registerComponent(new de.wA("auth-compat",g=>{const E=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new du(E,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pe_EMAIL_SIGNIN,PASSWORD_RESET:pe_PASSWORD_RESET,RECOVER_EMAIL:pe_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:pe_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:pe_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:pe_VERIFY_EMAIL}},EmailAuthProvider:Fr,FacebookAuthProvider:Xs,GithubAuthProvider:ps,GoogleAuthProvider:Go,OAuthProvider:br,SAMLAuthProvider:oi,PhoneAuthProvider:sc,PhoneMultiFactorGenerator:iu,RecaptchaVerifier:Pc,TwitterAuthProvider:ga,Auth:du,AuthCredential:si,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.3.4")}(te.Z)},8766:(cn,gt,$)=>{"use strict";$.d(gt,{Lj:()=>ot,X3:()=>at});var a=$(5861);const te=(J,Xe)=>Xe.some(Fe=>J instanceof Fe);let z,Se;const de=new WeakMap,Ae=new WeakMap,Ve=new WeakMap,ge=new WeakMap,fe=new WeakMap;let Ue={get(J,Xe,Fe){if(J instanceof IDBTransaction){if("done"===Xe)return Ae.get(J);if("objectStoreNames"===Xe)return J.objectStoreNames||Ve.get(J);if("store"===Xe)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return _e(J[Xe])},set:(J,Xe,Fe)=>(J[Xe]=Fe,!0),has:(J,Xe)=>J instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in J};function Re(J){return"function"==typeof J?function St(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...Xe){return J.apply(le(this),Xe),_e(de.get(this))}:function(...Xe){return _e(J.apply(le(this),Xe))}:function(Xe,...Fe){const Ge=J.call(le(this),Xe,...Fe);return Ve.set(Ge,Xe.sort?Xe.sort():[Xe]),_e(Ge)}}(J):(J instanceof IDBTransaction&&function ke(J){if(Ae.has(J))return;const Xe=new Promise((Fe,Ge)=>{const Ke=()=>{J.removeEventListener("complete",it),J.removeEventListener("error",je),J.removeEventListener("abort",je)},it=()=>{Fe(),Ke()},je=()=>{Ge(J.error||new DOMException("AbortError","AbortError")),Ke()};J.addEventListener("complete",it),J.addEventListener("error",je),J.addEventListener("abort",je)});Ae.set(J,Xe)}(J),te(J,function Me(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,Ue):J)}function _e(J){if(J instanceof IDBRequest)return function pe(J){const Xe=new Promise((Fe,Ge)=>{const Ke=()=>{J.removeEventListener("success",it),J.removeEventListener("error",je)},it=()=>{Fe(_e(J.result)),Ke()},je=()=>{Ge(J.error),Ke()};J.addEventListener("success",it),J.addEventListener("error",je)});return Xe.then(Fe=>{Fe instanceof IDBCursor&&de.set(Fe,J)}).catch(()=>{}),fe.set(Xe,J),Xe}(J);if(ge.has(J))return ge.get(J);const Xe=Re(J);return Xe!==J&&(ge.set(J,Xe),fe.set(Xe,J)),Xe}const le=J=>fe.get(J);function at(J,Xe,{blocked:Fe,upgrade:Ge,blocking:Ke,terminated:it}={}){const je=indexedDB.open(J,Xe),pt=_e(je);return Ge&&je.addEventListener("upgradeneeded",tt=>{Ge(_e(je.result),tt.oldVersion,tt.newVersion,_e(je.transaction))}),Fe&&je.addEventListener("blocked",()=>Fe()),pt.then(tt=>{it&&tt.addEventListener("close",()=>it()),Ke&&tt.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),pt}function ot(J,{blocked:Xe}={}){const Fe=indexedDB.deleteDatabase(J);return Xe&&Fe.addEventListener("blocked",()=>Xe()),_e(Fe).then(()=>{})}const et=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Pe=new Map;function Oe(J,Xe){if(!(J instanceof IDBDatabase)||Xe in J||"string"!=typeof Xe)return;if(Pe.get(Xe))return Pe.get(Xe);const Fe=Xe.replace(/FromIndex$/,""),Ge=Xe!==Fe,Ke=Qe.includes(Fe);if(!(Fe in(Ge?IDBIndex:IDBObjectStore).prototype)||!Ke&&!et.includes(Fe))return;const it=function(){var je=(0,a.Z)(function*(pt,...tt){const we=this.transaction(pt,Ke?"readwrite":"readonly");let Ee=we.store;return Ge&&(Ee=Ee.index(tt.shift())),(yield Promise.all([Ee[Fe](...tt),Ke&&we.done]))[0]});return function(tt){return je.apply(this,arguments)}}();return Pe.set(Xe,it),it}!function lt(J){Ue=J(Ue)}(J=>({...J,get:(Xe,Fe,Ge)=>Oe(Xe,Fe)||J.get(Xe,Fe,Ge),has:(Xe,Fe)=>!!Oe(Xe,Fe)||J.has(Xe,Fe)}))},5861:(cn,gt,$)=>{"use strict";function a(z,Se,Me,Te,de,Ae,Ve){try{var ge=z[Ae](Ve),fe=ge.value}catch(pe){return void Me(pe)}ge.done?Se(fe):Promise.resolve(fe).then(Te,de)}function te(z){return function(){var Se=this,Me=arguments;return new Promise(function(Te,de){var Ae=z.apply(Se,Me);function Ve(fe){a(Ae,Te,de,Ve,ge,"next",fe)}function ge(fe){a(Ae,Te,de,Ve,ge,"throw",fe)}Ve(void 0)})}}$.d(gt,{Z:()=>te})}},cn=>{cn(cn.s=5061)}]);